<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.32">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Thomas E. Gorman">
<title>Study 1 Analysis – Representation Study</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./study2.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2486e1f0a3ee9ee1fc393803a1361cdb.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-bb594cf559d6c7be5da8d399972e3a16.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<link rel="stylesheet" href="assets/style_qt.css">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./study1.html">Analysis</a></li><li class="breadcrumb-item"><a href="./study1.html">Study 1 Analysis</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Representation Study</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/tegorman13/Representation_Study" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./study1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Study 1 Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./study2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Study 2 Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Results</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./misc/outlier.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Outliers and discrepancies</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./misc/indiv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Response Patterns</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./misc/discrep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrep_Patterns</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Background</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./study_stim.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Design and Stimulii</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./study_info.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">study 2 full info</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./initial_slides.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">MPA_Slides</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./study1_info.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">study 1 codebook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./study2_info.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">study 2 codebook</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="s1_hugo.md"><i class="bi bi-file-code"></i>CommonMark (hugo)</a></li><li><a href="s1_gfm.md"><i class="bi bi-file-code"></i>Github (GFM)</a></li></ul></div></div>
<!-- main -->
<main class="content column-body" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./study1.html">Analysis</a></li><li class="breadcrumb-item"><a href="./study1.html">Study 1 Analysis</a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Study 1 Analysis</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>


<div class="quarto-title-meta-author column-body">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://tegorman13.github.io/">Thomas E. Gorman</a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://web.ics.purdue.edu/~treimer/">
            Communication and Cognition Lab, Purdue University, USA
            </a>
          </p>
      </div>
  </div>

<div class="quarto-title-meta column-body">

      
  
    
  </div>
  


</header><div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/trinker/pacman">pacman</a></span><span class="op">)</span></span>
<span><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">dplyr</span>,<span class="va">purrr</span>,<span class="va">tidyr</span>,<span class="va">here</span>,<span class="va">haven</span>,<span class="va">tibble</span>,<span class="va">brms</span>,<span class="va">bayestestR</span>,<span class="va">emmeans</span>,<span class="va">tidybayes</span>,<span class="va">modelsummary</span>,</span>
<span>               <span class="va">ggplot2</span>,<span class="va">gt</span>,<span class="va">ggh4x</span>,<span class="va">lme4</span>,<span class="va">flextable</span>,<span class="va">kableExtra</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>digits<span class="op">=</span><span class="fl">2</span>, scipen<span class="op">=</span><span class="fl">999</span>, dplyr.summarise.inform<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">walk</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fun_plot"</span><span class="op">)</span>, <span class="op">~</span> <span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Scripts/"</span>, <span class="va">.x</span>, <span class="st">".R"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">theme_set</span><span class="op">(</span><span class="fu">theme_nice</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># s1 &lt;- haven::read_sav(here::here("data/data_qualtrics/Frequency &amp; Probability - 9-23-18_October 6, 2024_20.39.sav")) # length(unique(s1$ResponseId)) = 588</span></span>
<span><span class="co"># qd &lt;- unique(s1$ResponseId)</span></span>
<span></span>
<span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_spss.html">read_sav</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#gd &lt;- unique(s1$ResponseId)</span></span>
<span><span class="co"># gd %in% qd</span></span>
<span><span class="co"># qd %in% gd</span></span>
<span></span>
<span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="va">s1</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    state1 <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>      <span class="va">Colorado</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"Colorado"</span>,</span>
<span>      <span class="va">Massachusetts</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"Massachusetts"</span>,</span>
<span>      <span class="va">California</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"California"</span>,</span>
<span>      <span class="va">Texas</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"Texas"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span>,</span>
<span>    state2 <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>      <span class="va">Colorado</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"Colorado"</span>,</span>
<span>      <span class="va">Massachusetts</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"Massachusetts"</span>,</span>
<span>      <span class="va">California</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"California"</span>,</span>
<span>      <span class="va">Texas</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"Texas"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>refClass <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>  <span class="va">ReferenceClass</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"USD"</span>,</span>
<span>  <span class="va">ReferenceClass</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"kWh"</span>,</span>
<span>  <span class="va">ReferenceClass</span> <span class="op">==</span> <span class="fl">3</span> <span class="op">~</span> <span class="st">"Percentage"</span></span>
<span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">rename</span><span class="op">(</span>calc<span class="op">=</span><span class="va">MATH01</span><span class="op">)</span> <span class="op">|&gt;</span>  <span class="co"># replace NA's in calc with 0's</span></span>
<span>  <span class="fu">rename</span><span class="op">(</span>id2<span class="op">=</span><span class="va">ResponseId</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>id<span class="op">=</span><span class="fu">row_number</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">relocate</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>calc<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">calc</span><span class="op">)</span>,<span class="fl">0</span>,<span class="va">calc</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">relocate</span><span class="op">(</span><span class="va">refClass</span>,<span class="va">state1</span>,<span class="va">state2</span>,<span class="va">calc</span>, .after <span class="op">=</span> <span class="va">id</span><span class="op">)</span> </span>
<span></span>
<span></span>
<span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="va">s1</span> <span class="op">|&gt;</span> <span class="fu">rename</span><span class="op">(</span>edu<span class="op">=</span><span class="va">DEM04</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>edu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="va">edu</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"Some schooling, but no diploma or degree"</span>,</span>
<span>    <span class="va">edu</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"Highschool diploma or GED"</span>,</span>
<span>    <span class="va">edu</span> <span class="op">==</span> <span class="fl">3</span> <span class="op">~</span> <span class="st">"Some college"</span>,</span>
<span>    <span class="va">edu</span> <span class="op">==</span> <span class="fl">4</span> <span class="op">~</span> <span class="st">"College degree"</span>,</span>
<span>    <span class="va">edu</span> <span class="op">==</span> <span class="fl">5</span> <span class="op">~</span> <span class="st">"Some graduate school"</span>,</span>
<span>    <span class="va">edu</span> <span class="op">==</span> <span class="fl">6</span> <span class="op">~</span> <span class="st">"Graduate degree"</span>,</span>
<span>    <span class="va">edu</span> <span class="op">==</span> <span class="fl">7</span> <span class="op">~</span> <span class="st">"Choose not to answer"</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>  <span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">relocate</span><span class="op">(</span><span class="va">edu</span>, .after <span class="op">=</span> <span class="va">id</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># colnames(s1)</span></span>
<span><span class="co"># colnames(s1)[1000:1500]</span></span>
<span><span class="co"># colnames(s1)[1500:1843]</span></span>
<span></span>
<span><span class="co"># select all columns that start with "A"</span></span>
<span><span class="co"># s12 &lt;- s1 |&gt; select(id,state1,state2,refClass,calc,edu,starts_with("A")) |&gt; </span></span>
<span><span class="co">#   select(-starts_with("AIND"))</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span> </span>
<span> </span>
<span><span class="co"># </span></span>
<span><span class="co"># t &lt;- s12 |&gt; filter(state1=="Texas") |&gt; </span></span>
<span><span class="co">#   # select only columns that contain "TEX" in the name</span></span>
<span><span class="co">#   select(id,state1,state2,refClass,calc,edu,contains("TEX")) </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># t2 &lt;- s12 |&gt; filter(state2=="Texas") |&gt; </span></span>
<span><span class="co">#   select(id,state1,state2,refClass,calc,edu,contains("TEX"))</span></span>
<span><span class="co"># </span></span>
<span></span>
<span><span class="va">trim_na_and_empty_columns</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">df</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">select</span><span class="op">(</span><span class="fu">where</span><span class="op">(</span><span class="op">~</span><span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op">|</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">is.character</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/trimws.html">trimws</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">==</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="fu">starts_with</span><span class="op">(</span><span class="st">"AIND"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="co"># Create a list of trimmed datasets for each unique ID</span></span>
<span><span class="va">dAll</span> <span class="op">&lt;-</span> <span class="va">s1</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">group_split</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">map</span><span class="op">(</span><span class="va">trim_na_and_empty_columns</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">set_names</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">s1</span><span class="op">$</span><span class="va">id</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># modalities &lt;- c(A = "kWh", D = "USD", P = "Percentage")</span></span>
<span><span class="co"># states &lt;- c(CAL = "California", MASS = "Massachusetts", COL = "Colorado", TEX = "Texas")</span></span>
<span></span>
<span></span>
<span><span class="va">parse_action_plan</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="va">action_plan_cols</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="fu">matches</span><span class="op">(</span><span class="st">"01$|02$|03$|04$|05$|06$|33$|34$|35$|36$|37$"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">select</span><span class="op">(</span></span>
<span>      <span class="fu">matches</span><span class="op">(</span><span class="st">"^[ADP]\\d+(CAL|MASS|COL|TEX)\\d{2,3}$"</span><span class="op">)</span>, <span class="co">#,  # Select action plan columns</span></span>
<span>      <span class="op">-</span><span class="fu">matches</span><span class="op">(</span><span class="st">"32$"</span><span class="op">)</span>                                     <span class="co"># Exclude columns ending with '32'</span></span>
<span>    <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">df_long</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="fu">matches</span><span class="op">(</span><span class="st">"01$|02$|03$|04$|05$|06$"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">pivot_longer</span><span class="op">(</span></span>
<span>      cols <span class="op">=</span> <span class="fu">all_of</span><span class="op">(</span><span class="va">action_plan_cols</span><span class="op">)</span>,</span>
<span>      names_to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"modality"</span>, <span class="st">"state"</span>, <span class="st">"item_num"</span><span class="op">)</span>,</span>
<span>      names_pattern <span class="op">=</span> <span class="st">"^([ADP])\\d+(CAL|MASS|COL|TEX)(\\d+)$"</span>,</span>
<span>      values_to <span class="op">=</span> <span class="st">"value"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">select</span><span class="op">(</span><span class="va">id</span>,<span class="va">state1</span>,<span class="va">state2</span>,<span class="va">refClass</span>,<span class="va">calc</span>,<span class="va">edu</span>,<span class="va">modality</span>,<span class="va">state</span>,<span class="va">item_num</span>,<span class="va">value</span>,<span class="va">id2</span>,<span class="va">Duration__in_seconds_</span><span class="op">)</span> </span>
<span>  </span>
<span>  <span class="va">df_long</span> <span class="op">&lt;-</span> <span class="va">df_long</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    appliance <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>      <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"07"</span>,<span class="st">"08"</span>,<span class="st">"09"</span>,<span class="fl">7</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Cooling"</span>,</span>
<span>      <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fl">11</span><span class="op">:</span><span class="fl">14</span> <span class="op">~</span> <span class="st">"Heating"</span>,</span>
<span>      <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fl">15</span><span class="op">:</span><span class="fl">18</span> <span class="op">~</span> <span class="st">"Water Heating"</span>,</span>
<span>      <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fl">19</span><span class="op">:</span><span class="fl">22</span> <span class="op">~</span> <span class="st">"Refrigerator"</span>,</span>
<span>      <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fl">23</span><span class="op">:</span><span class="fl">26</span> <span class="op">~</span> <span class="st">"Other Appliance"</span>,</span>
<span>      <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fl">27</span><span class="op">:</span><span class="fl">30</span> <span class="op">~</span> <span class="st">"Total kWh"</span>,</span>
<span>      <span class="va">item_num</span> <span class="op">==</span> <span class="fl">31</span> <span class="op">~</span> <span class="st">"Preferred Plan"</span>,</span>
<span>      <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fl">33</span><span class="op">:</span><span class="fl">37</span> <span class="op">~</span> <span class="st">"Reduction Choices"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># item_type - family, state, plan1 or plan2</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>item_type<span class="op">=</span><span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"07"</span>,<span class="st">"11"</span>,<span class="st">"15"</span>,<span class="st">"19"</span>,<span class="st">"23"</span>,<span class="st">"27"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"family"</span>,</span>
<span>    <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"08"</span>,<span class="st">"12"</span>,<span class="st">"16"</span>,<span class="st">"20"</span>,<span class="st">"24"</span>,<span class="st">"28"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"state_avg"</span>,</span>
<span>    <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"09"</span>,<span class="st">"13"</span>,<span class="st">"17"</span>,<span class="st">"21"</span>,<span class="st">"25"</span>,<span class="st">"29"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"plan1"</span>,</span>
<span>    <span class="va">item_num</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"10"</span>,<span class="st">"14"</span>,<span class="st">"18"</span>,<span class="st">"22"</span>,<span class="st">"26"</span>,<span class="st">"30"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"plan2"</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"other"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># pivot family and state_avg into their own separate columns, plan1 and plan2 into a combined column called plan</span></span>
<span><span class="va">df_long</span> <span class="op">&lt;-</span> <span class="va">df_long</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">item_type</span> <span class="op">!=</span><span class="st">"other"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">item_num</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">pivot_wider</span><span class="op">(</span>names_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"item_type"</span><span class="op">)</span>, values_from <span class="op">=</span> <span class="va">value</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">pivot_longer</span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"plan1"</span>,<span class="st">"plan2"</span><span class="op">)</span>, names_to <span class="op">=</span> <span class="st">"plan"</span>, values_to <span class="op">=</span> <span class="st">"value"</span><span class="op">)</span> </span>
<span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">test</span> <span class="op">&lt;-</span> <span class="va">dAll</span> <span class="op">|&gt;</span> <span class="co"># map each item in dAll into parse function</span></span>
<span>  <span class="fu">map</span><span class="op">(</span><span class="va">parse_action_plan</span><span class="op">)</span> </span>
<span>  </span>
<span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu">bind_rows</span><span class="op">(</span><span class="va">test</span><span class="op">)</span></span>
<span></span>
<span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="va">s1</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>trial<span class="op">=</span><span class="fu">row_number</span><span class="op">(</span><span class="op">)</span>, block<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">trial</span><span class="op">&gt;=</span><span class="fl">12</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>, plan<span class="op">=</span><span class="fu">as_factor</span><span class="op">(</span><span class="va">plan</span><span class="op">)</span>,pct_goal<span class="op">=</span><span class="fl">.15</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">trial</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># for id R_1kFwgoKAmNTwCs3 - when state== TEX, appliance == Heating, check values of family column</span></span>
<span><span class="va">s1</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">id2</span><span class="op">==</span><span class="st">"R_1kFwgoKAmNTwCs3"</span> <span class="op">&amp;</span> <span class="va">state</span><span class="op">==</span><span class="st">"TEX"</span> <span class="op">&amp;</span> <span class="va">appliance</span><span class="op">==</span><span class="st">"Heating"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">select</span><span class="op">(</span><span class="va">family</span><span class="op">)</span> </span>
<span><span class="co"># for id R_1kFwgoKAmNTwCs3 - when state== TEX, appliance == Heating, set values of family column to 6118</span></span>
<span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="va">s1</span> <span class="op">|&gt;</span> <span class="fu">mutate</span><span class="op">(</span>family<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">id2</span><span class="op">==</span><span class="st">"R_1kFwgoKAmNTwCs3"</span> <span class="op">&amp;</span> <span class="va">state</span><span class="op">==</span><span class="st">"TEX"</span> <span class="op">&amp;</span> <span class="va">appliance</span><span class="op">==</span><span class="st">"Heating"</span>,<span class="fl">6118</span>,<span class="va">family</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="va">s1</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>change <span class="op">=</span> <span class="va">value</span><span class="op">-</span><span class="va">family</span>, </span>
<span>         state_p_dif <span class="op">=</span> <span class="va">value</span><span class="op">-</span><span class="va">state_avg</span>,</span>
<span>         state_f_dif<span class="op">=</span> <span class="va">family</span><span class="op">-</span><span class="va">state_avg</span>,</span>
<span>         less_avg <span class="op">=</span> <span class="va">value</span><span class="op">&lt;</span><span class="va">state_avg</span>,</span>
<span>         calc <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">calc</span> <span class="op">==</span> <span class="fl">0</span>, <span class="st">"No Calculator"</span>, <span class="st">"Used Calculator"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>value<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">saveRDS</a></span><span class="op">(</span><span class="va">s1</span>, <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/s1_processed.rds"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/s1_processed.rds"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">s1_agg</span> <span class="op">&lt;-</span> <span class="va">s1</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">appliance</span> <span class="op">!=</span><span class="st">"Total kWh"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span>,<span class="va">refClass</span>,<span class="va">state</span>,<span class="va">block</span>,<span class="va">plan</span>,<span class="va">calc</span>,<span class="va">edu</span>,<span class="va">pct_goal</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>total_kWh <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span>,orig_kWh<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">family</span><span class="op">)</span>, </span>
<span>            pct_change <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">orig_kWh</span><span class="op">-</span><span class="va">total_kWh</span><span class="op">)</span><span class="op">/</span><span class="va">orig_kWh</span>,<span class="fl">3</span><span class="op">)</span>, </span>
<span>            n_change <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">value</span><span class="op">!=</span><span class="va">family</span><span class="op">)</span>,</span>
<span>            state_p_dif<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">state_p_dif</span><span class="op">)</span>,</span>
<span>            state_f_dif<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">state_f_dif</span><span class="op">)</span>,</span>
<span>            n_less_avg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">less_avg</span><span class="op">)</span>,</span>
<span>            duration<span class="op">=</span><span class="fu">first</span><span class="op">(</span><span class="va">Duration__in_seconds_</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>matched_goal <span class="op">=</span> <span class="op">(</span><span class="va">pct_change</span> <span class="op">==</span> <span class="va">pct_goal</span><span class="op">)</span>, </span>
<span>             error <span class="op">=</span> <span class="va">pct_change</span> <span class="op">-</span> <span class="va">pct_goal</span>,</span>
<span>            abs_error <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="va">error</span><span class="op">)</span>,</span>
<span>            close_match <span class="op">=</span> <span class="va">abs_error</span> <span class="op">&lt;=</span> <span class="fl">0.02</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># s1_agg |&gt; filter(matched_goal==FALSE, abs_error&lt;.02) |&gt; pull(abs_error)</span></span>
<span></span>
<span></span>
<span><span class="va">s1_agg4</span> <span class="op">&lt;-</span> <span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span>,<span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>mg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matched_goal</span><span class="op">)</span>,n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span>, pct<span class="op">=</span><span class="va">mg</span><span class="op">/</span><span class="va">n</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">s1_agg2</span> <span class="op">&lt;-</span> <span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span>,<span class="va">refClass</span>,<span class="va">state</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>mg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matched_goal</span><span class="op">)</span>,n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span>, pct<span class="op">=</span><span class="va">mg</span><span class="op">/</span><span class="va">n</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">outliers</span> <span class="op">&lt;-</span> <span class="va">s1_agg</span> <span class="op">|&gt;</span>  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">state</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">mutate</span><span class="op">(</span>change_mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">pct_change</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,change_sd<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">pct_change</span>,na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>                                     z_score<span class="op">=</span><span class="op">(</span><span class="va">pct_change</span><span class="op">-</span><span class="va">change_mean</span><span class="op">)</span><span class="op">/</span><span class="va">change_sd</span>,</span>
<span>                                     is_outlier<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="va">z_score</span><span class="op">)</span><span class="op">&gt;</span><span class="fl">3.0</span><span class="op">)</span></span>
<span><span class="va">outlier_id</span> <span class="op">&lt;-</span> <span class="va">outliers</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">is_outlier</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">pull</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co"># plot frequency dist of values of n_change</span></span>
<span><span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">n_change</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">'dodgerblue4'</span>,width<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="study1_files/figure-html/unnamed-chunk-3-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="study1_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># examine relationship between n_change and whether goal was matched</span></span>
<span><span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">n_change</span>,fill<span class="op">=</span><span class="va">matched_goal</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>position<span class="op">=</span><span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Relationship between # of changes and whether goal was matched"</span>,</span>
<span>       x<span class="op">=</span><span class="st">"# of changes"</span>,</span>
<span>       y<span class="op">=</span><span class="st">"Count"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_brewer</span><span class="op">(</span>palette<span class="op">=</span><span class="st">"Set2"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="study1_files/figure-html/unnamed-chunk-3-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="study1_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># alternative way to examine the relationship, not a plot</span></span>
<span><span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">n_change</span>,<span class="va">matched_goal</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">summarise</span><span class="op">(</span>n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">tab_header</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Relationship between # of changes and whether goal was matched"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="hjdiyrbtvd" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hjdiyrbtvd table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hjdiyrbtvd thead, #hjdiyrbtvd tbody, #hjdiyrbtvd tfoot, #hjdiyrbtvd tr, #hjdiyrbtvd td, #hjdiyrbtvd th {
  border-style: none;
}

#hjdiyrbtvd p {
  margin: 0;
  padding: 0;
}

#hjdiyrbtvd .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hjdiyrbtvd .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hjdiyrbtvd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hjdiyrbtvd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hjdiyrbtvd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hjdiyrbtvd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hjdiyrbtvd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hjdiyrbtvd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hjdiyrbtvd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hjdiyrbtvd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hjdiyrbtvd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hjdiyrbtvd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hjdiyrbtvd .gt_spanner_row {
  border-bottom-style: hidden;
}

#hjdiyrbtvd .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hjdiyrbtvd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hjdiyrbtvd .gt_from_md > :first-child {
  margin-top: 0;
}

#hjdiyrbtvd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hjdiyrbtvd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hjdiyrbtvd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hjdiyrbtvd .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hjdiyrbtvd .gt_row_group_first td {
  border-top-width: 2px;
}

#hjdiyrbtvd .gt_row_group_first th {
  border-top-width: 2px;
}

#hjdiyrbtvd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hjdiyrbtvd .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hjdiyrbtvd .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hjdiyrbtvd .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hjdiyrbtvd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hjdiyrbtvd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hjdiyrbtvd .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hjdiyrbtvd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hjdiyrbtvd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hjdiyrbtvd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hjdiyrbtvd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hjdiyrbtvd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hjdiyrbtvd .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hjdiyrbtvd .gt_left {
  text-align: left;
}

#hjdiyrbtvd .gt_center {
  text-align: center;
}

#hjdiyrbtvd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hjdiyrbtvd .gt_font_normal {
  font-weight: normal;
}

#hjdiyrbtvd .gt_font_bold {
  font-weight: bold;
}

#hjdiyrbtvd .gt_font_italic {
  font-style: italic;
}

#hjdiyrbtvd .gt_super {
  font-size: 65%;
}

#hjdiyrbtvd .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hjdiyrbtvd .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hjdiyrbtvd .gt_indent_1 {
  text-indent: 5px;
}

#hjdiyrbtvd .gt_indent_2 {
  text-indent: 10px;
}

#hjdiyrbtvd .gt_indent_3 {
  text-indent: 15px;
}

#hjdiyrbtvd .gt_indent_4 {
  text-indent: 20px;
}

#hjdiyrbtvd .gt_indent_5 {
  text-indent: 25px;
}

#hjdiyrbtvd .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#hjdiyrbtvd div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<th colspan="2" class="gt_heading gt_title gt_font_normal gt_bottom_border">Relationship between # of changes and whether goal was matched</th>
</tr>
<tr class="gt_col_headings even">
<th id="matched_goal" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">matched_goal</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row odd">
<td colspan="2" id="0" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">0</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_center" headers="0  matched_goal">FALSE</td>
<td class="gt_row gt_right" headers="0  n">9</td>
</tr>
<tr class="gt_group_heading_row odd">
<td colspan="2" id="1" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">1</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_center" headers="1  matched_goal">FALSE</td>
<td class="gt_row gt_right" headers="1  n">4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="1  matched_goal">TRUE</td>
<td class="gt_row gt_right" headers="1  n">5</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="2" id="2" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">2</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_center" headers="2  matched_goal">FALSE</td>
<td class="gt_row gt_right" headers="2  n">10</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="2  matched_goal">TRUE</td>
<td class="gt_row gt_right" headers="2  n">6</td>
</tr>
<tr class="gt_group_heading_row odd">
<td colspan="2" id="3" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">3</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_center" headers="3  matched_goal">FALSE</td>
<td class="gt_row gt_right" headers="3  n">3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="3  matched_goal">TRUE</td>
<td class="gt_row gt_right" headers="3  n">13</td>
</tr>
<tr class="gt_group_heading_row even">
<td colspan="2" id="4" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">4</td>
</tr>
<tr class="gt_row_group_first odd">
<td class="gt_row gt_center" headers="4  matched_goal">FALSE</td>
<td class="gt_row gt_right" headers="4  n">22</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="4  matched_goal">TRUE</td>
<td class="gt_row gt_right" headers="4  n">32</td>
</tr>
<tr class="gt_group_heading_row odd">
<td colspan="2" id="5" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">5</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_center" headers="5  matched_goal">FALSE</td>
<td class="gt_row gt_right" headers="5  n">743</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="5  matched_goal">TRUE</td>
<td class="gt_row gt_right" headers="5  n">161</td>
</tr>
</tbody>
</table>
</div>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s1</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">appliance</span> <span class="op">!=</span><span class="st">"Total kWh"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">state</span>, <span class="va">appliance</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>family<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">family</span><span class="op">)</span>,state_avg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">state_avg</span><span class="op">)</span>,dif<span class="op">=</span><span class="va">family</span><span class="op">-</span><span class="va">state_avg</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 5
# Groups:   state [4]
   state appliance       family state_avg   dif
   &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;
 1 CAL   Cooling          2581      1289  1292 
 2 CAL   Heating          6157      5597   560 
 3 CAL   Other Appliance  7608      6916   692 
 4 CAL   Refrigerator     1266      1055   211 
 5 CAL   Water Heating    5062.     4600.  461.
 6 COL   Cooling           697       498   199 
 7 COL   Heating         17853.    16281. 1571.
 8 COL   Other Appliance  7982      6652  1330 
 9 COL   Refrigerator     1405.     1142   263.
10 COL   Water Heating   11667      5817. 5850.
11 MASS  Cooling           419       322    97 
12 MASS  Heating         26751     19108  7643 
13 MASS  Other Appliance  7350      6682   668 
14 MASS  Refrigerator     1230      1025   205 
15 MASS  Water Heating   10462.     5070  5392.
16 TEX   Cooling          6573      4249  2324 
17 TEX   Heating          6072.     5099   973.
18 TEX   Other Appliance  8440.     7883   557.
19 TEX   Refrigerator     2639      1318  1321 
20 TEX   Water Heating    5083.     4366.  717.</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s1</span> <span class="op">|&gt;</span> <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">mutate</span><span class="op">(</span>diff<span class="op">=</span><span class="va">family</span><span class="op">-</span><span class="va">state_avg</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">state</span>,<span class="va">appliance</span><span class="op">)</span> <span class="op">|&gt;</span>  <span class="fu">summarize</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">diff</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 3
# Groups:   state [4]
   state appliance       `min(diff)`
   &lt;chr&gt; &lt;chr&gt;                 &lt;dbl&gt;
 1 CAL   Cooling                1292
 2 CAL   Heating                 560
 3 CAL   Other Appliance         692
 4 CAL   Refrigerator            211
 5 CAL   Total kWh              3215
 6 CAL   Water Heating           460
 7 COL   Cooling                 199
 8 COL   Heating               -4970
 9 COL   Other Appliance        1330
10 COL   Refrigerator            228
# ℹ 14 more rows</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s1</span> <span class="op">|&gt;</span> <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">mutate</span><span class="op">(</span>diff<span class="op">=</span><span class="va">family</span><span class="op">-</span><span class="va">state_avg</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">state</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">diff</span><span class="op">&lt;</span><span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">select</span><span class="op">(</span><span class="va">id</span>,<span class="va">state1</span>,<span class="va">state2</span>,<span class="va">state</span>,<span class="va">appliance</span>,<span class="va">family</span>,<span class="va">state_avg</span>,<span class="va">plan</span>,<span class="va">value</span>,<span class="va">diff</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 10
# Groups:   state [3]
      id state1   state2 state appliance     family state_avg plan  value   diff
   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;          &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;fct&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1     1 Colorado Texas  TEX   Water Heating   5.26 4396      plan1   700 -4391.
 2     1 Colorado Texas  TEX   Water Heating   5.26 4396      plan2  4500 -4391.
 3     2 Colorado Texas  TEX   Water Heating   5.26 4396      plan1  4396 -4391.
 4     2 Colorado Texas  TEX   Water Heating   5.26 4396      plan2  4396 -4391.
 5     3 Colorado Texas  TEX   Water Heating   5.26 4396      plan1  4468 -4391.
 6     3 Colorado Texas  TEX   Water Heating   5.26 4396      plan2  4400 -4391.
 7     4 Colorado Texas  TEX   Water Heating   5.26 4396      plan1  1000 -4391.
 8     4 Colorado Texas  TEX   Water Heating   5.26 4396      plan2  1000 -4391.
 9     5 Colorado Texas  TEX   Water Heating   5.26 4396      plan1  3756 -4391.
10     5 Colorado Texas  TEX   Water Heating   5.26 4396      plan2  2987 -4391.
# ℹ 22 more rows</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># examine the relationship between n_less_avg (a value btw 0 and 5) and whether goal was matched</span></span>
<span><span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">n_less_avg</span>,fill<span class="op">=</span><span class="va">matched_goal</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>position<span class="op">=</span><span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">state</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Relationship between # of appliances changed to below state average and whether goal was matched"</span>,</span>
<span>       x<span class="op">=</span><span class="st">"# of appliances changed to below state average"</span>,</span>
<span>       y<span class="op">=</span><span class="st">"Count"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_x_continuous</span><span class="op">(</span>breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="study1_files/figure-html/unnamed-chunk-3-3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="study1_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="cell panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Calculator by Ref Class tallies</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">% of trials with matched goal</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">% change in plan</a></li>
</ul>
<div class="cell tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 11%">
<col style="width: 9%">
<col style="width: 18%">
<col style="width: 9%">
</colgroup>
<thead><tr class="header">
<th>calc</th>
<th></th>
<th>kWh</th>
<th>Percentage</th>
<th>USD</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>No Calculator</td>
<td>N</td>
<td>20</td>
<td>14</td>
<td>27</td>
</tr>
<tr class="even">
<td></td>
<td>% row</td>
<td>32.8</td>
<td>23.0</td>
<td>44.3</td>
</tr>
<tr class="odd">
<td>Used Calculator</td>
<td>N</td>
<td>60</td>
<td>64</td>
<td>67</td>
</tr>
<tr class="even">
<td></td>
<td>% row</td>
<td>31.4</td>
<td>33.5</td>
<td>35.1</td>
</tr>
<tr class="odd">
<td>All</td>
<td>N</td>
<td>80</td>
<td>78</td>
<td>94</td>
</tr>
<tr class="even">
<td></td>
<td>% row</td>
<td>31.7</td>
<td>31.0</td>
<td>37.3</td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<table class="caption-top table table-sm table-striped small">
<caption>% of trials where goal was matched</caption>
<colgroup>
<col style="width: 5%">
<col style="width: 18%">
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 16%">
</colgroup>
<thead><tr class="header">
<th></th>
<th>refClass</th>
<th>Mean</th>
<th>Median</th>
<th>Mode</th>
<th>sd</th>
<th>Histogram</th>
</tr></thead>
<tbody>
<tr class="odd">
<td></td>
<td>kWh</td>
<td>0.37</td>
<td>0.00</td>
<td>0.00</td>
<td>0.44</td>
<td>▇ ▁▁▃</td>
</tr>
<tr class="even">
<td></td>
<td>Percentage</td>
<td>0.21</td>
<td>0.00</td>
<td>0.00</td>
<td>0.35</td>
<td>▇▁▁ ▁</td>
</tr>
<tr class="odd">
<td></td>
<td>USD</td>
<td>0.09</td>
<td>0.00</td>
<td>0.00</td>
<td>0.27</td>
<td>▇ ▁</td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 9%">
</colgroup>
<thead><tr class="header">
<th></th>
<th>refClass</th>
<th>Mean</th>
<th>Median</th>
<th>Mode</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>pct_change</td>
<td>kWh</td>
<td>0.24</td>
<td>0.15</td>
<td>0.15</td>
</tr>
<tr class="even">
<td></td>
<td>Percentage</td>
<td>0.20</td>
<td>0.16</td>
<td>0.15</td>
</tr>
<tr class="odd">
<td></td>
<td>USD</td>
<td>0.27</td>
<td>0.21</td>
<td>0.16</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">plot_hist_condit</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">fcondit</span>,<span class="va">dat</span>,<span class="va">pvar</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">full_range</span> <span class="op">&lt;-</span> <span class="va">dat</span> <span class="op">|&gt;</span> <span class="fu">pull</span><span class="op">(</span><span class="op">{</span><span class="op">{</span><span class="va">pvar</span><span class="op">}</span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html">range</a></span><span class="op">(</span>na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">dat</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">refClass</span> <span class="op">==</span> <span class="va">fcondit</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">pvar</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_bar</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">'dodgerblue4'</span>,width<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="co">#+ coord_cartesian(xlim = full_range)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="va">s1_agg4</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>Mean<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">pct</span><span class="op">)</span>, Median<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">pct</span><span class="op">)</span>,Mode<span class="op">=</span><span class="fu">modeest</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/modeest/man/mlv.html">mlv</a></span><span class="op">(</span><span class="va">pct</span>,method<span class="op">=</span><span class="st">'mfv'</span><span class="op">)</span>, sd<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">pct</span><span class="op">)</span>, n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Distribution<span class="op">=</span><span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">rename</span><span class="op">(</span><span class="st">"Reference Class"</span><span class="op">=</span><span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span>  </span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tab_header</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Descriptive Statistics of % of trials with matched goal"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">text_transform</span><span class="op">(</span></span>
<span>    locations<span class="op">=</span><span class="fu">cells_body</span><span class="op">(</span>columns<span class="op">=</span><span class="st">'Distribution'</span><span class="op">)</span>,</span>
<span>    fn<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">column</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">map</span><span class="op">(</span><span class="va">column</span>,<span class="va">plot_hist_condit</span>,dat<span class="op">=</span><span class="va">s1_agg4</span>,pvar<span class="op">=</span><span class="st">'mg'</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>        <span class="fu">ggplot_image</span><span class="op">(</span>height<span class="op">=</span><span class="fu">px</span><span class="op">(</span><span class="fl">50</span><span class="op">)</span>,aspect_ratio<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="jpzoufgbrh" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jpzoufgbrh table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jpzoufgbrh thead, #jpzoufgbrh tbody, #jpzoufgbrh tfoot, #jpzoufgbrh tr, #jpzoufgbrh td, #jpzoufgbrh th {
  border-style: none;
}

#jpzoufgbrh p {
  margin: 0;
  padding: 0;
}

#jpzoufgbrh .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jpzoufgbrh .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jpzoufgbrh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jpzoufgbrh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jpzoufgbrh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jpzoufgbrh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jpzoufgbrh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jpzoufgbrh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jpzoufgbrh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jpzoufgbrh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jpzoufgbrh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jpzoufgbrh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jpzoufgbrh .gt_spanner_row {
  border-bottom-style: hidden;
}

#jpzoufgbrh .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jpzoufgbrh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jpzoufgbrh .gt_from_md > :first-child {
  margin-top: 0;
}

#jpzoufgbrh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jpzoufgbrh .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jpzoufgbrh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jpzoufgbrh .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jpzoufgbrh .gt_row_group_first td {
  border-top-width: 2px;
}

#jpzoufgbrh .gt_row_group_first th {
  border-top-width: 2px;
}

#jpzoufgbrh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jpzoufgbrh .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jpzoufgbrh .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jpzoufgbrh .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jpzoufgbrh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jpzoufgbrh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jpzoufgbrh .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jpzoufgbrh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jpzoufgbrh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jpzoufgbrh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jpzoufgbrh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jpzoufgbrh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jpzoufgbrh .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jpzoufgbrh .gt_left {
  text-align: left;
}

#jpzoufgbrh .gt_center {
  text-align: center;
}

#jpzoufgbrh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jpzoufgbrh .gt_font_normal {
  font-weight: normal;
}

#jpzoufgbrh .gt_font_bold {
  font-weight: bold;
}

#jpzoufgbrh .gt_font_italic {
  font-style: italic;
}

#jpzoufgbrh .gt_super {
  font-size: 65%;
}

#jpzoufgbrh .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jpzoufgbrh .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jpzoufgbrh .gt_indent_1 {
  text-indent: 5px;
}

#jpzoufgbrh .gt_indent_2 {
  text-indent: 10px;
}

#jpzoufgbrh .gt_indent_3 {
  text-indent: 15px;
}

#jpzoufgbrh .gt_indent_4 {
  text-indent: 20px;
}

#jpzoufgbrh .gt_indent_5 {
  text-indent: 25px;
}

#jpzoufgbrh .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jpzoufgbrh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<th colspan="7" class="gt_heading gt_title gt_font_normal gt_bottom_border">Descriptive Statistics of % of trials with matched goal</th>
</tr>
<tr class="gt_col_headings even">
<th id="Reference-Class" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Reference Class</th>
<th id="Mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Mean</th>
<th id="Median" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Median</th>
<th id="Mode" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Mode</th>
<th id="sd" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">sd</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="Distribution" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Distribution</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Reference Class">Percentage</td>
<td class="gt_row gt_right" headers="Mean">0.208</td>
<td class="gt_row gt_right" headers="Median">0</td>
<td class="gt_row gt_right" headers="Mode">0</td>
<td class="gt_row gt_right" headers="sd">0.35</td>
<td class="gt_row gt_right" headers="n">78</td>
<td class="gt_row gt_left" headers="Distribution"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAAH0CAYAAACuKActAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA9hAAAPYQGoP6dpAAAgAElEQVR4nO3df5Dfd2Hf+df7uyssCQvbQitjTCAmtklsbBoLkjQhlwKuU9v6rmpPdAHam/DD0NzFoZdx2+vlene+lkwzcTimx01aH6ExJG1mUO8w2rWdmCulvgwZppE75QJT4h6Q0hD8/X6FY9lGa2n1ed8fki86R3K09tf7ee93H48ZDd7vdyW/5s1Xaz313c/3mwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALCZjEajvzCZTC7te8esmUwmt0wmk+v73jFrxuPx60aj0eV975g1jz766I+Px+PFvnfMmsOHD3/Xo48+em3fO2bNaDT60fF4/Pa+d8yab37zm7smk8kP9r1j1ozH4zeORqN3971j1nzzm9/cPh6P39L3jllz+PDhq8fj8W211pf0vWWW1FrLaDS6qe8d0zLoe8AmcFOS7+t7xKyptf69ruv+q753zJpa648MBoMf6nvHrBkMBh+otf63fe+YNSdOnLhmMBjc0PeOWVNK+alSyj/se8es2bJly6trrfv73jFrSil/tZTyK33vmDVbtmy5IMl7+94xa2qtb0ny0ccee2xb31tmTSnljr43TItABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAbM9z1gM7j8Pb/2mQsX7+p7xky54r33JMl1Fy7eVXueMlOuvO3j+Q//9N3/Rd87AABgM/IMOgAAADRAoAMAAEADBDoAAAA0QKADAABAAwQ6AAAANECgAwAAQAMEOgAAADRAoAMAAEADBDoAAAA0QKADAABAAwQ6AAAANECgAwAAQAMEOgAAADRAoAMAAEADBDoAAAA0QKADAABAAwQ6AAAANECgAwAAQAMEOgAAADRAoAMAAEADBDoAAAA0QKADAABAAwQ6AAAANECgAwAAQAMEOgAAADRAoAMAAEADBDoAAAA0QKADAABAA+b7HvB8fO1rX9u6Y8eON/S941zUWr+r7w2wFqWU75lMJj/Y944Zc2Gt9XznOl211teVUl7tXKduodZ6nnOdutfVWi9xrlN3aSll4Fynq9a6q9a6y7lOV631u5Ok67o3TiaTJ3ueMzO+/e1vlyQv2yiP19XV1a+94hWvGJ3t/g0Z6Dt37tz+9NNP7+t7xzn6vr4HwFp0Xben1npe3ztmSSnl4lLK1q7rNsrXrY3ie5LsqrU61ykqpbwmyXaP16l7RSnle5zr1F05GAwGznXqzi+lvMq5TtdgMLim1ppa60211qf73jMrBoNBkixslMfr/Pz8p5LMVqBfcMEF307y833vOBej0ejnk/xY3zvgXJVSPrmwsPAbfe+YJePx+A211p27d+/eEF+3NorRaHRTkqt27979y31vmSXj8Xh3KeWChYUFj9cpGo/H1yV5p68D0zWZTD5Ya73OuU7XeDy+JIn/bk3ZZDK5PckNc3Nzf3/nzp2P971nVtRay2Qy+cFZeby6Bh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAECHQAAABog0AEAAKABAh0AAAAaINABAACgAQIdAAAAGiDQAQAAoAHz6/0v3Lt376WllD/Ys2fPjjvvvLNLkn379l3Vdd3Hk1xZa/3Etm3b7jhw4MCx9d4GAAAAfVnXZ9BvvPHG85J8Msn2Z24bDofbu657qNb6zq1bt+4c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kitrrZ/Ytm3bHQcOHDi2XtsAAACgb+vyDPpwONxeSvnc3Nzc2/fs2bOj1vqRUspDScpwONzedd1DtdZ3bt26dedgMPj60aNHP7QeuwAAAKAV6/UM+tWllAP33nvv1++9994keWA4HL52//79L11ZWfnhJJ9cXl5+JEn2799/98rKyjjJB5LUM/1i3/jGN7Zt3779zeu0/QWptV7e9wZYo9cfPnz4L/c9YpbUWncl2eFcp6vW+v211tc41+nquu7SWus25zpdpZTLu67zeJ2yWutlpZSBc526nV3XXeJcp6vW+r1J0nXdWw4fPvxU33tmxbe//e2SZOdGebzWWr+8a9euPzrb/WU9xzxj375913dd9/eXlpZ+eDgc/lySI0tLSx975v7hcLhaSrno4MGDT5zp53/rW9+6bG5u7qvrNvgFuuK99/Q9Ac7ZIx97V98TAABgVr1vYWHhV89257pdg54kt9xyy8tXV1d/seu6lya5PklKKYMkq8/61LKystKd7dc5evToH+/YseOHXsSpU1NrfVeSn+57B5yrwWBwZ631t/reMWP+567rXjYYDG7re8gsqbX+cCnlsiT/rO8tM+bna61vKqXc0veQGfO6WuuPl1L+l76HzJifTvLOJP9Z30NmSa11V631ZweDwf/Y95ZZUmvdn+SOUsr1SZ7se8+sKKWUrus+Ukq5ve8t52J1dfVrz3X/ugX6cDh8x+rq6vtPnDjxN+6///4/OO2uLyV56zMfLC4u7qi1Pvnggw+e9ds+LrvsspUkX3gR507NaDR6W98bYC1qrf/Prl27NsTvr41iPB7/SZKBc52u0Wj08iRzCwsLznWKxuPxuJTytMfrdI3H4+NJrnWu0zWZTIa11s7Xgekaj8eXlFImHq/TNZlM3lRrzWAw+L2dO3c+3veeWVFrLZPJ5MisPF7XJdBvvvnm1yZ519LS0lvzrOvKjx8//vn5+fnfvPXWWz987bXXPvrwww/fXkr58HrsAgAAgFasS6CXUt6W5IbhcPj06bc//fTTFz3wwANHbr755uuPHz/+mUOHDn13kv/tiSee+DvrsQsAAABasS6Bvry8/NEkHz3b/ffdd9+hJK9fjy0AAADQonV5H3QAAADguQl0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAbM9z3g+XjssccuXF1dfV/fO85FrfVH+94Aa1FrvXk8Hl/S944Z89pSyvbxePy3+x4yS0op31trvXg8Hpe+t8ySUso1SS7weJ2uUsqltdbvd65T90NJ5p3rdNVaX1ZKucq5Tt0PJ0mt9QPj8Xil7zGz4vDhwyXJqzfK47Xrut+++OKLv3i2+zdkoB89evTY/Pz8/933jnNRa7267w2wRt+otW6I318bRSnliVprkjjX6dqapPN4na5Syttqrcec63TVWo8OBoNXdV3nXKfrulJK51ynq5SyM8mP+DowdZclyerq6pdLKU/1PWZW1FpLkqeyQf6cNT8//9hz3r9eQ6bpla985XeS/FbfO87FaDS6ru8NsBallC8uLCxsiN9fG8V4PP7ZJCd2797tXKdoNBoNSilHnet0jcfjnyilvM7Xgekaj8fX1Vq/2+N1uiaTyZtrrZ1zna5T30l3k3OdrslkcnmtNVu2bPk/d+7c+Xjfe2ZFrbVMJpO/NSv/3XINOgAAADRAoAMAAEADBDoAAAA0QKADAABAAwQ6AAAANGBDvoo7AADw4rnivff8tQsX7/prfe+YJZe/59ee+cc/uXDxrj6nzJSL9v1yHvnYuz7b945p8Qw6AAAANECgAwAAQAMEOgAAADRAoAMAAEADBDoAAAA0QKADAABAAwQ6AAAANMD7oAOwYV3x3nvuunDxLm8mO0VXvPeeJMmFi3fVfpfMlivee08e+di7PtT3DgDa5hl0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABowHzfA4C2XP6eX/v1Cxfv+vW+d8ySK957T5LkwsW7ar9LZsuVt3287wkAAFPlGXQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABoQOl7wKwbjUY/f+VtH/+FvncAAADMokc+9q7PLiwsvK3vHdPgGXQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGCHQAAABogEAHAACABgh0AAAAaIBABwAAgAYIdAAAAGiAQAcAAIAGzPc9IEn27dt3Vdd1H09yZa31E9u2bbvjwIEDx/reBQAAAOul92fQh8Ph9q7rHqq1vnPr1q07B4PB148ePfqhvncBAADAemrhGfQ3J/nk8vLyI0myf//+u1dWVsZJPpCknuknjMfjHUl+cv0mPn+11jf2vQEAAGCGvXI8Ht/W94hzUUr5nV27dv37s96/nmPOZDgc/lySI0tLSx877bbVUspFBw8efOJMP+db3/rWZXNzc19dt5EAAADwwr1vYWHhV892Z+/PoJdSBklWn33zyspKd7afc/HFF39jPB5f8uIum46u6/7mYDD4t0ke6nvLjHkwyX9K8p6+h8ySUso7SinHuq773/veMktKKb+R5MJa696+t8ySUsrbcvK1S/5x31tmyWAw+FCSH+267gf63jJL5ubmrum67tZa6//U95ZZMhgM/m6t9adrrd/d95ZZUmu9uJTyPyT5mb63zJLBYPCeWusvJHldrfVI33tmRSmlJPlkrXV/31vOxerq6nP+f997oCf5UpK3PvPB4uLijlrrkw8++OBTZ/sJpZTVJN9aj3Ev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" class="img-fluid" style="height:50px;"></td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Reference Class">USD</td>
<td class="gt_row gt_right" headers="Mean">0.093</td>
<td class="gt_row gt_right" headers="Median">0</td>
<td class="gt_row gt_right" headers="Mode">0</td>
<td class="gt_row gt_right" headers="sd">0.27</td>
<td class="gt_row gt_right" headers="n">94</td>
<td class="gt_row gt_left" headers="Distribution"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAAH0CAYAAACuKActAAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA9hAAAPYQGoP6dpAAAgAElEQVR4nO3df5TldX3n+ffn3mq6Gmx+dNftBjUaf4DaKBpbsyYxPxSCAfpWD73bGSXOBgHNJjLMeDDJrDs72zPBEzfIMh5PfhAlAcfEjDXZtF3VtGlzjEMyOJ6cwsQTTQyJIYkx9L23QBqwi66638/+Uc2mB7tIF1zq+6lvPx7ncKTut6p4+eXbl3rWrXsrAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFNJr9d7zWAweF7dO5pmMBhcORgMLql7R9P0+/2X9Xq9l9a9o2kOHTr0ln6/P1n3jqaZm5v7jkOHDl1U946m6fV639/v999a946m+cY3vjExGAz+p7p3NE2/339dr9d7R907muYb3/jG6f1+/01172iaubm5C/v9/nU559Pq3tIkOefU6/Uur3vHqLTqHnAKuDwiXlH3iKbJOf/bqqp+qu4dTZNz/r5Wq/WGunc0TavVuiHn/L/XvaNphsPhq1qt1qV172ialNKPp5R+vu4dTbNu3boX5Jx3172jaVJK/yyl9Et172iadevWnRUR19a9o2lyzm+KiI889NBDG+re0jQppRvr3jAqAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKMFb3gFPBS6/59c+cPXlz3TMa5fxr74iIeO3Zkzfnmqc0ygXX3Rl/+Wvv+Bd17wAAgFORR9ABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAq/Yq7pOTkz+Sc/6/I+JFEbF3fHz8X05NTT0cEbFz585tVVXdGREX5Jw/tmHDhhunpqaOrtY2AAAAqNuqPIL+lre8ZVPO+aPj4+M/sH379rNzzr8/Pz//yxER3W739Kqq7s45XzU+Pr6p1Wrdf+TIkVtWYxcAAACUYjV/xP1oRAz37NmTj/39Q8duf2NEfHJmZua+qamp4fr1629LKV0XEWkVtwEAAECtVi2Cu93u+yLi/cfenB8Ohy+66667Huh2u++JiMPT09O3H/e+iymlc/bt2/fIiT7X3Nzc84fD4YFVmD0KnQuuu3Nr3SPgZN13+9Vfzzl/s+4dTZJSemFEtHPOX6t7S5OklDbmnNdHxKDuLU2SUnpeSumMqqr+ou4tDbMhIs6KiAfqHtIkKaWtETGRc/5y3VuaJKU0FhHn5py/XveWJkkpbY6I8yLiz3LOw7r3NMyLIuKv6x5xMnLOe7Zu3frbyx1fleeg79ix49URcVVVVZte//rXPzw7O3t5u93+/Yh4RUqpFRGLT/qQND8/Xy33+RYWFo622+01cUecc94WEQKdNSOl9PWI+Ju6dzTM5pzzaSmlNXG/tYacl1I6KyL+vO4hDXO663X0Ukrn5JxfGBHO6wgd+zpyUzivo7YhpbQhnNdROz+W/tv1ZxGxUPeYhunEGrleW63WQ091fFUCPaX0gymlX9m/f/9D+/fvj4iY6Xa7n7r00kvPiKUT+eYn3ndycnJjzvnRgwcPPrbc5zv33HN7EfHWZ334CPR6vfdFxKvq3gEr8IudTufjdY9okn6/vz8iNnU6nTVxv7VW9Hq9y1NK2zqdzgfr3tIk/X7/oymliycmJlyvI9Tv918bEVd1Op331r2lSQaDwU055xvdv45Wv98/L+d8c6fTeXvdW5pkMBhcn3N+bavVumbTpk0P172nKXLOaTAY/F5T7gdW5TnoOec/yjm/67LLLjszIuKKK674/pTSlw4ePPjYwsLCPTnnd+7ateu8PXv2tCLi+pTSrauxCwAAAEqxKoE+MzPz+Yj4+bGxsXu63e6RVqv1kznnH46IOHDgwOGqqi5ZWFj4zOzs7OGcc+fw4cM3rcYuAAAAKMWq/R706enpT0TEJ050bP/+/bMR8crV2gIAAAClWc1fswYAAAAsQ6ADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAVLdA56Ofr9/XkT8Rt07TkbO+YUXXHfni+veASfrL3/tHV/JOR+qe0eTpJQuqqpqXUpptu4tTZJz3hwRZ6SU/rbuLQ3z8og4JyI+X/eQhtkYEVsj4i/rHtIwL46I74iI/1r3kIY5Lef80pTSV+oe0jDPj4jzI+IPImKx5i1N85qI+OO6R5ykWzqdzv7lDo6t5pJR6XQ6/xARb657x8no9Xrvi4j3170DVuDnO53Ox+se0ST9fn9/RGzqdDpr4n5rrej1epenlLZ1Op0P1r2lSfr9/kdTShdPTEy4Xkeo3++/NiKu6nQ67617S5MMBoObcs43un8drX6/f15K6eZOp/P2urc0yWAwuD7n/OF2u93dtGnTw3XvaYqccxoMBr/X6XQurnvLKPgRdwAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAowNhq/YOuvPLKzcPh8CM550tzzn8yNjb2v+7du/evIiJ27ty5raqqOyPigpzzxzZs2HDj1NTU0dXaBgAAAHVblUfQ9+zZ01pcXPzDqqp+ffv27WfmnG8YDoefjojodrunV1V1d875qvHx8U2tVuv+I0eO3LIauwAAAKAUq/II+he/+MWXp5T609PT0zMzMxERsxFx/rHDb4yIT87MzNwXEbF79+7b5ufn+xFxQ0TkE32+hx566OzhcPgTqzB9FH6g7gGwEjnnHYPB4Hl172iSnPNLUkobBoPBz9a9pWFelnPeOhgM2nUPaZiLIuIs1+vIPS/n/BrndeS+JyLGnNeR2xgR25zX0co5f++x//3Xg8Fgvu49TTE3N5ci4oVr5XodDoef3rp1658sdzytxogdO3ZcmVL6oZzzc1JKu1NK97RarXfv3bv3r7rd7nsi4vD09PTtT7x/t9tdTCmds2/fvkdO9PkeeOCBF7Xb7a+txvZROP/aO+qeACftvtuvrnsCAAA01Ts7nc5Hlzu4Ws9B3xgRVw2Hw+86cODAdTt37vye4XD43/fs2bP13nvvbUXE4pPeP83Pz1fLfbKtW7feHxHrnsW9I9Pv9/9NRPxc3TvgZKWUrt68efNv1L2jSQaDwb6I2DQxMfHGurc0yWAwuCyl9IrNmzf/P3VvaZK5ublfjYg3b968+aV1b2mSubm578o5v21iYuJn6t7SJHNzc/8h5/yeiYmJjXVvaZIHH3zwvJzzBzZv3vzjdW9pkrm5uZ/KOX9o/fr1Exs3bny47j0NkgaDwe9OTExcWveQk7Rs50asUqC32+1vDIfD3zpw4MDXIyI+9alP3dPtduOP//iPz4yIL0fEm59438nJyY0550cPHjz42HKfL6WU49ujvki9Xu8p/wVAgYYppTXx52ut6Pf7OeecndfR6vV6w4ionNfR6vf7VUrJ9Tpi/X7f9fosGAwGVUSE8zpa/X5/MSLcD4zYE9fr4uLionM7OjnnFA26XlflReJyzl9IKf3orl27zouI6Ha7r4+I3t69e7+5sLBwT875nbt27Tpvz549rYi4PqV062rsAgAAgFKsSqDv27fvkaqqLl5YWPitbrd7JCLeOzY29qaIiAMHDhyuquqShYWFz8zOzh7OOXcOHz5802rsAgAAgFKs2u9B379//59GxA8uc2w2Il65WlsAAACgNKvyCDoAAADw1AQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAcbqHvB0zM3NnZlz/hd17zgZOec31L0BVuiSwWBwVt0jGuaFEXH6YDB4d91DmiTnfGFK6VzndbSqqtqWUtrovI7cd0TEa5zXkXtdSqntvI5WVVVnpZQucF5H7gciIobD4TsHg8GRusc0xdzcXIqI56+V6zWl9PubN2/+ynLH12SgLywsDFNKD9S942S0Wq1H6t4AK/TwcDhcE3++1opWq/V4RKxzXkcrpfTcnPMZOWfndYTa7fa3ImLoeh2501ut1mNVVTmvI9Rutx/NOYfzOlqtVuvxnPO88zparVbrcERESunQcDj8Vt17miKllFqt1uNr5b9bOeen/ObMmgz0c88997GI+O26d5yMXq/3sro3wAr90datW9fEn6+1ot/vX5Nz3uS8jlav1zuSUtq2ZcsW53WE+v3+ZSmll7heR6vf7782IrY6r6M1GAy+KyKucF5Hq9/vn5dS+iH3r6M1GAzOyzlHq9XaNzEx8XDde5oi55wGg8FPNuV+wHPQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACrDSQP9/n+LY3mcyBAAAAE5lYyf5fj8eEe2IuDIirouI6knHt0TEm0a4CwAAAE4pJxvolx/3vpdHRH7S8fmIuGJUowAAAOBUc7KB/s+P/e/vR8SuZ2kLAAAAnLJONtCf8KaIOD0iXhARp53g+Jee8SIAAAA4Ba000H8wIj73FMfT058CAAAAp66Vvor7r8TSC8W1YynGn/wXAAAA8DSs9BH050bEp+LbXyQOAAAAeAZW+gj6pyLiec/GEAAAADiVrfQR9F+KpVdyf2dE/E18++9D/5tRjAIAAIBTzUoD/e6IWBdLkX4inocOAAAAT8NKA338WVkBAAAAp7iVBvqTf6QdAAAAGIGVBvp5/8Txf3i6QwAAAOBUttJA/5tYeg76cjwHHQAAAJ6Glf6atdNjKdCf+GtDRLw4IvZFxKtHOw0AAABOHSsN9MUn/TUfEX8dEW+LiA+PdhoAAACcOlYa6MuZj4jvGdHnAgAAgFPOSp+D/oL49ueZj0XEOyLi8yNZBAAAAKeglQb6X8aJXyTuKxFx2TOfAwAAAKemlQb66Se4LUfE8GQ/wY4dO56XUvqL7du3b9yzZ08VEbFz585tVVXdGREX5Jw/tmHDhhunpqaOrnAbAAAArFlP50XiTouIqyLiloj4uYi4JE4y9C+77LL1EfHJOC70u93u6VVV3Z1zvmp8fHxTq9W6/8iRI7escBcAAACsaSt9BP2ciLgvIv42Ij4bEWdHxEePHXtVRHzzKT42tdvtO6qqeke73f7qcbe/MSI+OTMzc19ExO7du2+bn5/vR8QNsfTo/LfJOY89+OCD565wey2qqjqr7g2wQpvm5uaeX/eIJsk5j0fEac7raOWcJyLiLOd1tKqqOiPnPOa8jtZwONyaUtrovI5WzvnMiEjO62hVVbUl53y68zpaOeezIyKqqnru3Nzcxrr3NMWDDz6YImL9WrleFxYWHjr33HMfW+74SgP9AxFxY0TcedxtPxkR10TEL0TEu5b7wG63e33O+Tfvuuuu+7rd7vGHLoyI2SfemJqaerTb7a6bnJx8zr59+x450ec6dOjQd7Tb7a+tcDtwEnLOH8o5f6juHU1UVdXf1b2hiXLO/7buDU3keh2tlJZeY7eqqmW/VuLpc72OXkopqqq6su4dTZRz/krOJ3wckmdgrdwPtNvtd8Y/Psj9bVYa6Lsj4t0nuP2OeIpAn5ycfF3O+YUzMzMfjie9CnxKqRVLPzr/P9w8Pz9fLTei3W4Pcs7vWMnwGu2IiP+57hGwAr+ac/ZbGUYopfSenPMZEXFT3VuaJOd8UavVem7O+dN1b2mSlNI7ImJbzvmn697SJCmlF+ac3xAR/7nuLU2SUtqVUvoR3/gYraqqzm61Wj8aEb9a95YmabVaF+ec355S+qmqqo7UvadBUkT8dCz1aPFSSvc81fGVBvpjEdGObw/qViw9N305b4uIf93tdm849r4xOzt7tNvtnh8RX46INz/xjpOTkxtzzo8ePHhw2Yf9O53OI7H0TYHi9Xq954ZAZw1JKf1Bp9P5eN07mqTf7++OiE1btmy5o+4tTdLr9S6PiG3O62j1+/03ppRe0Ol07qh7S5P0+/3XppQ2Oq+jNRgMXppz/mH3A6PV7/fPi4jXuV5HazAYPCci3t5qtX5zYmLi4br3NEXOOQ0Gg7c35XpdaaD/SkT8fET8bEQsHLutFUvfsfiN5T5o3759N8bSj8ZHRKRut1uNj4+vn5qaGl522WVzY2Njn9i1a9etF1100aF77733+pTSrSvcBQAAAGvaSl/F/RciYltEzMfSi8TNRMQjEfHjEfEzJ/k5ckTEhRdemCMiDhw4cLiqqksWFhY+Mzs7ezjn3Dl8+LAfAwUAAOCUstJH0Bci4kdiKdJfGxEbIuL9EfGFiFj2OeNPNj09naanp///t/fv3z8bEa9c4RYAAABojJUG+hO+GhFfOfb3rVhBnAMAAADfbqU/4r4+In4pIo4ed9vhiPg/Y+nF4wAAAICnYaWB/n9ExEREnH/cba+LiB+MiOtHNQoAAABONSv9EffrIuIlEXH87+3784iYjIg/jYgPjWgXAAAAnFJW+gh6ihM/3/zxiNj6zOcAAADAqWmlgf6RiPhgLD0X/QntWPo96P9lVKMAAADgVLPSH3G/KSL2x9LvQf9KRDwcEd8dEV+LiNePdhoAAACcOlYa6Ecj4ofjH38P+nhE/KuImA2/ag0AAACetqf7e9C/Ev/4e9ABAACAZ2ilz0EHAAAAngUCHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKINABAACgAAIdAAAACiDQAQAAoAACHQAAAAog0AEAAKAAAh0AAAAKMFb3gKcj59x66KGHNta942QsLCyM170BViLnfPqDDz54Vt07mqSqqrGIaDuvo7W4uHhGSmnceR2t4XB4WkS0nNfRWlxcfE5ErHdeRyvnvD7nHM7raA2HwzMjYp3zOlrD4XBDRETO+cwHH3yw7jmN8c1vfjNFxNhauV7POeecIymlo8sdX5OB3uv1Oq1W61fq3nEyWq3WBXVvgBV613A4vKzuEQ3z6ohYNxwO76h7SMNsjYiNw+Fwe91DmiSl9F055wnX68idnVJ6/nA4fH7dQ5okpfSKlJL71xHLOY+nlC50XkfuxRERVVX9ckQs1LylaV6xVq7XBx988Jci4jPLHV+Tgb5169ZDEXFl3TtORq/Xe19EvL/uHXCyUkr/cWJi4uN172iSfr+/P+e8acuWLWvifmut6PV6l+ect3U6nQ/WvaVJ+v3+R1NKF09MTLheR6jf7782Iq7qdDrvrXtLkwwGg5tyzjd2Oh3X6wj1+/3zIuLmTqfz9rq3NMlgMLg+5/zhdrv9Y5s2bXq47j1NkXNOg8Hg95pyP+A56AAAAFAAgQ4AAAAFEOgAAABQAIEOAAAABRDoAAAAUACBDgAAAAUQ6AAAAFAAgQ4AAAAFEOgAAABQAIEOAAAABRDoAAAAUACBDgAAAAUQ6AAAAFAAgQ4AAAAFEOgAAABQAIEOAAAABRDoAAAAUACBDgAAAAUQ6AAAAFAAgQ4AAAAFEOgAAABQAIEOAAAABRDoAAAAUACBDgAAAAUQ6AAAAFAAgQ4AAAAFEOgAAABQAIEOAAAABRDoAAAAUACBDgAAAAUQ6AAAAFAAgQ4AAAAFEOgAAABQAIEOAAAABRDoAAAAUACBDgAAAAUQ6AAAAFAAgQ4AAAAFEOgAAABQAIEOAAAABRDoAAAAUACBDgAAAAUQ6AAAAFAAgQ4AAAAFGFutf9COHTtenVK6LSJeFRF355yvm5mZ+fuIiJ07d26rqurOiLgg5/yxDRs23Dg1NXV0tbYBAABA3VblEfRut3t6Sulz7Xb7rdu3b9+Yc/5wSunuiEjdbvf0qqruzjlfNT4+vqnVat1/5MiRW1ZjFwAAAJRitR5BvzClNLV379779+7dGxFxoNvtvnj37t1nzM/Pf29EfHJmZua+iIjdu3ffNj8/34+IGyIir9I+AAAAqFWq4x+6c+fOS6qq+g/T09Pf2+123xMRh6enp29/4ni3211MKZ2zb9++R0708f1+/7yI+MRq7X2GXnD+tXe8qO4RcLLuu/3qP4+IQ3XvaJhXxdI3RL9Y95AmSSltqqrqjJTS39W9pWFeFhFnR8QX6h7SMM+JiK0R8Vd1D2mYF6WUnp9z/oO6hzRJSum0qqpeklL6s7q3NMzzIuKlEfHfImKx5i1N8+qI+JO6R5ykmzudzv7lDq7ac9AjIq688srNi4uLH6iq6oyIuCQiIqXUim+/QNP8/Hz1T3y6NXFR55z/qf8fUJphrJE/X2tFzjmnlHI4ryOVcx6mlFyvo/fEf7ec19EaxtK5dV5H6Livs5zXEaqqqp1Scr2OWEppmHOOWDqvzu1orZmvs/Kxi2A5qxbo3W73bYuLi+8aDoc/cdddd/3FcYe+HBFvfuKNycnJjTnnRw8ePPjYcp+r0+n8QxwL/NL1er33RcT7694BJyul9IGJiYmP172jSfr9/v6c86YtW7asifuttaLX612eUtrW6XQ+WPeWJun3+x9NKV08MTHheh2hfr//2oi4qtPpvLfuLU0yGAxuyjnf2Ol0XK8jdOynVW/udDpvr3tLkwwGg+sj4sPtdnvnpk2bHq57T1PknNNgMPi9ptwPrEqgX3HFFS+OiKunp6ffHE96XvnCwsI9Y2Njn9i1a9etF1100aF77733+pTSrauxCwAAAEqxKoGeUro4Ii7tdruPH3/7448/fs6BAwcOX3HFFZcsLCx8ZnZ29jsj4lcfeeSRn1mNXQAAAFCKVQn0mZmZj0TER5Y7vn///tmIeOVqbAEAAIASrcrvQQcAAACemkAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAqS6BzwdvV7v3JTSR+recZJeev61d7y87hFwsu67/eovRsTf172jYb47ItZFxH+re0jDbImIjRHxV3UPaZKU0kURMZFz/mzdWxrmrJzz81JKX6l7SJOklF6Wc35JRNxV95YmSSmtzzlvi4gv1r2lSVJK35lzfmVEfDoiFuve0zBviIj/XveIk9FqtT68efPmg8sdH1vNMaPS6XR6hw4demvdO05GSumnI+L/qnsHnKyc8y9WVfVbde9okrGxsd/OOZ8zHA7XxP3WWpFSektK6eVVVX2o7i1NMjY29osR8UOu19FKKb2m3W7/6OLi4vvq3tIkY2Nj/y4ibnC9jlZK6dxWq/X+4XB4bd1bmmTdunU/kXO+JSKuGQ6Hh+ve0xStViullGbWyv3AxMTE0ac6viYDPaVURcRjde84Gb1e7yn/BUBpWq3W41u2bFkTf77Win6/P8w5V+eee67zOkK9Xm8+pXTUeR2tfr+/mFLKzuto9fv9IznnBed1tAaDwUJEhPM6Wv1+/1sRsei8jtZgMDgaEdFut4tkjIEAAAonSURBVL/V6XSc2xHJOafBYDBsyvXqOegAAABQAIEOAAAABRDoAAAAUACBDgAAAAUQ6AAAAFAAgQ4AAAAFEOgAAABQAIEOAAAABRDoAAAAUACBDgAAAAUQ6AAAAFAAgQ4AAAAFEOgAAABQAIEOAAAABRDoAAAAUACBDgAAAAUQ6AAAAFAAgQ4AAAAFGKt7AAAAUJbzr73jx86evPnH6t7RJC+95tef+Ntvnj15c51TGuWcnR+M+26/+rN17xgVj6ADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFECgAwAAQAEEOgAAABRAoAMAAEABBDoAAAAUQKADAABAAcbqHgAAT9f5195x89mTN99c944mOf/aOyIi4uzJm3O9S5rl/GvviPtuv/qWuncAUDaPoAMAAEABBDoAAAAUQKADAABAAQQ6AAAAFMCLxAH/g5de8+v/6ezJm/9T3TuaxItuPTsuuO7OuicAAIyUR9ABAACgAAIdAAAACiDQAQAAoAACHQAAAAqQ6h7QdL1e730XXHfn++veAQAA0ET33X71ZzudzsV17xgFj6ADAABAAYr4NWs7d+7cVlXVnRFxQc75Yxs2bLhxamrqaN27AAAAYLXU/gh6t9s9vaqqu3POV42Pj29qtVr3Hzly5Ja6dwEAAMBqKuER9DdGxCdnZmbui4jYvXv3bfPz8/2IuCEi8ok+oN/vb4yIf756E5++nPPr6t4AAADQYM/t9/vX1T3iZKSU/nBiYuLPlz2+mmNOpNvtviciDk9PT99+3G2LKaVz9u3b98iJPuaBBx54Ubvd/tqqjQQAAIBn7p2dTuejyx2s/RH0lFIrIhaffPP8/Hy13Mds3br17/r9/nnP7rLRqKrqX7VarS9GxN11b2mYgxHx9Yi4pu4hTZJSeltK6WhVVb9d95YmSSl9PCLOzjnvqHtLk6SULo6l1y755bq3NEmr1bolIr6/qqrvrntLk7Tb7VdVVbUr5/zv697SJK1W69/knP+3nPN31r2lSXLOW1NK/y4i3l33liZptVrX5JzfHxEvyzkfrntPU6SUUkR8Mue8u+4tJ2NxcfEp/93XHugR8eWIePMTb0xOTm7MOT968ODBx5b7gJTSYkQ8sBrjnqler/dIq9V6cGJiYk3sXSv6/f5Cznl+y5YtzusI9Xq9h1NKR53X0er3+4/nnBec19Hq9XoPpZQecV5Hq9/vH0kpDZ3X0er3+8+NiMec19EaDAaPRkR2Xker3++niDjS6XSc1xEaDAaHIyLa7fahTZs2PVz3nqbIOafBYNCYr19rf5G4hYWFe3LO79y1a9d5e/bsaUXE9SmlW+veBQAAAKup9kA/cODA4aqqLllYWPjM7Ozs4Zxz5/DhwzfVvQsAAABWUwk/4h779++fjYhX1r0DAAAA6lL7I+gAAACAQAcAAIAiCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACCHQAAAAogEAHAACAAgh0AAAAKIBABwAAgAIIdAAAACiAQAcAAIACjNU9oOlSSl+rqmqu7h1Nk3P+fEqpV/eOpsk5/31ELNa9o2lSSvemlDbWvaNpWq3WoKqq++ve0UBfrqpqXd0jmibnfDil9NW6dzTQfRHxmbpHNM1pp532+MLCwpfq3tE0Oee/TSn97tGjR32tNWI55z+qewMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAsyXVPQBWaufOnduqqrozIi7IOX9sw4YNN05NTR2texc8lW63+6Gc8y/MzMz8fd1bYDk7dux4dUrptoh4VUTcnXO+zjVLodKOHTve22q1bsg5nxkR+8fGxv7l7/zO78zVPQyeyo4dO56XUvqL7du3b9yzZ09V9x7K06p7AKxEt9s9vaqqu3POV42Pj29qtVr3Hzly5Ja6d8Fy9uzZ07r88stfExHvHg6HvilKsbrd7ukppc+12+23bt++fWPO+cMppbvDN/MpULfb/b6U0usPHz58/vbt28+JiM8uLi5+sO5d8FQuu+yy9RHxyYg4ve4tlGus7gGwQm+MiE/OzMzcFxGxe/fu2+bn5/sRcUNE5FqXwQnMzs7e3W63v6/uHXASLkwpTe3du/f+vXv3RkQc6Ha7L969e/cZU1NTj9Y9Do43PT39hxHxhxERn/vc59KOHTuORkSv3lXwlFK73b6jqqp3tNvtr9Y9hnJ5BJ215sKImH3ijWNfNK6bnJx8Tn2TYHnT09NvnJ6eThHxpbq3wFOZnp7+o3379r3ribd37tx5cUR8XpxTsh07dvxQt9utUkq3jY2N/XLde2A53W73+oj4zbvuuuu+urdQNoHOmpJSaqWUFp988/z8vOfwULSUkmuUNeHKK6/c3O12P1JV1TURcUnde+CpzMzMfG58fHysqqp/NhwOvxCekkGBJicnXxcRL5yZmZmuewvlE+isNV+OpUfRIyJicnJyY0Q8evDgwcfqmwTQDN1u922Li4v/ZTgc3jw9PX3V9PT0t+reBCcyOTn5c91u97KIiKmpqeH+/ft/NyK2dLvdDTVPgxN5W0S8p9vtHu12uwsREbOzs0e73e6Lat5FgTwHnTVlYWHhnrGxsU/s2rXr1osuuujQvffee31K6da6dwGsdVdcccWLI+Lq6enpN4fX9KBwKaWZnPMHLr300rsPHjz4rW63O5lzvmdmZsY3lSjOvn37boyIG4+9mbrdbjU+Pr5+ampqWOcuyuQRdNaUAwcOHK6q6pKFhYXPzM7OHs45dw4fPnxT3bsA1rqU0sURcWm323382KM8R7vd7tFLL730jLq3wZN96lOf+kJETK1fv/6r3W734ZTSFWNjY1fUvQtOQo6IuPDCC30jFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKA0KSKORsQlEfGJiHg0Iu6OiBdHxHsi4usR8Q8R8e7jPmZ9RNwaEQ9FxJci4vKI+JOI2LZqqwEAAKBhUkTkiPjTiDgvIsYi4vZjt11/7O0tsRTxLz/2/v81It4fEadFxBkR8WvH3v/CVd4OAAAAjfFEoL/luNsui4jHI6J13G33RMT/EhGviIgjEdE+7thzQqADwLOi9U+/CwDQMF877u8XYulH26vjbqsiYl1EvCoiZiNieNyxR4+9PwAwYgIdAE49wye9XZ3wvZaef/7YCW4fG+0cACBCoAMAy/vriPieWPrR+CecGRHn1jMHAJpNoAMAy/lCLD0//V2x9DXDhoi4rdZFANBgAh0AWM5CRLwyIt4QSz/q/qcR8bGI+GZELNa4CwAAAE55Y7H0Ku5n1T0EAAAAThVnxtILyn13LD0PfV1E/GxEfLrOUQAAAHAqel0sBfnjEfGNiLgpll7dHQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeJb9f+KFwb+ISokZAAAAAElFTkSuQmCC" class="img-fluid" style="height:50px;"></td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Reference Class">kWh</td>
<td class="gt_row gt_right" headers="Mean">0.366</td>
<td class="gt_row gt_right" headers="Median">0</td>
<td class="gt_row gt_right" headers="Mode">0</td>
<td class="gt_row gt_right" headers="sd">0.44</td>
<td class="gt_row gt_right" headers="n">80</td>
<td class="gt_row gt_left" headers="Distribution"><img src="data:image/png;base64,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" class="img-fluid" style="height:50px;"></td>
</tr>
</tbody>
</table>
</div>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">abs_error</span><span class="op">&lt;</span><span class="fl">1</span><span class="op">)</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">refClass</span>, y <span class="op">=</span> <span class="va">abs_error</span>, fill <span class="op">=</span> <span class="va">refClass</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">labs</span><span class="op">(</span></span>
<span>        title <span class="op">=</span> <span class="st">"Absolute Error by Reference Class"</span>,</span>
<span>        x <span class="op">=</span> <span class="st">"Reference Class"</span>,</span>
<span>        y <span class="op">=</span> <span class="st">"Absolute Error"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="study1_files/figure-html/unnamed-chunk-5-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="study1_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">abs_error</span><span class="op">&lt;</span><span class="fl">1</span><span class="op">)</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">abs_error</span>, fill <span class="op">=</span> <span class="va">refClass</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_histogram</span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">0.05</span>, alpha <span class="op">=</span> <span class="fl">0.6</span>, position <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">labs</span><span class="op">(</span></span>
<span>        title <span class="op">=</span> <span class="st">"Distribution of Absolute Error by Reference Class"</span>,</span>
<span>        x <span class="op">=</span> <span class="st">"Absolute Error"</span>,</span>
<span>        y <span class="op">=</span> <span class="st">"Frequency"</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">refClass</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="study1_files/figure-html/unnamed-chunk-5-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="study1_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">m_zib</span> <span class="op">&lt;-</span> <span class="fu">brm</span><span class="op">(</span></span>
<span>  <span class="fu">bf</span><span class="op">(</span><span class="va">pct</span> <span class="op">~</span> <span class="va">refClass</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">id</span><span class="op">)</span>,</span>
<span>     <span class="va">zi</span> <span class="op">~</span> <span class="va">refClass</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">id</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  family <span class="op">=</span> <span class="fu">zero_inflated_beta</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">s1_agg4</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">m_bb</span> <span class="op">&lt;-</span> <span class="fu">brm</span><span class="op">(</span></span>
<span>  <span class="va">pct</span> <span class="op">~</span> <span class="va">refClass</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">id</span><span class="op">)</span>,</span>
<span>  family <span class="op">=</span> <span class="fu">beta_binomial</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">s1_agg4</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">m_bb</span> <span class="op">&lt;-</span> <span class="fu">brm</span><span class="op">(</span></span>
<span>    <span class="va">successes</span> <span class="op">|</span> <span class="fu">trials</span><span class="op">(</span><span class="fl">4</span><span class="op">)</span> <span class="op">~</span> <span class="va">refClass</span>,</span>
<span>    family <span class="op">=</span> <span class="fu">beta_binomial</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    data <span class="op">=</span> <span class="va">s1_agg4</span> <span class="op">|&gt;</span> </span>
<span>        <span class="fu">mutate</span><span class="op">(</span>successes <span class="op">=</span> <span class="va">pct</span> <span class="op">*</span> <span class="fl">4</span><span class="op">)</span>  <span class="co"># convert proportion back to count</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Regression Coefficients:</span></span>
<span><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># Intercept             -0.52      0.01    -0.55    -0.49 1.00     4003     3155</span></span>
<span><span class="co"># refClassPercentage    -0.73      0.02    -0.77    -0.69 1.00     3603     2648</span></span>
<span><span class="co"># refClassUSD           -1.74      0.02    -1.79    -1.69 1.00     3478     3007</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Further Distributional Parameters:</span></span>
<span><span class="co">#     Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># phi     0.33      0.00     0.33     0.34 1.00     3255     2429</span></span>
<span></span>
<span><span class="co"># &gt; m_bb |&gt; emmeans(~refClass, type="response")</span></span>
<span><span class="co">#  refClass   prob lower.HPD</span></span>
<span><span class="co">#  upper.HPD</span></span>
<span><span class="co">#  kWh        0.37      0.37      0.38</span></span>
<span><span class="co">#  Percentage 0.22      0.22      0.23</span></span>
<span><span class="co">#  USD        0.09      0.09      0.10</span></span>
<span></span>
<span></span>
<span><span class="va">m_bb</span> <span class="op">|&gt;</span> <span class="fu">emmeans</span><span class="op">(</span><span class="op">~</span><span class="va">refClass</span><span class="op">)</span></span>
<span><span class="va">m_bb</span> <span class="op">|&gt;</span> <span class="fu">emmeans</span><span class="op">(</span><span class="op">~</span><span class="va">refClass</span>, type<span class="op">=</span><span class="st">"response"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">m_bb_re</span> <span class="op">&lt;-</span> <span class="fu">brm</span><span class="op">(</span></span>
<span>    <span class="va">successes</span> <span class="op">|</span> <span class="fu">trials</span><span class="op">(</span><span class="fl">4</span><span class="op">)</span> <span class="op">~</span> <span class="va">refClass</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">id</span><span class="op">)</span>,</span>
<span>    family <span class="op">=</span> <span class="fu">beta_binomial</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    cores<span class="op">=</span><span class="fl">4</span>,</span>
<span>    data <span class="op">=</span> <span class="va">s1_agg4</span> <span class="op">|&gt;</span> </span>
<span>        <span class="fu">mutate</span><span class="op">(</span>successes <span class="op">=</span> <span class="va">pct</span> <span class="op">*</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">m_bb2</span> <span class="op">&lt;-</span> <span class="fu">brm</span><span class="op">(</span></span>
<span>    <span class="va">mg</span> <span class="op">|</span> <span class="fu">trials</span><span class="op">(</span><span class="fl">4</span><span class="op">)</span> <span class="op">~</span> <span class="fl">0</span><span class="op">+</span><span class="va">refClass</span>,</span>
<span>    family <span class="op">=</span> <span class="fu">beta_binomial</span><span class="op">(</span>link <span class="op">=</span> <span class="st">"identity"</span>, link_phi <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span>,</span>
<span>    chains<span class="op">=</span><span class="fl">2</span>,</span>
<span>    cores<span class="op">=</span><span class="fl">2</span>,</span>
<span>    data <span class="op">=</span> <span class="va">s1_agg4</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">m_bb3</span> <span class="op">&lt;-</span> <span class="fu">brm</span><span class="op">(</span></span>
<span>    <span class="va">mg</span> <span class="op">|</span> <span class="fu">trials</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">~</span> <span class="fl">0</span><span class="op">+</span><span class="va">refClass</span>,</span>
<span>    family <span class="op">=</span> <span class="fu">beta_binomial</span><span class="op">(</span>link <span class="op">=</span> <span class="st">"identity"</span>, link_phi <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span>,</span>
<span>    chains<span class="op">=</span><span class="fl">2</span>,</span>
<span>    cores<span class="op">=</span><span class="fl">2</span>,</span>
<span>    data <span class="op">=</span> <span class="va">s1_agg2</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Regression Coefficients:</span></span>
<span><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># refClasskWh            0.38      0.00     0.38     0.38 1.00     1900     1385</span></span>
<span><span class="co"># refClassPercentage     0.22      0.00     0.22     0.22 1.00     1868     1549</span></span>
<span><span class="co"># refClassUSD            0.09      0.00     0.09     0.10 1.00     2608     1328</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Further Distributional Parameters:</span></span>
<span><span class="co">#     Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># phi     0.17      0.00     0.17     0.18 1.00      813      940</span></span>
<span></span>
<span></span>
<span><span class="va">m_bb4</span> <span class="op">&lt;-</span> <span class="fu">brm</span><span class="op">(</span></span>
<span>    <span class="va">mg</span> <span class="op">|</span> <span class="fu">trials</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">~</span> <span class="va">refClass</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">id</span><span class="op">)</span>,</span>
<span>    family <span class="op">=</span> <span class="fu">beta_binomial</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    chains<span class="op">=</span><span class="fl">2</span>,</span>
<span>    cores<span class="op">=</span><span class="fl">2</span>,</span>
<span>    data <span class="op">=</span> <span class="va">s1_agg2</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">m_t1</span> <span class="op">&lt;-</span> <span class="fu">brm</span><span class="op">(</span><span class="va">matched_goal</span> <span class="op">~</span> <span class="va">refClass</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">id</span><span class="op">)</span>, family <span class="op">=</span> <span class="fu">bernoulli</span><span class="op">(</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">s1_agg</span><span class="op">)</span></span>
<span> <span class="va">m_t1</span> <span class="op">|&gt;</span> <span class="fu">emmeans</span><span class="op">(</span><span class="op">~</span><span class="va">refClass</span>, type<span class="op">=</span><span class="st">"response"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># </span></span>
<span><span class="co"># m_zib &lt;- brm(</span></span>
<span><span class="co">#   bf(pct ~ refClass + (1|id),</span></span>
<span><span class="co">#      zi ~ refClass + (1|id)),</span></span>
<span><span class="co">#   family = zero_inflated_beta(),</span></span>
<span><span class="co">#   iter=2000,</span></span>
<span><span class="co">#   cores=4,</span></span>
<span><span class="co">#   data = s1_agg4 |&gt; mutate( pct = ifelse(pct == 1, 0.999, ifelse(pct == 0, 0.001, pct)))</span></span>
<span><span class="co"># )</span></span>
<span><span class="co"># Multilevel Hyperparameters:</span></span>
<span><span class="co"># ~id (Number of levels: 242) </span></span>
<span><span class="co">#                  Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># sd(Intercept)        0.09      0.07     0.00     0.26 1.00     2164     1682</span></span>
<span><span class="co"># sd(zi_Intercept)     0.77      0.63     0.03     2.32 1.00     2846     1826</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Regression Coefficients:</span></span>
<span><span class="co">#                       Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># Intercept                -0.37      0.16    -0.67    -0.06 1.00     5376     2635</span></span>
<span><span class="co"># zi_Intercept             -8.17      3.46   -17.15    -3.80 1.00     2673     1375</span></span>
<span><span class="co"># refClassPercentage       -0.43      0.22    -0.87     0.00 1.00     5054     2984</span></span>
<span><span class="co"># refClassUSD              -0.69      0.21    -1.10    -0.28 1.00     4759     2772</span></span>
<span><span class="co"># zi_refClassPercentage    -0.04      4.78   -10.32    10.04 1.00     2037     1627</span></span>
<span><span class="co"># zi_refClassUSD            0.47      4.50    -8.53    10.19 1.00     2181     1665</span></span>
<span> </span>
<span> </span>
<span> </span>
<span> <span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span>,<span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>mg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matched_goal</span><span class="op">)</span>,n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span>, pct<span class="op">=</span><span class="va">mg</span><span class="op">/</span><span class="va">n</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>   <span class="fu">group_by</span><span class="op">(</span><span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>mean_pct<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">pct</span><span class="op">)</span>, sd_pct<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">pct</span><span class="op">)</span>, n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> </span>
<span> </span>
<span> </span>
<span> </span>
<span> <span class="va">post</span> <span class="op">&lt;-</span> <span class="fu">posterior_samples</span><span class="op">(</span><span class="va">m_t1</span><span class="op">)</span></span>
<span><span class="va">nsims</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span><span class="va">re_sims</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">nsims</span>, <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">post</span><span class="op">$</span><span class="va">sd_id__Intercept</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">pct_change</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_density</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill<span class="op">=</span><span class="va">state</span><span class="op">)</span>, alpha<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggdist</span><span class="fu">::</span><span class="fu"><a href="http://mjskay.github.io/ggdist/reference/stat_halfeye.html">stat_halfeye</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_rug</span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">stat_boxplot</span><span class="op">(</span>width<span class="op">=</span><span class="fl">0.5</span>, alpha<span class="op">=</span><span class="fl">0.6</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co">#facet_wrap(~refClass) +</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Distribution of Percent Change by State and Reference Class - Before outlier exclusion"</span>,</span>
<span>       x<span class="op">=</span><span class="st">"Percent Change"</span>,</span>
<span>       y<span class="op">=</span><span class="st">"Density"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_brewer</span><span class="op">(</span>palette<span class="op">=</span><span class="st">"Set2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># descriptive table to do with plot</span></span>
<span><span class="va">s1_agg</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">refClass</span>,<span class="va">state</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>mean_pct_change<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">pct_change</span><span class="op">)</span>, sd_pct_change<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">pct_change</span><span class="op">)</span>, n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tab_header</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Descriptive Statistics of Percent Change by State and Reference Class"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">s1_agg</span> <span class="op">&lt;-</span> <span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">outlier_id</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span>  <span class="co"># add geom_vline with x intercept based on pct_goal of the data (which is currently a string of form 10%)</span></span>
<span><span class="va">s1_agg</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">block</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>id<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">id</span>,<span class="va">pct_change</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>y<span class="op">=</span><span class="va">id</span>,x<span class="op">=</span><span class="va">pct_change</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_point</span><span class="op">(</span>size<span class="op">=</span><span class="fl">1</span>,alpha<span class="op">=</span><span class="fl">0.6</span>,position <span class="op">=</span> <span class="fu">position_jitter</span><span class="op">(</span>w<span class="op">=</span><span class="fl">0</span>, h<span class="op">=</span><span class="fl">0.17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_vline</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>xintercept<span class="op">=</span><span class="fl">.15</span><span class="op">)</span>,linetype<span class="op">=</span><span class="st">"dashed"</span>,alpha<span class="op">=</span><span class="fl">.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggh4x</span><span class="fu">::</span><span class="fu"><a href="https://teunbrand.github.io/ggh4x/reference/facet_nested_wrap.html">facet_nested_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">refClass</span>,axes<span class="op">=</span><span class="st">"all"</span>,scales<span class="op">=</span><span class="st">"free"</span>,ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span>  <span class="op">+</span> </span>
<span>  <span class="fu">labs</span><span class="op">(</span>y<span class="op">=</span><span class="st">"Participant Id"</span>, x<span class="op">=</span><span class="st">"Percent Change"</span>, title<span class="op">=</span><span class="st">"Individual Performance"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.text.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>family <span class="op">=</span> <span class="st">"Manrope Light"</span>, face <span class="op">=</span> <span class="st">"plain"</span>, size <span class="op">=</span> <span class="fu">rel</span><span class="op">(</span><span class="fl">0.7</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="study1_files/figure-html/unnamed-chunk-8-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="study1_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="960"></a></p>
</figure>
</div>
</div>
</div>
<section id="looking-at-of-subjects-who-hit-the-target-reduction" class="level2"><h2 class="anchored" data-anchor-id="looking-at-of-subjects-who-hit-the-target-reduction">Looking at % of subjects who hit the target reduction</h2>
<div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Step 2: Summarize the percentage of participants meeting the goal for each condition</span></span>
<span><span class="va">summary_pct</span> <span class="op">&lt;-</span> <span class="va">s1_agg</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span></span>
<span>    matched_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matched_goal</span><span class="op">)</span>,</span>
<span>    matched_count2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">close_match</span><span class="op">)</span>,</span>
<span>    total_count <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span>,</span>
<span>    pct_matched <span class="op">=</span> <span class="va">matched_count</span> <span class="op">/</span> <span class="va">total_count</span> <span class="op">*</span> <span class="fl">100</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 3: Create plots for the percentage of subjects in each condition who matched the target pct</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">summary_pct</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">refClass</span>, y <span class="op">=</span> <span class="va">pct_matched</span>, fill <span class="op">=</span> <span class="va">refClass</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, position <span class="op">=</span> <span class="fu">position_dodge</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Percentage of Participants Matching Target Pct by Condition"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Reference Class"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Percentage Matched (%)"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"Rounding"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="study1_files/figure-html/unnamed-chunk-9-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="study1_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">summary_pct</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">refClass</span>, y <span class="op">=</span> <span class="va">matched_count2</span>, fill <span class="op">=</span> <span class="va">refClass</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, position <span class="op">=</span> <span class="fu">position_dodge</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Percentage of Participants Matching Target Pct by Condition - 2% leeway"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Reference Class"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Percentage Matched (%)"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"Rounding"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="study1_files/figure-html/unnamed-chunk-9-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="study1_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span>,<span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>mg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matched_goal</span><span class="op">)</span>,n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span>, pct<span class="op">=</span><span class="va">mg</span><span class="op">/</span><span class="va">n</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">pct</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_density</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill<span class="op">=</span><span class="va">refClass</span><span class="op">)</span>, alpha<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="study1_files/figure-html/unnamed-chunk-9-3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="study1_files/figure-html/unnamed-chunk-9-3.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># histogram</span></span>
<span><span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span>,<span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>mg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matched_goal</span><span class="op">)</span>,n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span>, pct<span class="op">=</span><span class="va">mg</span><span class="op">/</span><span class="va">n</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">pct</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill<span class="op">=</span><span class="va">refClass</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggdist</span><span class="fu">::</span><span class="fu"><a href="http://mjskay.github.io/ggdist/reference/stat_halfeye.html">stat_halfeye</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_rug</span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">stat_boxplot</span><span class="op">(</span>width<span class="op">=</span><span class="fl">0.5</span>, alpha<span class="op">=</span><span class="fl">0.6</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">refClass</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Distributions of % of trials that matched goal"</span>,</span>
<span>       x<span class="op">=</span><span class="st">"% of trials (out of 4) that matched goal"</span>,</span>
<span>       y<span class="op">=</span><span class="st">"Number of Participants"</span>,</span>
<span>       fill<span class="op">=</span><span class="st">"Reference Class"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_brewer</span><span class="op">(</span>palette<span class="op">=</span><span class="st">"Set2"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">scale_y_continuous</span><span class="op">(</span>breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">80</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu">scale_x_continuous</span><span class="op">(</span>breaks<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">.25</span><span class="op">)</span>,labels<span class="op">=</span><span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/percent_format.html">percent_format</a></span><span class="op">(</span>accuracy<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div>
<figure class="figure"><p><a href="study1_files/figure-html/unnamed-chunk-9-4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="study1_files/figure-html/unnamed-chunk-9-4.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># s1_agg |&gt; group_by(id,refClass) |&gt; </span></span>
<span><span class="co">#   summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; </span></span>
<span><span class="co">#   group_by(refClass) |&gt;</span></span>
<span><span class="co">#   summarise(mean_pct=mean(pct), sd_pct=sd(pct), n=n()) </span></span>
<span></span>
<span><span class="va">s1_agg</span> <span class="op">|&gt;</span> <span class="fu">group_by</span><span class="op">(</span><span class="va">id</span>,<span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>mg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matched_goal</span><span class="op">)</span>, n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span>, pct<span class="op">=</span><span class="va">mg</span><span class="op">/</span><span class="va">n</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">refClass</span>,<span class="va">mg</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span>n<span class="op">=</span><span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span>  <span class="fu">rename</span><span class="op">(</span><span class="st">"# matched goal"</span><span class="op">=</span><span class="va">mg</span>,<span class="st">"# participants"</span><span class="op">=</span><span class="va">n</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">gt</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span>  <span class="fu">tab_header</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="fu">md</span><span class="op">(</span><span class="st">"**Number of Trials participants match goal by Reference class**"</span><span class="op">)</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Each participant had 4 trials where they attempt to create a plan to match goal"</span></span>
<span>  <span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="ranxrlwgyz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ranxrlwgyz table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ranxrlwgyz thead, #ranxrlwgyz tbody, #ranxrlwgyz tfoot, #ranxrlwgyz tr, #ranxrlwgyz td, #ranxrlwgyz th {
  border-style: none;
}

#ranxrlwgyz p {
  margin: 0;
  padding: 0;
}

#ranxrlwgyz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ranxrlwgyz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ranxrlwgyz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ranxrlwgyz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ranxrlwgyz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ranxrlwgyz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ranxrlwgyz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ranxrlwgyz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ranxrlwgyz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ranxrlwgyz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ranxrlwgyz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ranxrlwgyz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ranxrlwgyz .gt_spanner_row {
  border-bottom-style: hidden;
}

#ranxrlwgyz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ranxrlwgyz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ranxrlwgyz .gt_from_md > :first-child {
  margin-top: 0;
}

#ranxrlwgyz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ranxrlwgyz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ranxrlwgyz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ranxrlwgyz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ranxrlwgyz .gt_row_group_first td {
  border-top-width: 2px;
}

#ranxrlwgyz .gt_row_group_first th {
  border-top-width: 2px;
}

#ranxrlwgyz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ranxrlwgyz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ranxrlwgyz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ranxrlwgyz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ranxrlwgyz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ranxrlwgyz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ranxrlwgyz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ranxrlwgyz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ranxrlwgyz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ranxrlwgyz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ranxrlwgyz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ranxrlwgyz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ranxrlwgyz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ranxrlwgyz .gt_left {
  text-align: left;
}

#ranxrlwgyz .gt_center {
  text-align: center;
}

#ranxrlwgyz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ranxrlwgyz .gt_font_normal {
  font-weight: normal;
}

#ranxrlwgyz .gt_font_bold {
  font-weight: bold;
}

#ranxrlwgyz .gt_font_italic {
  font-style: italic;
}

#ranxrlwgyz .gt_super {
  font-size: 65%;
}

#ranxrlwgyz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ranxrlwgyz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ranxrlwgyz .gt_indent_1 {
  text-indent: 5px;
}

#ranxrlwgyz .gt_indent_2 {
  text-indent: 10px;
}

#ranxrlwgyz .gt_indent_3 {
  text-indent: 15px;
}

#ranxrlwgyz .gt_indent_4 {
  text-indent: 20px;
}

#ranxrlwgyz .gt_indent_5 {
  text-indent: 25px;
}

#ranxrlwgyz .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ranxrlwgyz div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<th colspan="2" class="gt_heading gt_title gt_font_normal"><strong>Number of Trials participants match goal by Reference class</strong></th>
</tr>
<tr class="gt_heading even">
<th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">Each participant had 4 trials where they attempt to create a plan to match goal</th>
</tr>
<tr class="gt_col_headings header">
<th id="a#-matched-goal" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col"># matched goal</th>
<th id="a#-participants" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col"># participants</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row odd">
<td colspan="2" id="Percentage" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Percentage</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_right" headers="Percentage  # matched goal">0</td>
<td class="gt_row gt_right" headers="Percentage  # participants">54</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="Percentage  # matched goal">1</td>
<td class="gt_row gt_right" headers="Percentage  # participants">4</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Percentage  # matched goal">2</td>
<td class="gt_row gt_right" headers="Percentage  # participants">8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="Percentage  # matched goal">3</td>
<td class="gt_row gt_right" headers="Percentage  # participants">3</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Percentage  # matched goal">4</td>
<td class="gt_row gt_right" headers="Percentage  # participants">9</td>
</tr>
<tr class="gt_group_heading_row odd">
<td colspan="2" id="USD" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">USD</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_right" headers="USD  # matched goal">0</td>
<td class="gt_row gt_right" headers="USD  # participants">82</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="USD  # matched goal">1</td>
<td class="gt_row gt_right" headers="USD  # participants">2</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="USD  # matched goal">2</td>
<td class="gt_row gt_right" headers="USD  # participants">3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="USD  # matched goal">3</td>
<td class="gt_row gt_right" headers="USD  # participants">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="USD  # matched goal">4</td>
<td class="gt_row gt_right" headers="USD  # participants">6</td>
</tr>
<tr class="gt_group_heading_row odd">
<td colspan="2" id="kWh" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">kWh</td>
</tr>
<tr class="gt_row_group_first even">
<td class="gt_row gt_right" headers="kWh  # matched goal">0</td>
<td class="gt_row gt_right" headers="kWh  # participants">44</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="kWh  # matched goal">1</td>
<td class="gt_row gt_right" headers="kWh  # participants">3</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="kWh  # matched goal">2</td>
<td class="gt_row gt_right" headers="kWh  # participants">7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="kWh  # matched goal">3</td>
<td class="gt_row gt_right" headers="kWh  # participants">4</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="kWh  # matched goal">4</td>
<td class="gt_row gt_right" headers="kWh  # participants">22</td>
</tr>
</tbody>
</table>
</div>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span>  <span class="co"># setNames(c("refClass", "# of trials with matched goal", "n")) |&gt;</span></span>
<span>  <span class="co"># knitr::kable(booktabs=T,col.names = c("Reference Class", </span></span>
<span>  <span class="co">#                           "# of correct trials ",</span></span>
<span>  <span class="co">#                           "n"),</span></span>
<span>  <span class="co">#              format = "html") |&gt; </span></span>
<span>  <span class="co"># kableExtra::kable_styling(full_width = F) |&gt; column_spec(1:3, width = "2cm")</span></span>
<span>  </span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">summary_pct</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tab_header</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="fu">md</span><span class="op">(</span><span class="st">"**Percentage of Trials Matching Target Pct by Condition**"</span><span class="op">)</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Grouped by Reference Class, Rounding, and Pct Goal"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">fmt_number</span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">pct_matched</span><span class="op">)</span>,</span>
<span>    decimals <span class="op">=</span> <span class="fl">2</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">cols_label</span><span class="op">(</span></span>
<span>    refClass <span class="op">=</span> <span class="st">"Reference Class"</span>,</span>
<span>    matched_count <span class="op">=</span> <span class="st">"Matched Count"</span>,</span>
<span>    total_count <span class="op">=</span> <span class="st">"Total Count"</span>,</span>
<span>    pct_matched <span class="op">=</span> <span class="st">"Percentage Matched (%)"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">cols_align</span><span class="op">(</span></span>
<span>    align <span class="op">=</span> <span class="st">"center"</span>,</span>
<span>    columns <span class="op">=</span> <span class="fu">everything</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">tab_spanner</span><span class="op">(</span></span>
<span>    label <span class="op">=</span> <span class="st">"Participants"</span>,</span>
<span>    columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">matched_count</span>, <span class="va">total_count</span>, <span class="va">pct_matched</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="gsxxguujlb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#gsxxguujlb table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#gsxxguujlb thead, #gsxxguujlb tbody, #gsxxguujlb tfoot, #gsxxguujlb tr, #gsxxguujlb td, #gsxxguujlb th {
  border-style: none;
}

#gsxxguujlb p {
  margin: 0;
  padding: 0;
}

#gsxxguujlb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gsxxguujlb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#gsxxguujlb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gsxxguujlb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gsxxguujlb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gsxxguujlb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gsxxguujlb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gsxxguujlb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gsxxguujlb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gsxxguujlb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gsxxguujlb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gsxxguujlb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gsxxguujlb .gt_spanner_row {
  border-bottom-style: hidden;
}

#gsxxguujlb .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#gsxxguujlb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gsxxguujlb .gt_from_md > :first-child {
  margin-top: 0;
}

#gsxxguujlb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gsxxguujlb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gsxxguujlb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#gsxxguujlb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#gsxxguujlb .gt_row_group_first td {
  border-top-width: 2px;
}

#gsxxguujlb .gt_row_group_first th {
  border-top-width: 2px;
}

#gsxxguujlb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gsxxguujlb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#gsxxguujlb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#gsxxguujlb .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gsxxguujlb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gsxxguujlb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gsxxguujlb .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#gsxxguujlb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gsxxguujlb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gsxxguujlb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gsxxguujlb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gsxxguujlb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gsxxguujlb .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gsxxguujlb .gt_left {
  text-align: left;
}

#gsxxguujlb .gt_center {
  text-align: center;
}

#gsxxguujlb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gsxxguujlb .gt_font_normal {
  font-weight: normal;
}

#gsxxguujlb .gt_font_bold {
  font-weight: bold;
}

#gsxxguujlb .gt_font_italic {
  font-style: italic;
}

#gsxxguujlb .gt_super {
  font-size: 65%;
}

#gsxxguujlb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#gsxxguujlb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#gsxxguujlb .gt_indent_1 {
  text-indent: 5px;
}

#gsxxguujlb .gt_indent_2 {
  text-indent: 10px;
}

#gsxxguujlb .gt_indent_3 {
  text-indent: 15px;
}

#gsxxguujlb .gt_indent_4 {
  text-indent: 20px;
}

#gsxxguujlb .gt_indent_5 {
  text-indent: 25px;
}

#gsxxguujlb .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#gsxxguujlb div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="gt_heading header">
<th colspan="5" class="gt_heading gt_title gt_font_normal"><strong>Percentage of Trials Matching Target Pct by Condition</strong></th>
</tr>
<tr class="gt_heading even">
<th colspan="5" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">Grouped by Reference Class, Rounding, and Pct Goal</th>
</tr>
<tr class="gt_col_headings gt_spanner_row header">
<th rowspan="2" id="refClass" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Reference Class</th>
<th colspan="3" id="Participants" class="gt_center gt_columns_top_border gt_column_spanner_outer" data-quarto-table-cell-role="th" scope="colgroup"><div class="gt_column_spanner">
Participants
</div></th>
<th rowspan="2" id="matched_count2" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">matched_count2</th>
</tr>
<tr class="gt_col_headings even">
<th id="matched_count" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Matched Count</th>
<th id="total_count" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Total Count</th>
<th id="pct_matched" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Percentage Matched (%)</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="refClass">Percentage</td>
<td class="gt_row gt_center" headers="matched_count">65</td>
<td class="gt_row gt_center" headers="total_count">312</td>
<td class="gt_row gt_center" headers="pct_matched">20.83</td>
<td class="gt_row gt_center" headers="matched_count2">116</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="refClass">USD</td>
<td class="gt_row gt_center" headers="matched_count">35</td>
<td class="gt_row gt_center" headers="total_count">376</td>
<td class="gt_row gt_center" headers="pct_matched">9.31</td>
<td class="gt_row gt_center" headers="matched_count2">76</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="refClass">kWh</td>
<td class="gt_row gt_center" headers="matched_count">117</td>
<td class="gt_row gt_center" headers="total_count">320</td>
<td class="gt_row gt_center" headers="pct_matched">36.56</td>
<td class="gt_row gt_center" headers="matched_count2">164</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">contingency_table</span> <span class="op">&lt;-</span> <span class="va">s1_agg</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">group_by</span><span class="op">(</span><span class="va">refClass</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">summarise</span><span class="op">(</span></span>
<span>      matched <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matched_goal</span><span class="op">)</span>,</span>
<span>      unmatched <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">matched_goal</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">select</span><span class="op">(</span><span class="va">matched</span>, <span class="va">unmatched</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Perform the chi-squared test</span></span>
<span><span class="va">chisq_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/chisq.test.html">chisq.test</a></span><span class="op">(</span><span class="va">contingency_table</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the results</span></span>
<span><span class="va">chisq_test</span></span>
<span></span>
<span></span>
<span><span class="va">s1_aggb</span> <span class="op">&lt;-</span> <span class="va">s1_agg</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>matched_goal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">matched_goal</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">m1_s1</span> <span class="op">&lt;-</span> <span class="fu">brms</span><span class="fu">::</span><span class="fu"><a href="https://paulbuerkner.com/brms/reference/brm.html">brm</a></span><span class="op">(</span></span>
<span>  <span class="va">matched_goal</span> <span class="op">~</span> <span class="va">refClass</span>,        <span class="co"># Logistic regression with reference class as predictor</span></span>
<span>  data <span class="op">=</span> <span class="va">s1_agg</span>,                    <span class="co"># The dataset</span></span>
<span>  family <span class="op">=</span> <span class="fu">bernoulli</span><span class="op">(</span><span class="op">)</span>,           <span class="co"># Binary outcome model</span></span>
<span> <span class="co"># prior = set_prior("normal(0, 1)", class = "b"),  # Prior for coefficients</span></span>
<span>  iter <span class="op">=</span> <span class="fl">2000</span>,                    <span class="co"># Number of iterations</span></span>
<span>  chains <span class="op">=</span> <span class="fl">4</span>,                     <span class="co"># Number of MCMC chains</span></span>
<span>  cores <span class="op">=</span> <span class="fl">4</span>,                      <span class="co"># Number of cores for parallel computation</span></span>
<span>  seed <span class="op">=</span> <span class="fl">123</span>                      <span class="co"># Set seed for reproducibility</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Regression Coefficients: - prior</span></span>
<span><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># Intercept             -0.53      0.12    -0.76    -0.30 1.00     3182     2941</span></span>
<span><span class="co"># refClassPercentage    -0.76      0.18    -1.12    -0.41 1.00     2565     2685</span></span>
<span><span class="co"># refClassUSD           -1.64      0.21    -2.06    -1.24 1.00     2576     2941</span></span>
<span><span class="co"># Regression Coefficients: - no prior</span></span>
<span><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># Intercept             -0.49      0.12    -0.72    -0.27 1.00     3259     2975</span></span>
<span><span class="co"># refClassPercentage    -0.81      0.19    -1.18    -0.45 1.00     2364     2585</span></span>
<span><span class="co"># refClassUSD           -1.73      0.21    -2.15    -1.32 1.00     2643     2942</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">m2_s1</span> <span class="op">&lt;-</span> <span class="fu">brms</span><span class="fu">::</span><span class="fu"><a href="https://paulbuerkner.com/brms/reference/brm.html">brm</a></span><span class="op">(</span></span>
<span>  <span class="va">matched_goal</span> <span class="op">~</span> <span class="va">refClass</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">id</span><span class="op">)</span>,       </span>
<span>  data <span class="op">=</span> <span class="va">s1_agg</span>,                    </span>
<span>  family <span class="op">=</span> <span class="fu">bernoulli</span><span class="op">(</span><span class="op">)</span>,           </span>
<span>  <span class="co">#prior = set_prior("normal(0, 1)", class = "b"),  </span></span>
<span>  iter <span class="op">=</span> <span class="fl">2000</span>,                    </span>
<span>  chains <span class="op">=</span> <span class="fl">4</span>,                     </span>
<span>  cores <span class="op">=</span> <span class="fl">4</span>,                      </span>
<span>  seed <span class="op">=</span> <span class="fl">123</span>                      </span>
<span><span class="op">)</span></span>
<span><span class="co"># Regression Coefficients:</span></span>
<span><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># Intercept             -3.97      0.95    -6.07    -2.38 1.00     1001     1715</span></span>
<span><span class="co"># refClassPercentage    -0.54      0.75    -1.97     0.96 1.00     1523     2223</span></span>
<span><span class="co"># refClassUSD           -2.26      0.76    -3.74    -0.77 1.00     1729     2581</span></span>
<span><span class="co"># Regression Coefficients: - no prior</span></span>
<span><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># Intercept             -2.04      0.97    -4.11    -0.35 1.01      616     1384</span></span>
<span><span class="co"># refClassPercentage    -3.16      1.35    -5.97    -0.65 1.00      542     1234</span></span>
<span><span class="co"># refClassUSD           -6.84      1.68   -10.42    -3.87 1.01      581     1096</span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">m3_s1</span> <span class="op">&lt;-</span> <span class="fu">brms</span><span class="fu">::</span><span class="fu"><a href="https://paulbuerkner.com/brms/reference/brm.html">brm</a></span><span class="op">(</span></span>
<span>  <span class="va">matched_goal</span> <span class="op">~</span> <span class="va">refClass</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">id</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">state</span><span class="op">)</span>, </span>
<span>  data <span class="op">=</span> <span class="va">s1_agg</span>,                    </span>
<span>  family <span class="op">=</span> <span class="fu">bernoulli</span><span class="op">(</span><span class="op">)</span>,           </span>
<span>  prior <span class="op">=</span> <span class="fu">set_prior</span><span class="op">(</span><span class="st">"normal(0, 1)"</span>, class <span class="op">=</span> <span class="st">"b"</span><span class="op">)</span>,  </span>
<span>  iter <span class="op">=</span> <span class="fl">2000</span>,                    <span class="co">#</span></span>
<span>  chains <span class="op">=</span> <span class="fl">4</span>,                     </span>
<span>  cores <span class="op">=</span> <span class="fl">4</span>,                      </span>
<span>  seed <span class="op">=</span> <span class="fl">123</span>                      </span>
<span><span class="op">)</span></span>
<span><span class="co"># Regression Coefficients:</span></span>
<span><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># Intercept             -4.08      1.05    -6.39    -2.20 1.00      651     1280</span></span>
<span><span class="co"># refClassPercentage    -0.52      0.78    -2.05     1.02 1.01      769     1583</span></span>
<span><span class="co"># refClassUSD           -2.25      0.78    -3.78    -0.72 1.00     1036     2002</span></span>
<span></span>
<span></span>
<span><span class="va">m4_s1</span> <span class="op">&lt;-</span> <span class="fu">brms</span><span class="fu">::</span><span class="fu"><a href="https://paulbuerkner.com/brms/reference/brm.html">brm</a></span><span class="op">(</span></span>
<span>  <span class="va">matched_goal</span> <span class="op">~</span> <span class="va">refClass</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="va">plan</span><span class="op">|</span><span class="va">id</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">state</span><span class="op">)</span>, </span>
<span>  data <span class="op">=</span> <span class="va">s1_agg</span>,                    </span>
<span>  family <span class="op">=</span> <span class="fu">bernoulli</span><span class="op">(</span><span class="op">)</span>,           </span>
<span>  iter <span class="op">=</span> <span class="fl">4000</span>,                    <span class="co">#</span></span>
<span>  chains <span class="op">=</span> <span class="fl">4</span>,                     </span>
<span>  cores <span class="op">=</span> <span class="fl">4</span>,                      </span>
<span>  seed <span class="op">=</span> <span class="fl">123</span>                      </span>
<span><span class="op">)</span></span>
<span><span class="co"># Regression Coefficients:</span></span>
<span><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># Intercept             -4.24      1.12    -6.60    -2.18 1.00     1280      962</span></span>
<span><span class="co"># refClassPercentage    -0.49      0.79    -1.99     1.12 1.00     2347     4012</span></span>
<span><span class="co"># refClassUSD           -2.22      0.78    -3.74    -0.71 1.00     2395     4132</span></span>
<span></span>
<span><span class="va">m5_s1</span> <span class="op">&lt;-</span> <span class="fu">brms</span><span class="fu">::</span><span class="fu"><a href="https://paulbuerkner.com/brms/reference/brm.html">brm</a></span><span class="op">(</span></span>
<span>  <span class="va">matched_goal</span> <span class="op">~</span> <span class="va">refClass</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="va">plan</span><span class="op">|</span><span class="va">id</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">|</span><span class="va">state</span><span class="op">)</span>, </span>
<span>  data <span class="op">=</span> <span class="va">s1_agg</span>,                    </span>
<span>  family <span class="op">=</span> <span class="fu">bernoulli</span><span class="op">(</span><span class="op">)</span>,           </span>
<span>  iter <span class="op">=</span> <span class="fl">4000</span>,                    <span class="co">#</span></span>
<span>  chains <span class="op">=</span> <span class="fl">4</span>,                     </span>
<span>  cores <span class="op">=</span> <span class="fl">4</span>,                      </span>
<span>  seed <span class="op">=</span> <span class="fl">123</span>                      </span>
<span><span class="op">)</span></span>
<span><span class="co"># Regression Coefficients:</span></span>
<span><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co"># Intercept             -2.20      1.15    -4.56     0.02 1.00     1819     2875</span></span>
<span><span class="co"># refClassPercentage    -3.34      1.53    -6.59    -0.64 1.00     1139     2377</span></span>
<span><span class="co"># refClassUSD           -7.37      1.90   -11.64    -4.13 1.00     1706     3083</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">stanplot</span><span class="op">(</span><span class="va">m5_s1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mcmc_plot</span><span class="op">(</span><span class="va">m5_s1</span>, pars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"b_Intercept"</span>,<span class="st">"refClassPercentage"</span>, <span class="st">"refClassUSD"</span><span class="op">)</span>, regex <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">mcmc_plot</span><span class="op">(</span><span class="va">m5_s1</span>, regex_pars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'b_*'</span><span class="op">)</span>, regex <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">m5_s1</span> <span class="op">|&gt;</span> <span class="fu">emmeans</span><span class="op">(</span><span class="op">~</span><span class="va">refClass</span><span class="op">)</span></span>
<span><span class="co">#  refClass   emmean lower.HPD upper.HPD</span></span>
<span><span class="co">#  kWh          -2.2      -4.6       0.0</span></span>
<span><span class="co">#  Percentage   -5.4      -8.5      -2.9</span></span>
<span><span class="co">#  USD          -9.4     -13.4      -6.3</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Point estimate displayed: median </span></span>
<span><span class="co"># Results are given on the logit (not the response) scale. </span></span>
<span><span class="co"># HPD interval probability: 0.95 </span></span>
<span></span>
<span><span class="va">m5_s1</span> <span class="op">|&gt;</span> <span class="fu">emmeans</span><span class="op">(</span><span class="op">~</span><span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">gather_emmeans_draws</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">refClass</span>,y<span class="op">=</span><span class="va">.value</span>,fill<span class="op">=</span><span class="va">refClass</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">stat_dist_pointinterval</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu">stat_halfeye</span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">stat_lineribbon</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.25</span>, size <span class="op">=</span> <span class="fl">1</span>, .width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.95</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># transform the log-odds to odds</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="data-checks" class="level2"><h2 class="anchored" data-anchor-id="data-checks">Data checks</h2>
<div class="cell">
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># for every combination of state, appliance, and refClass, calculate the number of distinct values of family, and of state_avg</span></span>
<span><span class="va">s1</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">state</span>,<span class="va">appliance</span>,<span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>n_distinct_family<span class="op">=</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct</a></span><span class="op">(</span><span class="va">family</span><span class="op">)</span>,</span>
<span>            n_distinct_state_avg<span class="op">=</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct</a></span><span class="op">(</span><span class="va">state_avg</span><span class="op">)</span>, </span>
<span>            <span class="co"># paste a string of each distinct value, separated by a comma</span></span>
<span>            distinct_family<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">family</span><span class="op">)</span>,collapse<span class="op">=</span><span class="st">","</span><span class="op">)</span>,</span>
<span>            distinct_state_avg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">state_avg</span><span class="op">)</span>,collapse<span class="op">=</span><span class="st">","</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">n_distinct_family</span><span class="op">&gt;</span><span class="fl">1</span> <span class="op">|</span> <span class="va">n_distinct_state_avg</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 7
# Groups:   state, appliance [10]
   state appliance       refClass   n_distinct_family n_distinct_state_avg
   &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;                  &lt;int&gt;                &lt;int&gt;
 1 CAL   Water Heating   USD                        2                    2
 2 COL   Heating         kWh                        3                    2
 3 COL   Refrigerator    kWh                        2                    1
 4 COL   Total kWh       kWh                        2                    1
 5 COL   Water Heating   USD                        1                    2
 6 MASS  Water Heating   USD                        2                    1
 7 TEX   Heating         USD                        2                    1
 8 TEX   Other Appliance USD                        2                    1
 9 TEX   Total kWh       kWh                        1                    2
10 TEX   Water Heating   Percentage                 2                    1
11 TEX   Water Heating   USD                        3                    2
# ℹ 2 more variables: distinct_family &lt;chr&gt;, distinct_state_avg &lt;chr&gt;</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s1</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">state</span>,<span class="va">appliance</span>,<span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>n_distinct_family<span class="op">=</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct</a></span><span class="op">(</span><span class="va">family</span><span class="op">)</span>,</span>
<span>            n_distinct_state_avg<span class="op">=</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct</a></span><span class="op">(</span><span class="va">state_avg</span><span class="op">)</span>, </span>
<span>            <span class="co"># paste a string of each distinct value, separated by a comma</span></span>
<span>            distinct_family<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">family</span><span class="op">)</span>,collapse<span class="op">=</span><span class="st">","</span><span class="op">)</span>,</span>
<span>            distinct_state_avg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">state_avg</span><span class="op">)</span>,collapse<span class="op">=</span><span class="st">","</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">n_distinct_family</span><span class="op">&gt;</span><span class="fl">1</span> <span class="op">|</span> <span class="va">n_distinct_state_avg</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">state</span>,<span class="va">appliance</span>,<span class="va">refClass</span>,<span class="va">family</span>,<span class="va">state_avg</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 974 × 25
# Groups:   state, appliance, refClass, family, state_avg [25]
      id state1   state2 refClass   calc            edu     modality state id2  
   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;           &lt;fct&gt;   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;
 1     1 Colorado Texas  Percentage Used Calculator Gradua… P        TEX   R_2Q…
 2     1 Colorado Texas  Percentage Used Calculator Gradua… P        TEX   R_2Q…
 3     2 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_2t…
 4     2 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_2t…
 5     3 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_3G…
 6     3 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_3G…
 7     4 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_Dj…
 8     4 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_Dj…
 9     5 Colorado Texas  Percentage No Calculator   Gradua… P        TEX   R_3f…
10     5 Colorado Texas  Percentage No Calculator   Gradua… P        TEX   R_3f…
# ℹ 964 more rows
# ℹ 16 more variables: Duration__in_seconds_ &lt;dbl&gt;, appliance &lt;chr&gt;,
#   family &lt;dbl&gt;, state_avg &lt;dbl+lbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;, block &lt;dbl&gt;,
#   pct_goal &lt;dbl&gt;, change &lt;dbl&gt;, state_p_dif &lt;dbl&gt;, state_f_dif &lt;dbl&gt;,
#   less_avg &lt;lgl&gt;, n_distinct_family &lt;int&gt;, n_distinct_state_avg &lt;int&gt;,
#   distinct_family &lt;chr&gt;, distinct_state_avg &lt;chr&gt;</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span>  <span class="co"># the count of each unique value of family, and each unique value of state avg</span></span>
<span>  </span>
<span> </span>
<span><span class="va">s1</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">state</span>, <span class="va">appliance</span>, <span class="va">refClass</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>n_distinct_family <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct</a></span><span class="op">(</span><span class="va">family</span><span class="op">)</span>,</span>
<span>           n_distinct_state_avg <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct</a></span><span class="op">(</span><span class="va">state_avg</span><span class="op">)</span>, </span>
<span>           distinct_family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">family</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">","</span><span class="op">)</span>,</span>
<span>           distinct_state_avg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">state_avg</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">","</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">n_distinct_family</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">|</span> <span class="va">n_distinct_state_avg</span> <span class="op">&gt;</span> <span class="fl">1</span>,<span class="va">plan</span><span class="op">==</span><span class="st">"plan1"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">state</span>, <span class="va">appliance</span>, <span class="va">refClass</span>, <span class="va">family</span>, <span class="va">state_avg</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>state_avg_count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct</a></span><span class="op">(</span><span class="va">state_avg</span><span class="op">)</span>,</span>
<span>           family_count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">state</span>, <span class="va">appliance</span>, <span class="va">refClass</span>, <span class="va">state_avg</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>state_avg_count <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">state</span>, <span class="va">appliance</span>, <span class="va">refClass</span>, <span class="va">family</span>, <span class="va">state_avg</span>, <span class="va">family_count</span>, <span class="va">state_avg_count</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">state</span>,<span class="va">appliance</span>,<span class="va">refClass</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 7
# Groups:   state, appliance, refClass, state_avg [16]
   state appliance     refClass family state_avg family_count state_avg_count
   &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;     &lt;dbl&gt; &lt;dbl+lbl&gt;        &lt;int&gt;           &lt;int&gt;
 1 CAL   Water Heating USD        5061  4601               41              41
 2 CAL   Water Heating USD        5124  4534                1               1
 3 COL   Heating       kWh         340   587                1               1
 4 COL   Heating       kWh       18052 16411               36              37
 5 COL   Heating       kWh       11441 16411                1              37
 6 COL   Refrigerator  kWh        5600  1142                1              38
 7 COL   Refrigerator  kWh        1370  1142               37              38
 8 COL   Total kWh     kWh        1500 30535                1              38
 9 COL   Total kWh     kWh       39768 30535               37              38
10 COL   Water Heating USD       11667  4000                1               1
# ℹ 15 more rows</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_spss.html">read_sav</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span><span class="op">)</span><span class="op">)</span>  <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ResponseId</span><span class="op">==</span><span class="st">"R_2QMsYuHS385pTj1"</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">k</span></span>
<span><span class="co"># find if any columns equal 5.26</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_spss.html">read_sav</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ResponseId</span> <span class="op">==</span> <span class="st">"R_vB56XspT1LqhrkB"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Select columns with non-NA values and not empty strings, handling character and numeric columns separately</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://tidyselect.r-lib.org/reference/where.html">where</a></span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://tidyselect.r-lib.org/reference/where.html">where</a></span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">is.character</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span><span class="op">(</span><span class="va">.</span> <span class="op">==</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># Remove columns that start with "AIN"</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"AIN"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 108
  Progress Duration__in_seconds_ Finished  Consent       D1CAL01 D1CAL02 D1CAL03
     &lt;dbl&gt;                 &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;dbl+lbl&gt;     &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt;
1      100                  1379 1 [True]  1 [Yes I agr… 3 [Wat… 1 [1]   3 [3]  
# ℹ 101 more variables: D1CAL04 &lt;dbl+lbl&gt;, D1CAL05 &lt;dbl+lbl&gt;,
#   D1CAL06 &lt;dbl+lbl&gt;, D1CAL07 &lt;dbl&gt;, D1CAL08 &lt;dbl&gt;, D1CAL09 &lt;dbl&gt;,
#   D1CAL10 &lt;dbl&gt;, D1CAL11 &lt;dbl&gt;, D1CAL12 &lt;dbl&gt;, D1CAL13 &lt;dbl&gt;, D1CAL14 &lt;dbl&gt;,
#   D1CAL15 &lt;dbl&gt;, D1CAL16 &lt;dbl&gt;, D1CAL17 &lt;dbl&gt;, D1CAL18 &lt;dbl&gt;, D1CAL19 &lt;dbl&gt;,
#   D1CAL20 &lt;dbl&gt;, D1CAL21 &lt;dbl&gt;, D1CAL22 &lt;dbl&gt;, D1CAL23 &lt;dbl&gt;, D1CAL24 &lt;dbl&gt;,
#   D1CAL25 &lt;dbl&gt;, D1CAL26 &lt;dbl&gt;, D1CAL27 &lt;dbl&gt;, D1CAL28 &lt;dbl&gt;, D1CAL29 &lt;dbl&gt;,
#   D1CAL30 &lt;dbl&gt;, D1CAL31 &lt;dbl+lbl&gt;, D1CAL34 &lt;dbl+lbl&gt;, D1CAL35 &lt;dbl+lbl&gt;, …</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_spss.html">read_sav</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span><span class="op">)</span><span class="op">)</span>  <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">select_if</a></span><span class="op">(</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">.</span> <span class="op">==</span><span class="fl">11441.0</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># filter out any NAs from any column that is left (we don't know the column names)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter_all.html">filter_all</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/all_vars.html">any_vars</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># retain only cases of 11441.0</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter_all.html">filter_all</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/all_vars.html">any_vars</a></span><span class="op">(</span><span class="va">.</span> <span class="op">==</span> <span class="fl">11441.0</span><span class="op">)</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  A4COL11
    &lt;dbl&gt;
1   11441</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_spss.html">read_sav</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span><span class="op">)</span><span class="op">)</span>  <span class="op">|&gt;</span> <span class="co"># return the names of any columns that contain 11441.0</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">select_if</a></span><span class="op">(</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">.</span> <span class="op">==</span><span class="fl">11441.0</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_c.html">str_c</a></span><span class="op">(</span>collapse<span class="op">=</span><span class="st">","</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># P3TEX15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>A4COL11</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># do the same procedure for each of these values, include a line break after the output from each number</span></span>
<span><span class="va">low_freq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5.26</span>, <span class="fl">4534</span>, <span class="fl">340</span>,<span class="fl">11667</span>,<span class="fl">5.3</span>,<span class="fl">400</span>, <span class="fl">29046</span>,<span class="fl">5600</span>,<span class="fl">5987</span>,<span class="fl">34265.0</span>,<span class="fl">5600.0</span> <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># for(val in low_freq) {</span></span>
<span><span class="co">#   haven::read_sav(here::here("data/Frequency &amp; Probability Study 1 - 3-24-19.sav")) |&gt;</span></span>
<span><span class="co">#     select_if(~any(. == val)) |&gt;</span></span>
<span><span class="co">#     names() |&gt;</span></span>
<span><span class="co">#     str_c(collapse = ",") |&gt;</span></span>
<span><span class="co">#     cat()</span></span>
<span><span class="co">#   cat("\n")  # Add line break after each output</span></span>
<span><span class="co"># }</span></span>
<span></span>
<span><span class="va">low_freq</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">walk</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">val</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">val</span>, <span class="st">"\n"</span><span class="op">)</span>  <span class="co"># Print the current value</span></span>
<span>    <span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_spss.html">read_sav</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">select_if</a></span><span class="op">(</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="va">.</span> <span class="op">==</span> <span class="va">val</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_c.html">str_c</a></span><span class="op">(</span>collapse <span class="op">=</span> <span class="st">","</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"\n\n"</span><span class="op">)</span>  <span class="co"># Add two line breaks before next value</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>5.3 


4534 
D1CAL16

340 
A2COL11

11667 
P1COL15,P2COL15,P3COL15,P4COL15,D1COL15,D2COL15,D3COL15,D4COL15,D4COL17,A1COL15,A2COL15,A3COL15,A4COL15

5.3 


400 
AIND10,P1COL09,P1COL10,P1MASS09,P1MASS10,P2COL09,P2MASS09,P2MASS10,P3COL09,P3COL10,P4COL09,P4COL10,P3MASS09,P3MASS10,P4MASS09,P4MASS10,D1COL10,D1MASS09,D1MASS10,D1MASS22,D2COL09,D2COL10,D2CAL09,D2CAL10,D2CAL13,D2CAL14,D2CAL17,D2CAL18,D2CAL21,D2CAL22,D2CAL25,D2CAL26,D2CAL29,D2CAL30,D2MASS10,D3COL10,D3TEX16,D4COL10,D4COL21,D3MASS09,D3MASS10,D4MASS09,D4MASS10,A1COL10,A1MASS09,A1MASS10,A2COL10,A2CAL26,A2MASS09,A2MASS10,A4COL09,A4COL10,A3MASS09,A3MASS10,A4MASS09,A4MASS10

29046 
P1TEX27,P2TEX27,P3TEX27,P4TEX27,P4TEX29,D1TEX27,D1TEX30,D2TEX27,D2TEX29,D3TEX27,D4TEX27,A1TEX27,A2TEX27,A2TEX29,A2TEX30,A3TEX27,A3TEX28,A3TEX29,A3TEX30,A4TEX27

5600 
P3COL18,P3CAL14,D1TEX15,D2CAL14,D3CAL13,D3CAL14,A1COL25,A1MASS17,A1CAL13,A1CAL29,A2COL19,A2CAL14,A3COL26

5987 
D2TEX23,A1CAL13

34265 
D2TEX15

5600 
P3COL18,P3CAL14,D1TEX15,D2CAL14,D3CAL13,D3CAL14,A1COL25,A1MASS17,A1CAL13,A1CAL29,A2COL19,A2CAL14,A3COL26</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">k</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select_all.html">select_if</a></span><span class="op">(</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/any.html">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">is.numeric</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">.</span> <span class="op">&lt;</span><span class="fl">10</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 54
  Finished  Consent      P3COL01 P3COL02 P3COL03 P3COL04 P3COL05 P3COL06 P3COL31
  &lt;dbl+lbl&gt; &lt;dbl+lbl&gt;    &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt;
1 1 [True]  1 [Yes I ag… 3 [Wat… 1 [1]   2 [2]   5 [5]   3 [3]   4 [4]   1 [Act…
# ℹ 45 more variables: P3COL34 &lt;dbl+lbl&gt;, P3COL35 &lt;dbl+lbl&gt;, P3TEX01 &lt;dbl+lbl&gt;,
#   P3TEX02 &lt;dbl+lbl&gt;, P3TEX03 &lt;dbl+lbl&gt;, P3TEX04 &lt;dbl+lbl&gt;, P3TEX05 &lt;dbl+lbl&gt;,
#   P3TEX06 &lt;dbl+lbl&gt;, P3TEX15 &lt;dbl&gt;, P3TEX31 &lt;dbl+lbl&gt;, P3TEX33 &lt;dbl+lbl&gt;,
#   P3TEX35 &lt;dbl+lbl&gt;, MATH01 &lt;dbl+lbl&gt;, ELS01 &lt;dbl+lbl&gt;, ELS02 &lt;dbl+lbl&gt;,
#   ELS03 &lt;dbl+lbl&gt;, ELS04 &lt;dbl+lbl&gt;, ELS05 &lt;dbl+lbl&gt;, ELS06 &lt;dbl+lbl&gt;,
#   ELS07 &lt;dbl+lbl&gt;, ELS08 &lt;dbl+lbl&gt;, DUMMYVAR01 &lt;dbl+lbl&gt;,
#   DUMMYVAR02 &lt;dbl+lbl&gt;, DUMMYVAR03 &lt;dbl+lbl&gt;, DUMMYVAR04 &lt;dbl+lbl&gt;, …</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_spss.html">read_sav</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">P3TEX15</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 1
  P3TEX15
    &lt;dbl&gt;
1    5.26
2   NA   </code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">haven</span><span class="fu">::</span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_spss.html">read_sav</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co">#select(ResponseId, P3TEX15) |&gt; </span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">P3TEX15</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 1,840
   IPAddress       Progress Duration__in_seconds_ Finished  RecordedDate       
   &lt;chr&gt;              &lt;dbl&gt;                 &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;dttm&gt;             
 1 23.81.192.193        100                  1008 1 [True]  2018-09-24 20:50:48
 2 172.116.255.216      100                  1126 1 [True]  2018-09-24 18:32:03
 3 173.89.169.178       100                   870 1 [True]  2018-09-24 18:32:41
 4 138.75.69.205        100                  2763 1 [True]  2018-09-24 22:19:26
 5 107.172.201.182      100                   920 1 [True]  2018-09-24 22:32:06
 6 52.144.47.38         100                   878 1 [True]  2018-09-25 07:07:14
 7 23.94.140.144        100                  2680 1 [True]  2018-09-25 07:09:47
 8 66.110.199.87        100                  1628 1 [True]  2018-09-25 07:38:49
 9 107.172.165.113      100                   724 1 [True]  2018-09-25 07:40:55
10 173.215.15.248       100                   913 1 [True]  2018-09-25 08:08:02
# ℹ 1,835 more variables: ResponseId &lt;chr&gt;, Consent &lt;dbl+lbl&gt;, AIND01 &lt;dbl&gt;,
#   AIND02 &lt;dbl&gt;, AIND03 &lt;dbl&gt;, AIND04 &lt;dbl&gt;, AIND05 &lt;dbl&gt;, AIND06 &lt;dbl&gt;,
#   AIND07 &lt;dbl&gt;, AIND08 &lt;dbl&gt;, AIND09 &lt;dbl&gt;, AIND10 &lt;dbl&gt;, AIND11 &lt;dbl&gt;,
#   AIND12 &lt;dbl&gt;, AIND13 &lt;dbl&gt;, AIND14 &lt;dbl&gt;, AIND15 &lt;dbl&gt;, AIND16 &lt;dbl&gt;,
#   P1TEX01 &lt;dbl+lbl&gt;, P1TEX02 &lt;dbl+lbl&gt;, P1TEX03 &lt;dbl+lbl&gt;, P1TEX04 &lt;dbl+lbl&gt;,
#   P1TEX05 &lt;dbl+lbl&gt;, P1TEX06 &lt;dbl+lbl&gt;, P1TEX07 &lt;dbl&gt;, P1TEX08 &lt;dbl&gt;,
#   P1TEX09 &lt;dbl&gt;, P1TEX10 &lt;dbl&gt;, P1TEX11 &lt;dbl&gt;, P1TEX12 &lt;dbl&gt;, …</code></pre>
</div>
<details class="code-fold"><summary>Display code</summary><div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># A tibble: 2 × 2</span></span>
<span><span class="co">#   P3TEX15 `n()`</span></span>
<span><span class="co">#     &lt;dbl&gt; &lt;int&gt;</span></span>
<span><span class="co"># 1    5.26    10</span></span>
<span><span class="co"># 2   NA      242</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


<!-- -->

</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/tegorman13\.github\.io\/Representation_Study\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation column-body"><div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Home">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Home</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./study2.html" class="pagination-link" aria-label="Study 2 Analysis">
        <span class="nav-page-text">Study 2 Analysis</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb48" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Study 1 Analysis"</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co">- name: Thomas E. Gorman</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="co">  url: https://tegorman13.github.io/</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="co">  affiliations: </span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co">  - name:  Communication and Cognition Lab, Purdue University, USA</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="co">    affiliation-url: https://web.ics.purdue.edu/~treimer/</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="an">lightbox:</span><span class="co"> true</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> false</span></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="an">code-fold:</span><span class="co"> true</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a><span class="co">  #echo: false</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a><span class="co">  html: </span></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a><span class="co">    grid:</span></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a><span class="co">      sidebar-width: 220px</span></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a><span class="co">      body-width: 1200px</span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a><span class="co">      margin-width: 170px</span></span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a><span class="co">      gutter-width: 1.0rem</span></span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a><span class="co">  hugo-md:</span></span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a><span class="co">    include: true</span></span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a><span class="co">    html-math-method: mathjax</span></span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a><span class="co">    output-file: s1_hugo.md</span></span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a><span class="co">  gfm:</span></span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a><span class="co">    echo: true</span></span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a><span class="co">    output-file: s1_gfm.md</span></span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-32"><a href="#cb48-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb48-37"><a href="#cb48-37" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(dplyr,purrr,tidyr,here,haven,tibble,brms,bayestestR,emmeans,tidybayes,modelsummary,</span>
<span id="cb48-38"><a href="#cb48-38" aria-hidden="true" tabindex="-1"></a>               ggplot2,gt,ggh4x,lme4,flextable,kableExtra)</span>
<span id="cb48-39"><a href="#cb48-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-40"><a href="#cb48-40" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits=</span><span class="dv">2</span>, <span class="at">scipen=</span><span class="dv">999</span>, <span class="at">dplyr.summarise.inform=</span><span class="cn">FALSE</span>)</span>
<span id="cb48-41"><a href="#cb48-41" aria-hidden="true" tabindex="-1"></a><span class="fu">walk</span>(<span class="fu">c</span>(<span class="st">"fun_plot"</span>), <span class="sc">~</span> <span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="fu">paste0</span>(<span class="st">"Scripts/"</span>, .x, <span class="st">".R"</span>))))</span>
<span id="cb48-42"><a href="#cb48-42" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_nice</span>())</span>
<span id="cb48-43"><a href="#cb48-43" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-44"><a href="#cb48-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-45"><a href="#cb48-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-46"><a href="#cb48-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-49"><a href="#cb48-49" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-50"><a href="#cb48-50" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: FALSE</span></span>
<span id="cb48-51"><a href="#cb48-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-52"><a href="#cb48-52" aria-hidden="true" tabindex="-1"></a><span class="co"># s1 &lt;- haven::read_sav(here::here("data/data_qualtrics/Frequency &amp; Probability - 9-23-18_October 6, 2024_20.39.sav")) # length(unique(s1$ResponseId)) = 588</span></span>
<span id="cb48-53"><a href="#cb48-53" aria-hidden="true" tabindex="-1"></a><span class="co"># qd &lt;- unique(s1$ResponseId)</span></span>
<span id="cb48-54"><a href="#cb48-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-55"><a href="#cb48-55" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span>))</span>
<span id="cb48-56"><a href="#cb48-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-57"><a href="#cb48-57" aria-hidden="true" tabindex="-1"></a><span class="co">#gd &lt;- unique(s1$ResponseId)</span></span>
<span id="cb48-58"><a href="#cb48-58" aria-hidden="true" tabindex="-1"></a><span class="co"># gd %in% qd</span></span>
<span id="cb48-59"><a href="#cb48-59" aria-hidden="true" tabindex="-1"></a><span class="co"># qd %in% gd</span></span>
<span id="cb48-60"><a href="#cb48-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-61"><a href="#cb48-61" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> s1 <span class="sc">|&gt;</span> </span>
<span id="cb48-62"><a href="#cb48-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-63"><a href="#cb48-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">state1 =</span> <span class="fu">case_when</span>(</span>
<span id="cb48-64"><a href="#cb48-64" aria-hidden="true" tabindex="-1"></a>      Colorado <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Colorado"</span>,</span>
<span id="cb48-65"><a href="#cb48-65" aria-hidden="true" tabindex="-1"></a>      Massachusetts <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Massachusetts"</span>,</span>
<span id="cb48-66"><a href="#cb48-66" aria-hidden="true" tabindex="-1"></a>      California <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"California"</span>,</span>
<span id="cb48-67"><a href="#cb48-67" aria-hidden="true" tabindex="-1"></a>      Texas <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Texas"</span>,</span>
<span id="cb48-68"><a href="#cb48-68" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb48-69"><a href="#cb48-69" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb48-70"><a href="#cb48-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">state2 =</span> <span class="fu">case_when</span>(</span>
<span id="cb48-71"><a href="#cb48-71" aria-hidden="true" tabindex="-1"></a>      Colorado <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Colorado"</span>,</span>
<span id="cb48-72"><a href="#cb48-72" aria-hidden="true" tabindex="-1"></a>      Massachusetts <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Massachusetts"</span>,</span>
<span id="cb48-73"><a href="#cb48-73" aria-hidden="true" tabindex="-1"></a>      California <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"California"</span>,</span>
<span id="cb48-74"><a href="#cb48-74" aria-hidden="true" tabindex="-1"></a>      Texas <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Texas"</span>,</span>
<span id="cb48-75"><a href="#cb48-75" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb48-76"><a href="#cb48-76" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">|&gt;</span> </span>
<span id="cb48-77"><a href="#cb48-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">refClass =</span> <span class="fu">case_when</span>(</span>
<span id="cb48-78"><a href="#cb48-78" aria-hidden="true" tabindex="-1"></a>  ReferenceClass <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"USD"</span>,</span>
<span id="cb48-79"><a href="#cb48-79" aria-hidden="true" tabindex="-1"></a>  ReferenceClass <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"kWh"</span>,</span>
<span id="cb48-80"><a href="#cb48-80" aria-hidden="true" tabindex="-1"></a>  ReferenceClass <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"Percentage"</span></span>
<span id="cb48-81"><a href="#cb48-81" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">|&gt;</span> </span>
<span id="cb48-82"><a href="#cb48-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">calc=</span>MATH01) <span class="sc">|&gt;</span>  <span class="co"># replace NA's in calc with 0's</span></span>
<span id="cb48-83"><a href="#cb48-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id2=</span>ResponseId) <span class="sc">|&gt;</span></span>
<span id="cb48-84"><a href="#cb48-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id=</span><span class="fu">row_number</span>()) <span class="sc">|&gt;</span> <span class="fu">relocate</span>(id) <span class="sc">|&gt;</span> </span>
<span id="cb48-85"><a href="#cb48-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">calc=</span><span class="fu">factor</span>(<span class="fu">ifelse</span>(<span class="fu">is.na</span>(calc),<span class="dv">0</span>,calc))) <span class="sc">|&gt;</span> </span>
<span id="cb48-86"><a href="#cb48-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(refClass,state1,state2,calc, <span class="at">.after =</span> id) </span>
<span id="cb48-87"><a href="#cb48-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-88"><a href="#cb48-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-89"><a href="#cb48-89" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> s1 <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">edu=</span>DEM04) <span class="sc">|&gt;</span></span>
<span id="cb48-90"><a href="#cb48-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">edu =</span> <span class="fu">factor</span>(<span class="fu">case_when</span>(</span>
<span id="cb48-91"><a href="#cb48-91" aria-hidden="true" tabindex="-1"></a>    edu <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Some schooling, but no diploma or degree"</span>,</span>
<span id="cb48-92"><a href="#cb48-92" aria-hidden="true" tabindex="-1"></a>    edu <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Highschool diploma or GED"</span>,</span>
<span id="cb48-93"><a href="#cb48-93" aria-hidden="true" tabindex="-1"></a>    edu <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">"Some college"</span>,</span>
<span id="cb48-94"><a href="#cb48-94" aria-hidden="true" tabindex="-1"></a>    edu <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">"College degree"</span>,</span>
<span id="cb48-95"><a href="#cb48-95" aria-hidden="true" tabindex="-1"></a>    edu <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"Some graduate school"</span>,</span>
<span id="cb48-96"><a href="#cb48-96" aria-hidden="true" tabindex="-1"></a>    edu <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"Graduate degree"</span>,</span>
<span id="cb48-97"><a href="#cb48-97" aria-hidden="true" tabindex="-1"></a>    edu <span class="sc">==</span> <span class="dv">7</span> <span class="sc">~</span> <span class="st">"Choose not to answer"</span>,</span>
<span id="cb48-98"><a href="#cb48-98" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb48-99"><a href="#cb48-99" aria-hidden="true" tabindex="-1"></a>  ))) <span class="sc">|&gt;</span> <span class="fu">relocate</span>(edu, <span class="at">.after =</span> id) </span>
<span id="cb48-100"><a href="#cb48-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-101"><a href="#cb48-101" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(s1)</span></span>
<span id="cb48-102"><a href="#cb48-102" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(s1)[1000:1500]</span></span>
<span id="cb48-103"><a href="#cb48-103" aria-hidden="true" tabindex="-1"></a><span class="co"># colnames(s1)[1500:1843]</span></span>
<span id="cb48-104"><a href="#cb48-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-105"><a href="#cb48-105" aria-hidden="true" tabindex="-1"></a><span class="co"># select all columns that start with "A"</span></span>
<span id="cb48-106"><a href="#cb48-106" aria-hidden="true" tabindex="-1"></a><span class="co"># s12 &lt;- s1 |&gt; select(id,state1,state2,refClass,calc,edu,starts_with("A")) |&gt; </span></span>
<span id="cb48-107"><a href="#cb48-107" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(-starts_with("AIND"))</span></span>
<span id="cb48-108"><a href="#cb48-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-109"><a href="#cb48-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-110"><a href="#cb48-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-111"><a href="#cb48-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-112"><a href="#cb48-112" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb48-113"><a href="#cb48-113" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb48-114"><a href="#cb48-114" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb48-115"><a href="#cb48-115" aria-hidden="true" tabindex="-1"></a><span class="co"># t &lt;- s12 |&gt; filter(state1=="Texas") |&gt; </span></span>
<span id="cb48-116"><a href="#cb48-116" aria-hidden="true" tabindex="-1"></a><span class="co">#   # select only columns that contain "TEX" in the name</span></span>
<span id="cb48-117"><a href="#cb48-117" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(id,state1,state2,refClass,calc,edu,contains("TEX")) </span></span>
<span id="cb48-118"><a href="#cb48-118" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb48-119"><a href="#cb48-119" aria-hidden="true" tabindex="-1"></a><span class="co"># t2 &lt;- s12 |&gt; filter(state2=="Texas") |&gt; </span></span>
<span id="cb48-120"><a href="#cb48-120" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(id,state1,state2,refClass,calc,edu,contains("TEX"))</span></span>
<span id="cb48-121"><a href="#cb48-121" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb48-122"><a href="#cb48-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-123"><a href="#cb48-123" aria-hidden="true" tabindex="-1"></a>trim_na_and_empty_columns <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb48-124"><a href="#cb48-124" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb48-125"><a href="#cb48-125" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">where</span>(<span class="sc">~!</span>(<span class="fu">all</span>(<span class="fu">is.na</span>(.)) <span class="sc">|</span> (<span class="fu">is.character</span>(.) <span class="sc">&amp;&amp;</span> <span class="fu">all</span>(<span class="fu">trimws</span>(.) <span class="sc">==</span> <span class="st">""</span>))))) <span class="sc">|&gt;</span> </span>
<span id="cb48-126"><a href="#cb48-126" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"AIND"</span>))</span>
<span id="cb48-127"><a href="#cb48-127" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-128"><a href="#cb48-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-129"><a href="#cb48-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-130"><a href="#cb48-130" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list of trimmed datasets for each unique ID</span></span>
<span id="cb48-131"><a href="#cb48-131" aria-hidden="true" tabindex="-1"></a>dAll <span class="ot">&lt;-</span> s1 <span class="sc">%&gt;%</span></span>
<span id="cb48-132"><a href="#cb48-132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span></span>
<span id="cb48-133"><a href="#cb48-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_split</span>() <span class="sc">%&gt;%</span></span>
<span id="cb48-134"><a href="#cb48-134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(trim_na_and_empty_columns) <span class="sc">%&gt;%</span></span>
<span id="cb48-135"><a href="#cb48-135" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(<span class="fu">unique</span>(s1<span class="sc">$</span>id))</span>
<span id="cb48-136"><a href="#cb48-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-137"><a href="#cb48-137" aria-hidden="true" tabindex="-1"></a><span class="co"># modalities &lt;- c(A = "kWh", D = "USD", P = "Percentage")</span></span>
<span id="cb48-138"><a href="#cb48-138" aria-hidden="true" tabindex="-1"></a><span class="co"># states &lt;- c(CAL = "California", MASS = "Massachusetts", COL = "Colorado", TEX = "Texas")</span></span>
<span id="cb48-139"><a href="#cb48-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-140"><a href="#cb48-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-141"><a href="#cb48-141" aria-hidden="true" tabindex="-1"></a>parse_action_plan <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb48-142"><a href="#cb48-142" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-143"><a href="#cb48-143" aria-hidden="true" tabindex="-1"></a>  action_plan_cols <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb48-144"><a href="#cb48-144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">matches</span>(<span class="st">"01$|02$|03$|04$|05$|06$|33$|34$|35$|36$|37$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb48-145"><a href="#cb48-145" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb48-146"><a href="#cb48-146" aria-hidden="true" tabindex="-1"></a>      <span class="fu">matches</span>(<span class="st">"^[ADP]</span><span class="sc">\\</span><span class="st">d+(CAL|MASS|COL|TEX)</span><span class="sc">\\</span><span class="st">d{2,3}$"</span>), <span class="co">#,  # Select action plan columns</span></span>
<span id="cb48-147"><a href="#cb48-147" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span><span class="fu">matches</span>(<span class="st">"32$"</span>)                                     <span class="co"># Exclude columns ending with '32'</span></span>
<span id="cb48-148"><a href="#cb48-148" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb48-149"><a href="#cb48-149" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>()</span>
<span id="cb48-150"><a href="#cb48-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-151"><a href="#cb48-151" aria-hidden="true" tabindex="-1"></a>  df_long <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb48-152"><a href="#cb48-152" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">matches</span>(<span class="st">"01$|02$|03$|04$|05$|06$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb48-153"><a href="#cb48-153" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(</span>
<span id="cb48-154"><a href="#cb48-154" aria-hidden="true" tabindex="-1"></a>      <span class="at">cols =</span> <span class="fu">all_of</span>(action_plan_cols),</span>
<span id="cb48-155"><a href="#cb48-155" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"modality"</span>, <span class="st">"state"</span>, <span class="st">"item_num"</span>),</span>
<span id="cb48-156"><a href="#cb48-156" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_pattern =</span> <span class="st">"^([ADP])</span><span class="sc">\\</span><span class="st">d+(CAL|MASS|COL|TEX)(</span><span class="sc">\\</span><span class="st">d+)$"</span>,</span>
<span id="cb48-157"><a href="#cb48-157" aria-hidden="true" tabindex="-1"></a>      <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="cb48-158"><a href="#cb48-158" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> <span class="fu">select</span>(id,state1,state2,refClass,calc,edu,modality,state,item_num,value,id2,Duration__in_seconds_) </span>
<span id="cb48-159"><a href="#cb48-159" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-160"><a href="#cb48-160" aria-hidden="true" tabindex="-1"></a>  df_long <span class="ot">&lt;-</span> df_long <span class="sc">|&gt;</span> </span>
<span id="cb48-161"><a href="#cb48-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-162"><a href="#cb48-162" aria-hidden="true" tabindex="-1"></a>    <span class="at">appliance =</span> <span class="fu">case_when</span>(</span>
<span id="cb48-163"><a href="#cb48-163" aria-hidden="true" tabindex="-1"></a>      item_num <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"07"</span>,<span class="st">"08"</span>,<span class="st">"09"</span>,<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"Cooling"</span>,</span>
<span id="cb48-164"><a href="#cb48-164" aria-hidden="true" tabindex="-1"></a>      item_num <span class="sc">%in%</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">14</span> <span class="sc">~</span> <span class="st">"Heating"</span>,</span>
<span id="cb48-165"><a href="#cb48-165" aria-hidden="true" tabindex="-1"></a>      item_num <span class="sc">%in%</span> <span class="dv">15</span><span class="sc">:</span><span class="dv">18</span> <span class="sc">~</span> <span class="st">"Water Heating"</span>,</span>
<span id="cb48-166"><a href="#cb48-166" aria-hidden="true" tabindex="-1"></a>      item_num <span class="sc">%in%</span> <span class="dv">19</span><span class="sc">:</span><span class="dv">22</span> <span class="sc">~</span> <span class="st">"Refrigerator"</span>,</span>
<span id="cb48-167"><a href="#cb48-167" aria-hidden="true" tabindex="-1"></a>      item_num <span class="sc">%in%</span> <span class="dv">23</span><span class="sc">:</span><span class="dv">26</span> <span class="sc">~</span> <span class="st">"Other Appliance"</span>,</span>
<span id="cb48-168"><a href="#cb48-168" aria-hidden="true" tabindex="-1"></a>      item_num <span class="sc">%in%</span> <span class="dv">27</span><span class="sc">:</span><span class="dv">30</span> <span class="sc">~</span> <span class="st">"Total kWh"</span>,</span>
<span id="cb48-169"><a href="#cb48-169" aria-hidden="true" tabindex="-1"></a>      item_num <span class="sc">==</span> <span class="dv">31</span> <span class="sc">~</span> <span class="st">"Preferred Plan"</span>,</span>
<span id="cb48-170"><a href="#cb48-170" aria-hidden="true" tabindex="-1"></a>      item_num <span class="sc">%in%</span> <span class="dv">33</span><span class="sc">:</span><span class="dv">37</span> <span class="sc">~</span> <span class="st">"Reduction Choices"</span>,</span>
<span id="cb48-171"><a href="#cb48-171" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span></span>
<span id="cb48-172"><a href="#cb48-172" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb48-173"><a href="#cb48-173" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb48-174"><a href="#cb48-174" aria-hidden="true" tabindex="-1"></a>  <span class="co"># item_type - family, state, plan1 or plan2</span></span>
<span id="cb48-175"><a href="#cb48-175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">item_type=</span><span class="fu">case_when</span>(</span>
<span id="cb48-176"><a href="#cb48-176" aria-hidden="true" tabindex="-1"></a>    item_num <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"07"</span>,<span class="st">"11"</span>,<span class="st">"15"</span>,<span class="st">"19"</span>,<span class="st">"23"</span>,<span class="st">"27"</span>) <span class="sc">~</span> <span class="st">"family"</span>,</span>
<span id="cb48-177"><a href="#cb48-177" aria-hidden="true" tabindex="-1"></a>    item_num <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"08"</span>,<span class="st">"12"</span>,<span class="st">"16"</span>,<span class="st">"20"</span>,<span class="st">"24"</span>,<span class="st">"28"</span>) <span class="sc">~</span> <span class="st">"state_avg"</span>,</span>
<span id="cb48-178"><a href="#cb48-178" aria-hidden="true" tabindex="-1"></a>    item_num <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"09"</span>,<span class="st">"13"</span>,<span class="st">"17"</span>,<span class="st">"21"</span>,<span class="st">"25"</span>,<span class="st">"29"</span>) <span class="sc">~</span> <span class="st">"plan1"</span>,</span>
<span id="cb48-179"><a href="#cb48-179" aria-hidden="true" tabindex="-1"></a>    item_num <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"10"</span>,<span class="st">"14"</span>,<span class="st">"18"</span>,<span class="st">"22"</span>,<span class="st">"26"</span>,<span class="st">"30"</span>) <span class="sc">~</span> <span class="st">"plan2"</span>,</span>
<span id="cb48-180"><a href="#cb48-180" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"other"</span></span>
<span id="cb48-181"><a href="#cb48-181" aria-hidden="true" tabindex="-1"></a>  )) </span>
<span id="cb48-182"><a href="#cb48-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-183"><a href="#cb48-183" aria-hidden="true" tabindex="-1"></a><span class="co"># pivot family and state_avg into their own separate columns, plan1 and plan2 into a combined column called plan</span></span>
<span id="cb48-184"><a href="#cb48-184" aria-hidden="true" tabindex="-1"></a>df_long <span class="ot">&lt;-</span> df_long <span class="sc">|&gt;</span> </span>
<span id="cb48-185"><a href="#cb48-185" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(item_type <span class="sc">!=</span><span class="st">"other"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-186"><a href="#cb48-186" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>item_num) <span class="sc">|&gt;</span> </span>
<span id="cb48-187"><a href="#cb48-187" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">c</span>(<span class="st">"item_type"</span>), <span class="at">values_from =</span> value) <span class="sc">|&gt;</span> </span>
<span id="cb48-188"><a href="#cb48-188" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"plan1"</span>,<span class="st">"plan2"</span>), <span class="at">names_to =</span> <span class="st">"plan"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>) </span>
<span id="cb48-189"><a href="#cb48-189" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-190"><a href="#cb48-190" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-191"><a href="#cb48-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-192"><a href="#cb48-192" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> dAll <span class="sc">|&gt;</span> <span class="co"># map each item in dAll into parse function</span></span>
<span id="cb48-193"><a href="#cb48-193" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(parse_action_plan) </span>
<span id="cb48-194"><a href="#cb48-194" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-195"><a href="#cb48-195" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(test)</span>
<span id="cb48-196"><a href="#cb48-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-197"><a href="#cb48-197" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> s1 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(id) <span class="sc">|&gt;</span> </span>
<span id="cb48-198"><a href="#cb48-198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trial=</span><span class="fu">row_number</span>(), <span class="at">block=</span><span class="fu">ifelse</span>(trial<span class="sc">&gt;=</span><span class="dv">12</span>,<span class="dv">2</span>,<span class="dv">1</span>), <span class="at">plan=</span><span class="fu">as_factor</span>(plan),<span class="at">pct_goal=</span>.<span class="dv">15</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-199"><a href="#cb48-199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>trial)</span>
<span id="cb48-200"><a href="#cb48-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-201"><a href="#cb48-201" aria-hidden="true" tabindex="-1"></a><span class="co"># for id R_1kFwgoKAmNTwCs3 - when state== TEX, appliance == Heating, check values of family column</span></span>
<span id="cb48-202"><a href="#cb48-202" aria-hidden="true" tabindex="-1"></a>s1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(id2<span class="sc">==</span><span class="st">"R_1kFwgoKAmNTwCs3"</span> <span class="sc">&amp;</span> state<span class="sc">==</span><span class="st">"TEX"</span> <span class="sc">&amp;</span> appliance<span class="sc">==</span><span class="st">"Heating"</span>) <span class="sc">|&gt;</span> <span class="fu">select</span>(family) </span>
<span id="cb48-203"><a href="#cb48-203" aria-hidden="true" tabindex="-1"></a><span class="co"># for id R_1kFwgoKAmNTwCs3 - when state== TEX, appliance == Heating, set values of family column to 6118</span></span>
<span id="cb48-204"><a href="#cb48-204" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> s1 <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">family=</span><span class="fu">ifelse</span>(id2<span class="sc">==</span><span class="st">"R_1kFwgoKAmNTwCs3"</span> <span class="sc">&amp;</span> state<span class="sc">==</span><span class="st">"TEX"</span> <span class="sc">&amp;</span> appliance<span class="sc">==</span><span class="st">"Heating"</span>,<span class="dv">6118</span>,family))</span>
<span id="cb48-205"><a href="#cb48-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-206"><a href="#cb48-206" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> s1 <span class="sc">|&gt;</span> </span>
<span id="cb48-207"><a href="#cb48-207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">change =</span> value<span class="sc">-</span>family, </span>
<span id="cb48-208"><a href="#cb48-208" aria-hidden="true" tabindex="-1"></a>         <span class="at">state_p_dif =</span> value<span class="sc">-</span>state_avg,</span>
<span id="cb48-209"><a href="#cb48-209" aria-hidden="true" tabindex="-1"></a>         <span class="at">state_f_dif=</span> family<span class="sc">-</span>state_avg,</span>
<span id="cb48-210"><a href="#cb48-210" aria-hidden="true" tabindex="-1"></a>         <span class="at">less_avg =</span> value<span class="sc">&lt;</span>state_avg,</span>
<span id="cb48-211"><a href="#cb48-211" aria-hidden="true" tabindex="-1"></a>         <span class="at">calc =</span> <span class="fu">if_else</span>(calc <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"No Calculator"</span>, <span class="st">"Used Calculator"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb48-212"><a href="#cb48-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">value=</span><span class="fu">as.numeric</span>(value))</span>
<span id="cb48-213"><a href="#cb48-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-214"><a href="#cb48-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-215"><a href="#cb48-215" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(s1, here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/s1_processed.rds"</span>))</span>
<span id="cb48-216"><a href="#cb48-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-217"><a href="#cb48-217" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-218"><a href="#cb48-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-219"><a href="#cb48-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-220"><a href="#cb48-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-223"><a href="#cb48-223" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-224"><a href="#cb48-224" aria-hidden="true" tabindex="-1"></a>s1 <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/s1_processed.rds"</span>))</span>
<span id="cb48-225"><a href="#cb48-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-226"><a href="#cb48-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-227"><a href="#cb48-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-228"><a href="#cb48-228" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="ot">&lt;-</span> s1 <span class="sc">|&gt;</span> </span>
<span id="cb48-229"><a href="#cb48-229" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(appliance <span class="sc">!=</span><span class="st">"Total kWh"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-230"><a href="#cb48-230" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id,refClass,state,block,plan,calc,edu,pct_goal) <span class="sc">|&gt;</span> </span>
<span id="cb48-231"><a href="#cb48-231" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_kWh =</span> <span class="fu">sum</span>(value),<span class="at">orig_kWh=</span><span class="fu">sum</span>(family), </span>
<span id="cb48-232"><a href="#cb48-232" aria-hidden="true" tabindex="-1"></a>            <span class="at">pct_change =</span> <span class="fu">round</span>((orig_kWh<span class="sc">-</span>total_kWh)<span class="sc">/</span>orig_kWh,<span class="dv">3</span>), </span>
<span id="cb48-233"><a href="#cb48-233" aria-hidden="true" tabindex="-1"></a>            <span class="at">n_change =</span> <span class="fu">sum</span>(value<span class="sc">!=</span>family),</span>
<span id="cb48-234"><a href="#cb48-234" aria-hidden="true" tabindex="-1"></a>            <span class="at">state_p_dif=</span><span class="fu">mean</span>(state_p_dif),</span>
<span id="cb48-235"><a href="#cb48-235" aria-hidden="true" tabindex="-1"></a>            <span class="at">state_f_dif=</span><span class="fu">mean</span>(state_f_dif),</span>
<span id="cb48-236"><a href="#cb48-236" aria-hidden="true" tabindex="-1"></a>            <span class="at">n_less_avg =</span> <span class="fu">sum</span>(less_avg),</span>
<span id="cb48-237"><a href="#cb48-237" aria-hidden="true" tabindex="-1"></a>            <span class="at">duration=</span><span class="fu">first</span>(Duration__in_seconds_)) <span class="sc">|&gt;</span> </span>
<span id="cb48-238"><a href="#cb48-238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">matched_goal =</span> (pct_change <span class="sc">==</span> pct_goal), </span>
<span id="cb48-239"><a href="#cb48-239" aria-hidden="true" tabindex="-1"></a>             <span class="at">error =</span> pct_change <span class="sc">-</span> pct_goal,</span>
<span id="cb48-240"><a href="#cb48-240" aria-hidden="true" tabindex="-1"></a>            <span class="at">abs_error =</span> <span class="fu">abs</span>(error),</span>
<span id="cb48-241"><a href="#cb48-241" aria-hidden="true" tabindex="-1"></a>            <span class="at">close_match =</span> abs_error <span class="sc">&lt;=</span> <span class="fl">0.02</span>)</span>
<span id="cb48-242"><a href="#cb48-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-243"><a href="#cb48-243" aria-hidden="true" tabindex="-1"></a><span class="co"># s1_agg |&gt; filter(matched_goal==FALSE, abs_error&lt;.02) |&gt; pull(abs_error)</span></span>
<span id="cb48-244"><a href="#cb48-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-245"><a href="#cb48-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-246"><a href="#cb48-246" aria-hidden="true" tabindex="-1"></a>s1_agg4 <span class="ot">&lt;-</span> s1_agg <span class="sc">|&gt;</span> <span class="fu">group_by</span>(id,refClass) <span class="sc">|&gt;</span> </span>
<span id="cb48-247"><a href="#cb48-247" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mg=</span><span class="fu">sum</span>(matched_goal),<span class="at">n=</span><span class="fu">n</span>(), <span class="at">pct=</span>mg<span class="sc">/</span>n) </span>
<span id="cb48-248"><a href="#cb48-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-249"><a href="#cb48-249" aria-hidden="true" tabindex="-1"></a>s1_agg2 <span class="ot">&lt;-</span> s1_agg <span class="sc">|&gt;</span> <span class="fu">group_by</span>(id,refClass,state) <span class="sc">|&gt;</span> </span>
<span id="cb48-250"><a href="#cb48-250" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mg=</span><span class="fu">sum</span>(matched_goal),<span class="at">n=</span><span class="fu">n</span>(), <span class="at">pct=</span>mg<span class="sc">/</span>n) </span>
<span id="cb48-251"><a href="#cb48-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-252"><a href="#cb48-252" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> s1_agg <span class="sc">|&gt;</span>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">change_mean=</span><span class="fu">mean</span>(pct_change,<span class="at">na.rm=</span><span class="cn">TRUE</span>),<span class="at">change_sd=</span><span class="fu">sd</span>(pct_change,<span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb48-253"><a href="#cb48-253" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">z_score=</span>(pct_change<span class="sc">-</span>change_mean)<span class="sc">/</span>change_sd,</span>
<span id="cb48-254"><a href="#cb48-254" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">is_outlier=</span><span class="fu">abs</span>(z_score)<span class="sc">&gt;</span><span class="fl">3.0</span>)</span>
<span id="cb48-255"><a href="#cb48-255" aria-hidden="true" tabindex="-1"></a>outlier_id <span class="ot">&lt;-</span> outliers <span class="sc">|&gt;</span> <span class="fu">filter</span>(is_outlier) <span class="sc">|&gt;</span> <span class="fu">pull</span>(id) <span class="sc">|&gt;</span> <span class="fu">unique</span>()</span>
<span id="cb48-256"><a href="#cb48-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-257"><a href="#cb48-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-258"><a href="#cb48-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-259"><a href="#cb48-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-260"><a href="#cb48-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-261"><a href="#cb48-261" aria-hidden="true" tabindex="-1"></a><span class="co"># plot frequency dist of values of n_change</span></span>
<span id="cb48-262"><a href="#cb48-262" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>n_change)) <span class="sc">+</span></span>
<span id="cb48-263"><a href="#cb48-263" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">'dodgerblue4'</span>,<span class="at">width=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb48-264"><a href="#cb48-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span>
<span id="cb48-265"><a href="#cb48-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-266"><a href="#cb48-266" aria-hidden="true" tabindex="-1"></a><span class="co"># examine relationship between n_change and whether goal was matched</span></span>
<span id="cb48-267"><a href="#cb48-267" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>n_change,<span class="at">fill=</span>matched_goal)) <span class="sc">+</span></span>
<span id="cb48-268"><a href="#cb48-268" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position=</span><span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb48-269"><a href="#cb48-269" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb48-270"><a href="#cb48-270" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Relationship between # of changes and whether goal was matched"</span>,</span>
<span id="cb48-271"><a href="#cb48-271" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">"# of changes"</span>,</span>
<span id="cb48-272"><a href="#cb48-272" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb48-273"><a href="#cb48-273" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">"Set2"</span>)</span>
<span id="cb48-274"><a href="#cb48-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-275"><a href="#cb48-275" aria-hidden="true" tabindex="-1"></a><span class="co"># alternative way to examine the relationship, not a plot</span></span>
<span id="cb48-276"><a href="#cb48-276" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="sc">|&gt;</span> <span class="fu">group_by</span>(n_change,matched_goal) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb48-277"><a href="#cb48-277" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> <span class="fu">tab_header</span>(<span class="at">title=</span><span class="st">"Relationship between # of changes and whether goal was matched"</span>)</span>
<span id="cb48-278"><a href="#cb48-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-279"><a href="#cb48-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-280"><a href="#cb48-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-281"><a href="#cb48-281" aria-hidden="true" tabindex="-1"></a>s1 <span class="sc">|&gt;</span> </span>
<span id="cb48-282"><a href="#cb48-282" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(appliance <span class="sc">!=</span><span class="st">"Total kWh"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-283"><a href="#cb48-283" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state, appliance) <span class="sc">|&gt;</span> </span>
<span id="cb48-284"><a href="#cb48-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">family=</span><span class="fu">mean</span>(family),<span class="at">state_avg=</span><span class="fu">mean</span>(state_avg),<span class="at">dif=</span>family<span class="sc">-</span>state_avg)</span>
<span id="cb48-285"><a href="#cb48-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-286"><a href="#cb48-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-287"><a href="#cb48-287" aria-hidden="true" tabindex="-1"></a>s1 <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">diff=</span>family<span class="sc">-</span>state_avg) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(state,appliance) <span class="sc">|&gt;</span>  <span class="fu">summarize</span>(<span class="fu">min</span>(diff))</span>
<span id="cb48-288"><a href="#cb48-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-289"><a href="#cb48-289" aria-hidden="true" tabindex="-1"></a>s1 <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">diff=</span>family<span class="sc">-</span>state_avg) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(state) <span class="sc">|&gt;</span> <span class="fu">filter</span>(diff<span class="sc">&lt;</span><span class="dv">0</span>) <span class="sc">|&gt;</span> <span class="fu">select</span>(id,state1,state2,state,appliance,family,state_avg,plan,value,diff)</span>
<span id="cb48-290"><a href="#cb48-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-291"><a href="#cb48-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-292"><a href="#cb48-292" aria-hidden="true" tabindex="-1"></a><span class="co"># examine the relationship between n_less_avg (a value btw 0 and 5) and whether goal was matched</span></span>
<span id="cb48-293"><a href="#cb48-293" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>n_less_avg,<span class="at">fill=</span>matched_goal)) <span class="sc">+</span></span>
<span id="cb48-294"><a href="#cb48-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position=</span><span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb48-295"><a href="#cb48-295" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>state) <span class="sc">+</span></span>
<span id="cb48-296"><a href="#cb48-296" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb48-297"><a href="#cb48-297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Relationship between # of appliances changed to below state average and whether goal was matched"</span>,</span>
<span id="cb48-298"><a href="#cb48-298" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">"# of appliances changed to below state average"</span>,</span>
<span id="cb48-299"><a href="#cb48-299" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb48-300"><a href="#cb48-300" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">1</span>)) </span>
<span id="cb48-301"><a href="#cb48-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-302"><a href="#cb48-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-303"><a href="#cb48-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-304"><a href="#cb48-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-305"><a href="#cb48-305" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-306"><a href="#cb48-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-307"><a href="#cb48-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-308"><a href="#cb48-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-311"><a href="#cb48-311" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-312"><a href="#cb48-312" aria-hidden="true" tabindex="-1"></a><span class="co">#| panel: tabset</span></span>
<span id="cb48-313"><a href="#cb48-313" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: asis</span></span>
<span id="cb48-314"><a href="#cb48-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-315"><a href="#cb48-315" aria-hidden="true" tabindex="-1"></a>t1 <span class="ot">&lt;-</span> <span class="fu">datasummary_crosstab</span>(<span class="at">data=</span>s1_agg <span class="sc">|&gt;</span> <span class="fu">group_by</span>(id) <span class="sc">|&gt;</span> <span class="fu">slice</span>(<span class="dv">1</span>),</span>
<span id="cb48-316"><a href="#cb48-316" aria-hidden="true" tabindex="-1"></a>                           calc<span class="sc">~</span>refClass,</span>
<span id="cb48-317"><a href="#cb48-317" aria-hidden="true" tabindex="-1"></a>                           <span class="at">statistic =</span> <span class="dv">1</span> <span class="sc">~</span> N <span class="sc">+</span> <span class="fu">Percent</span>(<span class="st">"row"</span>),</span>
<span id="cb48-318"><a href="#cb48-318" aria-hidden="true" tabindex="-1"></a>                           <span class="at">output=</span><span class="st">'markdown'</span>)</span>
<span id="cb48-319"><a href="#cb48-319" aria-hidden="true" tabindex="-1"></a>t2 <span class="ot">&lt;-</span> <span class="fu">datasummary</span>(<span class="at">data=</span>s1_agg4 ,(<span class="st">`</span><span class="at"> </span><span class="st">`</span><span class="ot">=</span> pct)<span class="sc">*</span>refClass <span class="sc">~</span> Mean<span class="sc">+</span>Median<span class="sc">+</span>Mode<span class="sc">+</span>sd<span class="sc">+</span>Histogram,<span class="at">output=</span><span class="st">'markdown'</span>,<span class="at">title=</span><span class="st">"% of trials where goal was matched"</span>)</span>
<span id="cb48-320"><a href="#cb48-320" aria-hidden="true" tabindex="-1"></a>t3 <span class="ot">&lt;-</span> <span class="fu">datasummary</span>(<span class="at">data=</span>s1_agg, pct_change<span class="sc">*</span>refClass<span class="sc">~</span>Mean<span class="sc">+</span>Median<span class="sc">+</span>Mode, <span class="at">output=</span><span class="st">'markdown'</span>)</span>
<span id="cb48-321"><a href="#cb48-321" aria-hidden="true" tabindex="-1"></a>list_of_tables <span class="ot">&lt;-</span> <span class="fu">list</span>(t1,t2,t3)</span>
<span id="cb48-322"><a href="#cb48-322" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(list_of_tables) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Calculator by Ref Class tallies"</span>,<span class="st">"% of trials with matched goal"</span>,<span class="st">"% change in plan"</span>)</span>
<span id="cb48-323"><a href="#cb48-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-324"><a href="#cb48-324" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (itable <span class="cf">in</span> <span class="fu">names</span>(list_of_tables)) {</span>
<span id="cb48-325"><a href="#cb48-325" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">## %s</span><span class="sc">\n\n</span><span class="st">"</span>, itable))</span>
<span id="cb48-326"><a href="#cb48-326" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(list_of_tables[[itable]])</span>
<span id="cb48-327"><a href="#cb48-327" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-328"><a href="#cb48-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-329"><a href="#cb48-329" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-330"><a href="#cb48-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-331"><a href="#cb48-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-334"><a href="#cb48-334" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-335"><a href="#cb48-335" aria-hidden="true" tabindex="-1"></a>plot_hist_condit <span class="ot">&lt;-</span> <span class="cf">function</span>(fcondit,dat,pvar) {</span>
<span id="cb48-336"><a href="#cb48-336" aria-hidden="true" tabindex="-1"></a>  full_range <span class="ot">&lt;-</span> dat <span class="sc">|&gt;</span> <span class="fu">pull</span>({{pvar}}) <span class="sc">|&gt;</span> <span class="fu">range</span>(<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb48-337"><a href="#cb48-337" aria-hidden="true" tabindex="-1"></a>  dat <span class="sc">|&gt;</span></span>
<span id="cb48-338"><a href="#cb48-338" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(refClass <span class="sc">==</span> fcondit) <span class="sc">|&gt;</span> </span>
<span id="cb48-339"><a href="#cb48-339" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(.data[[pvar]])) <span class="sc">+</span></span>
<span id="cb48-340"><a href="#cb48-340" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">'dodgerblue4'</span>,<span class="at">width=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb48-341"><a href="#cb48-341" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="co">#+ coord_cartesian(xlim = full_range)</span></span>
<span id="cb48-342"><a href="#cb48-342" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-343"><a href="#cb48-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-344"><a href="#cb48-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-345"><a href="#cb48-345" aria-hidden="true" tabindex="-1"></a>s1_agg4 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(refClass) <span class="sc">|&gt;</span> </span>
<span id="cb48-346"><a href="#cb48-346" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Mean=</span><span class="fu">mean</span>(pct), <span class="at">Median=</span><span class="fu">median</span>(pct),<span class="at">Mode=</span>modeest<span class="sc">::</span><span class="fu">mlv</span>(pct,<span class="at">method=</span><span class="st">'mfv'</span>), <span class="at">sd=</span><span class="fu">sd</span>(pct), <span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb48-347"><a href="#cb48-347" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Distribution=</span>refClass) <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"Reference Class"</span><span class="ot">=</span>refClass) <span class="sc">|&gt;</span>  </span>
<span id="cb48-348"><a href="#cb48-348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb48-349"><a href="#cb48-349" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="at">title=</span><span class="st">"Descriptive Statistics of % of trials with matched goal"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-350"><a href="#cb48-350" aria-hidden="true" tabindex="-1"></a>  <span class="fu">text_transform</span>(</span>
<span id="cb48-351"><a href="#cb48-351" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations=</span><span class="fu">cells_body</span>(<span class="at">columns=</span><span class="st">'Distribution'</span>),</span>
<span id="cb48-352"><a href="#cb48-352" aria-hidden="true" tabindex="-1"></a>    <span class="at">fn=</span><span class="cf">function</span>(column) {</span>
<span id="cb48-353"><a href="#cb48-353" aria-hidden="true" tabindex="-1"></a>      <span class="fu">map</span>(column,plot_hist_condit,<span class="at">dat=</span>s1_agg4,<span class="at">pvar=</span><span class="st">'mg'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-354"><a href="#cb48-354" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot_image</span>(<span class="at">height=</span><span class="fu">px</span>(<span class="dv">50</span>),<span class="at">aspect_ratio=</span><span class="dv">2</span>)</span>
<span id="cb48-355"><a href="#cb48-355" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb48-356"><a href="#cb48-356" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-357"><a href="#cb48-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-358"><a href="#cb48-358" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(s1_agg <span class="sc">|&gt;</span> <span class="fu">filter</span>(abs_error<span class="sc">&lt;</span><span class="dv">1</span>), <span class="fu">aes</span>(<span class="at">x =</span> refClass, <span class="at">y =</span> abs_error, <span class="at">fill =</span> refClass)) <span class="sc">+</span></span>
<span id="cb48-359"><a href="#cb48-359" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb48-360"><a href="#cb48-360" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb48-361"><a href="#cb48-361" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Absolute Error by Reference Class"</span>,</span>
<span id="cb48-362"><a href="#cb48-362" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Reference Class"</span>,</span>
<span id="cb48-363"><a href="#cb48-363" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Absolute Error"</span></span>
<span id="cb48-364"><a href="#cb48-364" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb48-365"><a href="#cb48-365" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb48-366"><a href="#cb48-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-367"><a href="#cb48-367" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(s1_agg <span class="sc">|&gt;</span> <span class="fu">filter</span>(abs_error<span class="sc">&lt;</span><span class="dv">1</span>), <span class="fu">aes</span>(<span class="at">x =</span> abs_error, <span class="at">fill =</span> refClass)) <span class="sc">+</span></span>
<span id="cb48-368"><a href="#cb48-368" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.05</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb48-369"><a href="#cb48-369" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb48-370"><a href="#cb48-370" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Distribution of Absolute Error by Reference Class"</span>,</span>
<span id="cb48-371"><a href="#cb48-371" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Absolute Error"</span>,</span>
<span id="cb48-372"><a href="#cb48-372" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Frequency"</span></span>
<span id="cb48-373"><a href="#cb48-373" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb48-374"><a href="#cb48-374" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>refClass)</span>
<span id="cb48-375"><a href="#cb48-375" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-376"><a href="#cb48-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-377"><a href="#cb48-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-380"><a href="#cb48-380" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-381"><a href="#cb48-381" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: FALSE</span></span>
<span id="cb48-382"><a href="#cb48-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-383"><a href="#cb48-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-384"><a href="#cb48-384" aria-hidden="true" tabindex="-1"></a>m_zib <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb48-385"><a href="#cb48-385" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bf</span>(pct <span class="sc">~</span> refClass <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>id),</span>
<span id="cb48-386"><a href="#cb48-386" aria-hidden="true" tabindex="-1"></a>     zi <span class="sc">~</span> refClass <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>id)),</span>
<span id="cb48-387"><a href="#cb48-387" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">zero_inflated_beta</span>(),</span>
<span id="cb48-388"><a href="#cb48-388" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> s1_agg4</span>
<span id="cb48-389"><a href="#cb48-389" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-390"><a href="#cb48-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-391"><a href="#cb48-391" aria-hidden="true" tabindex="-1"></a>m_bb <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb48-392"><a href="#cb48-392" aria-hidden="true" tabindex="-1"></a>  pct <span class="sc">~</span> refClass <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>id),</span>
<span id="cb48-393"><a href="#cb48-393" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">beta_binomial</span>(),</span>
<span id="cb48-394"><a href="#cb48-394" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> s1_agg4</span>
<span id="cb48-395"><a href="#cb48-395" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-396"><a href="#cb48-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-397"><a href="#cb48-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-398"><a href="#cb48-398" aria-hidden="true" tabindex="-1"></a>m_bb <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb48-399"><a href="#cb48-399" aria-hidden="true" tabindex="-1"></a>    successes <span class="sc">|</span> <span class="fu">trials</span>(<span class="dv">4</span>) <span class="sc">~</span> refClass,</span>
<span id="cb48-400"><a href="#cb48-400" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">beta_binomial</span>(),</span>
<span id="cb48-401"><a href="#cb48-401" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> s1_agg4 <span class="sc">|&gt;</span> </span>
<span id="cb48-402"><a href="#cb48-402" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">successes =</span> pct <span class="sc">*</span> <span class="dv">4</span>)  <span class="co"># convert proportion back to count</span></span>
<span id="cb48-403"><a href="#cb48-403" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-404"><a href="#cb48-404" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression Coefficients:</span></span>
<span id="cb48-405"><a href="#cb48-405" aria-hidden="true" tabindex="-1"></a><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-406"><a href="#cb48-406" aria-hidden="true" tabindex="-1"></a><span class="co"># Intercept             -0.52      0.01    -0.55    -0.49 1.00     4003     3155</span></span>
<span id="cb48-407"><a href="#cb48-407" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassPercentage    -0.73      0.02    -0.77    -0.69 1.00     3603     2648</span></span>
<span id="cb48-408"><a href="#cb48-408" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassUSD           -1.74      0.02    -1.79    -1.69 1.00     3478     3007</span></span>
<span id="cb48-409"><a href="#cb48-409" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb48-410"><a href="#cb48-410" aria-hidden="true" tabindex="-1"></a><span class="co"># Further Distributional Parameters:</span></span>
<span id="cb48-411"><a href="#cb48-411" aria-hidden="true" tabindex="-1"></a><span class="co">#     Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-412"><a href="#cb48-412" aria-hidden="true" tabindex="-1"></a><span class="co"># phi     0.33      0.00     0.33     0.34 1.00     3255     2429</span></span>
<span id="cb48-413"><a href="#cb48-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-414"><a href="#cb48-414" aria-hidden="true" tabindex="-1"></a><span class="co"># &gt; m_bb |&gt; emmeans(~refClass, type="response")</span></span>
<span id="cb48-415"><a href="#cb48-415" aria-hidden="true" tabindex="-1"></a><span class="co">#  refClass   prob lower.HPD</span></span>
<span id="cb48-416"><a href="#cb48-416" aria-hidden="true" tabindex="-1"></a><span class="co">#  upper.HPD</span></span>
<span id="cb48-417"><a href="#cb48-417" aria-hidden="true" tabindex="-1"></a><span class="co">#  kWh        0.37      0.37      0.38</span></span>
<span id="cb48-418"><a href="#cb48-418" aria-hidden="true" tabindex="-1"></a><span class="co">#  Percentage 0.22      0.22      0.23</span></span>
<span id="cb48-419"><a href="#cb48-419" aria-hidden="true" tabindex="-1"></a><span class="co">#  USD        0.09      0.09      0.10</span></span>
<span id="cb48-420"><a href="#cb48-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-421"><a href="#cb48-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-422"><a href="#cb48-422" aria-hidden="true" tabindex="-1"></a>m_bb <span class="sc">|&gt;</span> <span class="fu">emmeans</span>(<span class="sc">~</span>refClass)</span>
<span id="cb48-423"><a href="#cb48-423" aria-hidden="true" tabindex="-1"></a>m_bb <span class="sc">|&gt;</span> <span class="fu">emmeans</span>(<span class="sc">~</span>refClass, <span class="at">type=</span><span class="st">"response"</span>)</span>
<span id="cb48-424"><a href="#cb48-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-425"><a href="#cb48-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-426"><a href="#cb48-426" aria-hidden="true" tabindex="-1"></a>m_bb_re <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb48-427"><a href="#cb48-427" aria-hidden="true" tabindex="-1"></a>    successes <span class="sc">|</span> <span class="fu">trials</span>(<span class="dv">4</span>) <span class="sc">~</span> refClass <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>id),</span>
<span id="cb48-428"><a href="#cb48-428" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">beta_binomial</span>(),</span>
<span id="cb48-429"><a href="#cb48-429" aria-hidden="true" tabindex="-1"></a>    <span class="at">cores=</span><span class="dv">4</span>,</span>
<span id="cb48-430"><a href="#cb48-430" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> s1_agg4 <span class="sc">|&gt;</span> </span>
<span id="cb48-431"><a href="#cb48-431" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">successes =</span> pct <span class="sc">*</span> <span class="dv">4</span>)</span>
<span id="cb48-432"><a href="#cb48-432" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-433"><a href="#cb48-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-434"><a href="#cb48-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-435"><a href="#cb48-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-436"><a href="#cb48-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-437"><a href="#cb48-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-438"><a href="#cb48-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-439"><a href="#cb48-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-440"><a href="#cb48-440" aria-hidden="true" tabindex="-1"></a>m_bb2 <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb48-441"><a href="#cb48-441" aria-hidden="true" tabindex="-1"></a>    mg <span class="sc">|</span> <span class="fu">trials</span>(<span class="dv">4</span>) <span class="sc">~</span> <span class="dv">0</span><span class="sc">+</span>refClass,</span>
<span id="cb48-442"><a href="#cb48-442" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">beta_binomial</span>(<span class="at">link =</span> <span class="st">"identity"</span>, <span class="at">link_phi =</span> <span class="st">"identity"</span>),</span>
<span id="cb48-443"><a href="#cb48-443" aria-hidden="true" tabindex="-1"></a>    <span class="at">chains=</span><span class="dv">2</span>,</span>
<span id="cb48-444"><a href="#cb48-444" aria-hidden="true" tabindex="-1"></a>    <span class="at">cores=</span><span class="dv">2</span>,</span>
<span id="cb48-445"><a href="#cb48-445" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> s1_agg4</span>
<span id="cb48-446"><a href="#cb48-446" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-447"><a href="#cb48-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-448"><a href="#cb48-448" aria-hidden="true" tabindex="-1"></a>m_bb3 <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb48-449"><a href="#cb48-449" aria-hidden="true" tabindex="-1"></a>    mg <span class="sc">|</span> <span class="fu">trials</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="dv">0</span><span class="sc">+</span>refClass,</span>
<span id="cb48-450"><a href="#cb48-450" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">beta_binomial</span>(<span class="at">link =</span> <span class="st">"identity"</span>, <span class="at">link_phi =</span> <span class="st">"identity"</span>),</span>
<span id="cb48-451"><a href="#cb48-451" aria-hidden="true" tabindex="-1"></a>    <span class="at">chains=</span><span class="dv">2</span>,</span>
<span id="cb48-452"><a href="#cb48-452" aria-hidden="true" tabindex="-1"></a>    <span class="at">cores=</span><span class="dv">2</span>,</span>
<span id="cb48-453"><a href="#cb48-453" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> s1_agg2</span>
<span id="cb48-454"><a href="#cb48-454" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-455"><a href="#cb48-455" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression Coefficients:</span></span>
<span id="cb48-456"><a href="#cb48-456" aria-hidden="true" tabindex="-1"></a><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-457"><a href="#cb48-457" aria-hidden="true" tabindex="-1"></a><span class="co"># refClasskWh            0.38      0.00     0.38     0.38 1.00     1900     1385</span></span>
<span id="cb48-458"><a href="#cb48-458" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassPercentage     0.22      0.00     0.22     0.22 1.00     1868     1549</span></span>
<span id="cb48-459"><a href="#cb48-459" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassUSD            0.09      0.00     0.09     0.10 1.00     2608     1328</span></span>
<span id="cb48-460"><a href="#cb48-460" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb48-461"><a href="#cb48-461" aria-hidden="true" tabindex="-1"></a><span class="co"># Further Distributional Parameters:</span></span>
<span id="cb48-462"><a href="#cb48-462" aria-hidden="true" tabindex="-1"></a><span class="co">#     Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-463"><a href="#cb48-463" aria-hidden="true" tabindex="-1"></a><span class="co"># phi     0.17      0.00     0.17     0.18 1.00      813      940</span></span>
<span id="cb48-464"><a href="#cb48-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-465"><a href="#cb48-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-466"><a href="#cb48-466" aria-hidden="true" tabindex="-1"></a>m_bb4 <span class="ot">&lt;-</span> <span class="fu">brm</span>(</span>
<span id="cb48-467"><a href="#cb48-467" aria-hidden="true" tabindex="-1"></a>    mg <span class="sc">|</span> <span class="fu">trials</span>(<span class="dv">2</span>) <span class="sc">~</span> refClass <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>id),</span>
<span id="cb48-468"><a href="#cb48-468" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="fu">beta_binomial</span>(),</span>
<span id="cb48-469"><a href="#cb48-469" aria-hidden="true" tabindex="-1"></a>    <span class="at">chains=</span><span class="dv">2</span>,</span>
<span id="cb48-470"><a href="#cb48-470" aria-hidden="true" tabindex="-1"></a>    <span class="at">cores=</span><span class="dv">2</span>,</span>
<span id="cb48-471"><a href="#cb48-471" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> s1_agg2</span>
<span id="cb48-472"><a href="#cb48-472" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-473"><a href="#cb48-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-474"><a href="#cb48-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-475"><a href="#cb48-475" aria-hidden="true" tabindex="-1"></a>m_t1 <span class="ot">&lt;-</span> <span class="fu">brm</span>(matched_goal <span class="sc">~</span> refClass <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>id), <span class="at">family =</span> <span class="fu">bernoulli</span>(), <span class="at">data =</span> s1_agg)</span>
<span id="cb48-476"><a href="#cb48-476" aria-hidden="true" tabindex="-1"></a> m_t1 <span class="sc">|&gt;</span> <span class="fu">emmeans</span>(<span class="sc">~</span>refClass, <span class="at">type=</span><span class="st">"response"</span>)</span>
<span id="cb48-477"><a href="#cb48-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-478"><a href="#cb48-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-479"><a href="#cb48-479" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb48-480"><a href="#cb48-480" aria-hidden="true" tabindex="-1"></a><span class="co"># m_zib &lt;- brm(</span></span>
<span id="cb48-481"><a href="#cb48-481" aria-hidden="true" tabindex="-1"></a><span class="co">#   bf(pct ~ refClass + (1|id),</span></span>
<span id="cb48-482"><a href="#cb48-482" aria-hidden="true" tabindex="-1"></a><span class="co">#      zi ~ refClass + (1|id)),</span></span>
<span id="cb48-483"><a href="#cb48-483" aria-hidden="true" tabindex="-1"></a><span class="co">#   family = zero_inflated_beta(),</span></span>
<span id="cb48-484"><a href="#cb48-484" aria-hidden="true" tabindex="-1"></a><span class="co">#   iter=2000,</span></span>
<span id="cb48-485"><a href="#cb48-485" aria-hidden="true" tabindex="-1"></a><span class="co">#   cores=4,</span></span>
<span id="cb48-486"><a href="#cb48-486" aria-hidden="true" tabindex="-1"></a><span class="co">#   data = s1_agg4 |&gt; mutate( pct = ifelse(pct == 1, 0.999, ifelse(pct == 0, 0.001, pct)))</span></span>
<span id="cb48-487"><a href="#cb48-487" aria-hidden="true" tabindex="-1"></a><span class="co"># )</span></span>
<span id="cb48-488"><a href="#cb48-488" aria-hidden="true" tabindex="-1"></a><span class="co"># Multilevel Hyperparameters:</span></span>
<span id="cb48-489"><a href="#cb48-489" aria-hidden="true" tabindex="-1"></a><span class="co"># ~id (Number of levels: 242) </span></span>
<span id="cb48-490"><a href="#cb48-490" aria-hidden="true" tabindex="-1"></a><span class="co">#                  Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-491"><a href="#cb48-491" aria-hidden="true" tabindex="-1"></a><span class="co"># sd(Intercept)        0.09      0.07     0.00     0.26 1.00     2164     1682</span></span>
<span id="cb48-492"><a href="#cb48-492" aria-hidden="true" tabindex="-1"></a><span class="co"># sd(zi_Intercept)     0.77      0.63     0.03     2.32 1.00     2846     1826</span></span>
<span id="cb48-493"><a href="#cb48-493" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb48-494"><a href="#cb48-494" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression Coefficients:</span></span>
<span id="cb48-495"><a href="#cb48-495" aria-hidden="true" tabindex="-1"></a><span class="co">#                       Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-496"><a href="#cb48-496" aria-hidden="true" tabindex="-1"></a><span class="co"># Intercept                -0.37      0.16    -0.67    -0.06 1.00     5376     2635</span></span>
<span id="cb48-497"><a href="#cb48-497" aria-hidden="true" tabindex="-1"></a><span class="co"># zi_Intercept             -8.17      3.46   -17.15    -3.80 1.00     2673     1375</span></span>
<span id="cb48-498"><a href="#cb48-498" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassPercentage       -0.43      0.22    -0.87     0.00 1.00     5054     2984</span></span>
<span id="cb48-499"><a href="#cb48-499" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassUSD              -0.69      0.21    -1.10    -0.28 1.00     4759     2772</span></span>
<span id="cb48-500"><a href="#cb48-500" aria-hidden="true" tabindex="-1"></a><span class="co"># zi_refClassPercentage    -0.04      4.78   -10.32    10.04 1.00     2037     1627</span></span>
<span id="cb48-501"><a href="#cb48-501" aria-hidden="true" tabindex="-1"></a><span class="co"># zi_refClassUSD            0.47      4.50    -8.53    10.19 1.00     2181     1665</span></span>
<span id="cb48-502"><a href="#cb48-502" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb48-503"><a href="#cb48-503" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb48-504"><a href="#cb48-504" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb48-505"><a href="#cb48-505" aria-hidden="true" tabindex="-1"></a> s1_agg <span class="sc">|&gt;</span> <span class="fu">group_by</span>(id,refClass) <span class="sc">|&gt;</span> </span>
<span id="cb48-506"><a href="#cb48-506" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mg=</span><span class="fu">sum</span>(matched_goal),<span class="at">n=</span><span class="fu">n</span>(), <span class="at">pct=</span>mg<span class="sc">/</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb48-507"><a href="#cb48-507" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(refClass) <span class="sc">|&gt;</span> </span>
<span id="cb48-508"><a href="#cb48-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_pct=</span><span class="fu">mean</span>(pct), <span class="at">sd_pct=</span><span class="fu">sd</span>(pct), <span class="at">n=</span><span class="fu">n</span>()) </span>
<span id="cb48-509"><a href="#cb48-509" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb48-510"><a href="#cb48-510" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb48-511"><a href="#cb48-511" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb48-512"><a href="#cb48-512" aria-hidden="true" tabindex="-1"></a> post <span class="ot">&lt;-</span> <span class="fu">posterior_samples</span>(m_t1)</span>
<span id="cb48-513"><a href="#cb48-513" aria-hidden="true" tabindex="-1"></a>nsims <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb48-514"><a href="#cb48-514" aria-hidden="true" tabindex="-1"></a>re_sims <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(nsims, <span class="dv">0</span>, <span class="fu">mean</span>(post<span class="sc">$</span>sd_id__Intercept))</span>
<span id="cb48-515"><a href="#cb48-515" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-516"><a href="#cb48-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-517"><a href="#cb48-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-520"><a href="#cb48-520" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-521"><a href="#cb48-521" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb48-522"><a href="#cb48-522" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>pct_change)) <span class="sc">+</span></span>
<span id="cb48-523"><a href="#cb48-523" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">fill=</span>state), <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb48-524"><a href="#cb48-524" aria-hidden="true" tabindex="-1"></a>  ggdist<span class="sc">::</span><span class="fu">stat_halfeye</span>() <span class="sc">+</span></span>
<span id="cb48-525"><a href="#cb48-525" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rug</span>(<span class="at">alpha=</span><span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb48-526"><a href="#cb48-526" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_boxplot</span>(<span class="at">width=</span><span class="fl">0.5</span>, <span class="at">alpha=</span><span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb48-527"><a href="#cb48-527" aria-hidden="true" tabindex="-1"></a>  <span class="co">#facet_wrap(~refClass) +</span></span>
<span id="cb48-528"><a href="#cb48-528" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Distribution of Percent Change by State and Reference Class - Before outlier exclusion"</span>,</span>
<span id="cb48-529"><a href="#cb48-529" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">"Percent Change"</span>,</span>
<span id="cb48-530"><a href="#cb48-530" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb48-531"><a href="#cb48-531" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">"Set2"</span>)</span>
<span id="cb48-532"><a href="#cb48-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-533"><a href="#cb48-533" aria-hidden="true" tabindex="-1"></a><span class="co"># descriptive table to do with plot</span></span>
<span id="cb48-534"><a href="#cb48-534" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="sc">|&gt;</span> </span>
<span id="cb48-535"><a href="#cb48-535" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(refClass,state) <span class="sc">|&gt;</span> </span>
<span id="cb48-536"><a href="#cb48-536" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_pct_change=</span><span class="fu">median</span>(pct_change), <span class="at">sd_pct_change=</span><span class="fu">sd</span>(pct_change), <span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb48-537"><a href="#cb48-537" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb48-538"><a href="#cb48-538" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="at">title=</span><span class="st">"Descriptive Statistics of Percent Change by State and Reference Class"</span>)</span>
<span id="cb48-539"><a href="#cb48-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-540"><a href="#cb48-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-541"><a href="#cb48-541" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="ot">&lt;-</span> s1_agg <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span>id <span class="sc">%in%</span> outlier_id)</span>
<span id="cb48-542"><a href="#cb48-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-543"><a href="#cb48-543" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-544"><a href="#cb48-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-545"><a href="#cb48-545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-546"><a href="#cb48-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-547"><a href="#cb48-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-550"><a href="#cb48-550" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-551"><a href="#cb48-551" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 10</span></span>
<span id="cb48-552"><a href="#cb48-552" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 9</span></span>
<span id="cb48-553"><a href="#cb48-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-554"><a href="#cb48-554" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add geom_vline with x intercept based on pct_goal of the data (which is currently a string of form 10%)</span></span>
<span id="cb48-555"><a href="#cb48-555" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="sc">|&gt;</span> </span>
<span id="cb48-556"><a href="#cb48-556" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(block<span class="sc">==</span><span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-557"><a href="#cb48-557" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb48-558"><a href="#cb48-558" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id=</span><span class="fu">reorder</span>(id,pct_change)) <span class="sc">|&gt;</span> </span>
<span id="cb48-559"><a href="#cb48-559" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span>id,<span class="at">x=</span>pct_change)) <span class="sc">+</span> </span>
<span id="cb48-560"><a href="#cb48-560" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">1</span>,<span class="at">alpha=</span><span class="fl">0.6</span>,<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">w=</span><span class="dv">0</span>, <span class="at">h=</span><span class="fl">0.17</span>)) <span class="sc">+</span></span>
<span id="cb48-561"><a href="#cb48-561" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept=</span>.<span class="dv">15</span>),<span class="at">linetype=</span><span class="st">"dashed"</span>,<span class="at">alpha=</span>.<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb48-562"><a href="#cb48-562" aria-hidden="true" tabindex="-1"></a>  ggh4x<span class="sc">::</span><span class="fu">facet_nested_wrap</span>(<span class="sc">~</span>refClass,<span class="at">axes=</span><span class="st">"all"</span>,<span class="at">scales=</span><span class="st">"free"</span>,<span class="at">ncol=</span><span class="dv">2</span>)  <span class="sc">+</span> </span>
<span id="cb48-563"><a href="#cb48-563" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">"Participant Id"</span>, <span class="at">x=</span><span class="st">"Percent Change"</span>, <span class="at">title=</span><span class="st">"Individual Performance"</span>) <span class="sc">+</span></span>
<span id="cb48-564"><a href="#cb48-564" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Manrope Light"</span>, <span class="at">face =</span> <span class="st">"plain"</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">0.7</span>)))</span>
<span id="cb48-565"><a href="#cb48-565" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-566"><a href="#cb48-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-567"><a href="#cb48-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-568"><a href="#cb48-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-569"><a href="#cb48-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-570"><a href="#cb48-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-571"><a href="#cb48-571" aria-hidden="true" tabindex="-1"></a><span class="fu">## Looking at % of subjects who hit the target reduction</span></span>
<span id="cb48-572"><a href="#cb48-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-575"><a href="#cb48-575" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-576"><a href="#cb48-576" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Summarize the percentage of participants meeting the goal for each condition</span></span>
<span id="cb48-577"><a href="#cb48-577" aria-hidden="true" tabindex="-1"></a>summary_pct <span class="ot">&lt;-</span> s1_agg <span class="sc">|&gt;</span></span>
<span id="cb48-578"><a href="#cb48-578" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(refClass) <span class="sc">|&gt;</span></span>
<span id="cb48-579"><a href="#cb48-579" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb48-580"><a href="#cb48-580" aria-hidden="true" tabindex="-1"></a>    <span class="at">matched_count =</span> <span class="fu">sum</span>(matched_goal),</span>
<span id="cb48-581"><a href="#cb48-581" aria-hidden="true" tabindex="-1"></a>    <span class="at">matched_count2 =</span> <span class="fu">sum</span>(close_match),</span>
<span id="cb48-582"><a href="#cb48-582" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_count =</span> <span class="fu">n</span>(),</span>
<span id="cb48-583"><a href="#cb48-583" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_matched =</span> matched_count <span class="sc">/</span> total_count <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb48-584"><a href="#cb48-584" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb48-585"><a href="#cb48-585" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-586"><a href="#cb48-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-587"><a href="#cb48-587" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Create plots for the percentage of subjects in each condition who matched the target pct</span></span>
<span id="cb48-588"><a href="#cb48-588" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(summary_pct, <span class="fu">aes</span>(<span class="at">x =</span> refClass, <span class="at">y =</span> pct_matched, <span class="at">fill =</span> refClass)) <span class="sc">+</span></span>
<span id="cb48-589"><a href="#cb48-589" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span></span>
<span id="cb48-590"><a href="#cb48-590" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb48-591"><a href="#cb48-591" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Percentage of Participants Matching Target Pct by Condition"</span>,</span>
<span id="cb48-592"><a href="#cb48-592" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Reference Class"</span>,</span>
<span id="cb48-593"><a href="#cb48-593" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Percentage Matched (%)"</span>,</span>
<span id="cb48-594"><a href="#cb48-594" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Rounding"</span></span>
<span id="cb48-595"><a href="#cb48-595" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb48-596"><a href="#cb48-596" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb48-597"><a href="#cb48-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-598"><a href="#cb48-598" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(summary_pct, <span class="fu">aes</span>(<span class="at">x =</span> refClass, <span class="at">y =</span> matched_count2, <span class="at">fill =</span> refClass)) <span class="sc">+</span></span>
<span id="cb48-599"><a href="#cb48-599" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>()) <span class="sc">+</span></span>
<span id="cb48-600"><a href="#cb48-600" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb48-601"><a href="#cb48-601" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Percentage of Participants Matching Target Pct by Condition - 2% leeway"</span>,</span>
<span id="cb48-602"><a href="#cb48-602" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Reference Class"</span>,</span>
<span id="cb48-603"><a href="#cb48-603" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Percentage Matched (%)"</span>,</span>
<span id="cb48-604"><a href="#cb48-604" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Rounding"</span></span>
<span id="cb48-605"><a href="#cb48-605" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb48-606"><a href="#cb48-606" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb48-607"><a href="#cb48-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-608"><a href="#cb48-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-609"><a href="#cb48-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-610"><a href="#cb48-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-611"><a href="#cb48-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-612"><a href="#cb48-612" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="sc">|&gt;</span> <span class="fu">group_by</span>(id,refClass) <span class="sc">|&gt;</span> </span>
<span id="cb48-613"><a href="#cb48-613" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mg=</span><span class="fu">sum</span>(matched_goal),<span class="at">n=</span><span class="fu">n</span>(), <span class="at">pct=</span>mg<span class="sc">/</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb48-614"><a href="#cb48-614" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>pct)) <span class="sc">+</span></span>
<span id="cb48-615"><a href="#cb48-615" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">fill=</span>refClass), <span class="at">alpha=</span><span class="fl">0.5</span>) </span>
<span id="cb48-616"><a href="#cb48-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-617"><a href="#cb48-617" aria-hidden="true" tabindex="-1"></a><span class="co"># histogram</span></span>
<span id="cb48-618"><a href="#cb48-618" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="sc">|&gt;</span> <span class="fu">group_by</span>(id,refClass) <span class="sc">|&gt;</span> </span>
<span id="cb48-619"><a href="#cb48-619" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mg=</span><span class="fu">sum</span>(matched_goal),<span class="at">n=</span><span class="fu">n</span>(), <span class="at">pct=</span>mg<span class="sc">/</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb48-620"><a href="#cb48-620" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>pct)) <span class="sc">+</span></span>
<span id="cb48-621"><a href="#cb48-621" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill=</span>refClass)) <span class="sc">+</span></span>
<span id="cb48-622"><a href="#cb48-622" aria-hidden="true" tabindex="-1"></a>  ggdist<span class="sc">::</span><span class="fu">stat_halfeye</span>() <span class="sc">+</span></span>
<span id="cb48-623"><a href="#cb48-623" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rug</span>(<span class="at">alpha=</span><span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb48-624"><a href="#cb48-624" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_boxplot</span>(<span class="at">width=</span><span class="fl">0.5</span>, <span class="at">alpha=</span><span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb48-625"><a href="#cb48-625" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>refClass) <span class="sc">+</span></span>
<span id="cb48-626"><a href="#cb48-626" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Distributions of % of trials that matched goal"</span>,</span>
<span id="cb48-627"><a href="#cb48-627" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">"% of trials (out of 4) that matched goal"</span>,</span>
<span id="cb48-628"><a href="#cb48-628" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">"Number of Participants"</span>,</span>
<span id="cb48-629"><a href="#cb48-629" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill=</span><span class="st">"Reference Class"</span>) <span class="sc">+</span></span>
<span id="cb48-630"><a href="#cb48-630" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette=</span><span class="st">"Set2"</span>) <span class="sc">+</span> </span>
<span id="cb48-631"><a href="#cb48-631" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">80</span>,<span class="dv">5</span>)) <span class="sc">+</span> <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,.<span class="dv">25</span>),<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">percent_format</span>(<span class="at">accuracy=</span><span class="dv">1</span>)) </span>
<span id="cb48-632"><a href="#cb48-632" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-633"><a href="#cb48-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-634"><a href="#cb48-634" aria-hidden="true" tabindex="-1"></a><span class="co"># s1_agg |&gt; group_by(id,refClass) |&gt; </span></span>
<span id="cb48-635"><a href="#cb48-635" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; </span></span>
<span id="cb48-636"><a href="#cb48-636" aria-hidden="true" tabindex="-1"></a><span class="co">#   group_by(refClass) |&gt;</span></span>
<span id="cb48-637"><a href="#cb48-637" aria-hidden="true" tabindex="-1"></a><span class="co">#   summarise(mean_pct=mean(pct), sd_pct=sd(pct), n=n()) </span></span>
<span id="cb48-638"><a href="#cb48-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-639"><a href="#cb48-639" aria-hidden="true" tabindex="-1"></a>s1_agg <span class="sc">|&gt;</span> <span class="fu">group_by</span>(id,refClass) <span class="sc">|&gt;</span> </span>
<span id="cb48-640"><a href="#cb48-640" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mg=</span><span class="fu">sum</span>(matched_goal), <span class="at">n=</span><span class="fu">n</span>(), <span class="at">pct=</span>mg<span class="sc">/</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb48-641"><a href="#cb48-641" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(refClass,mg) <span class="sc">|&gt;</span></span>
<span id="cb48-642"><a href="#cb48-642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span>  <span class="fu">rename</span>(<span class="st">"# matched goal"</span><span class="ot">=</span>mg,<span class="st">"# participants"</span><span class="ot">=</span>n) <span class="sc">|&gt;</span> <span class="fu">gt</span>() <span class="sc">|&gt;</span>  <span class="fu">tab_header</span>(</span>
<span id="cb48-643"><a href="#cb48-643" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"**Number of Trials participants match goal by Reference class**"</span>),</span>
<span id="cb48-644"><a href="#cb48-644" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Each participant had 4 trials where they attempt to create a plan to match goal"</span></span>
<span id="cb48-645"><a href="#cb48-645" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb48-646"><a href="#cb48-646" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-647"><a href="#cb48-647" aria-hidden="true" tabindex="-1"></a>  <span class="co"># setNames(c("refClass", "# of trials with matched goal", "n")) |&gt;</span></span>
<span id="cb48-648"><a href="#cb48-648" aria-hidden="true" tabindex="-1"></a>  <span class="co"># knitr::kable(booktabs=T,col.names = c("Reference Class", </span></span>
<span id="cb48-649"><a href="#cb48-649" aria-hidden="true" tabindex="-1"></a>  <span class="co">#                           "# of correct trials ",</span></span>
<span id="cb48-650"><a href="#cb48-650" aria-hidden="true" tabindex="-1"></a>  <span class="co">#                           "n"),</span></span>
<span id="cb48-651"><a href="#cb48-651" aria-hidden="true" tabindex="-1"></a>  <span class="co">#              format = "html") |&gt; </span></span>
<span id="cb48-652"><a href="#cb48-652" aria-hidden="true" tabindex="-1"></a>  <span class="co"># kableExtra::kable_styling(full_width = F) |&gt; column_spec(1:3, width = "2cm")</span></span>
<span id="cb48-653"><a href="#cb48-653" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-654"><a href="#cb48-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-655"><a href="#cb48-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-656"><a href="#cb48-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-657"><a href="#cb48-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-658"><a href="#cb48-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-659"><a href="#cb48-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-660"><a href="#cb48-660" aria-hidden="true" tabindex="-1"></a>summary_pct <span class="sc">|&gt;</span></span>
<span id="cb48-661"><a href="#cb48-661" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb48-662"><a href="#cb48-662" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb48-663"><a href="#cb48-663" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"**Percentage of Trials Matching Target Pct by Condition**"</span>),</span>
<span id="cb48-664"><a href="#cb48-664" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Grouped by Reference Class, Rounding, and Pct Goal"</span></span>
<span id="cb48-665"><a href="#cb48-665" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb48-666"><a href="#cb48-666" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb48-667"><a href="#cb48-667" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(pct_matched),</span>
<span id="cb48-668"><a href="#cb48-668" aria-hidden="true" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">2</span></span>
<span id="cb48-669"><a href="#cb48-669" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb48-670"><a href="#cb48-670" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb48-671"><a href="#cb48-671" aria-hidden="true" tabindex="-1"></a>    <span class="at">refClass =</span> <span class="st">"Reference Class"</span>,</span>
<span id="cb48-672"><a href="#cb48-672" aria-hidden="true" tabindex="-1"></a>    <span class="at">matched_count =</span> <span class="st">"Matched Count"</span>,</span>
<span id="cb48-673"><a href="#cb48-673" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_count =</span> <span class="st">"Total Count"</span>,</span>
<span id="cb48-674"><a href="#cb48-674" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_matched =</span> <span class="st">"Percentage Matched (%)"</span></span>
<span id="cb48-675"><a href="#cb48-675" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb48-676"><a href="#cb48-676" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_align</span>(</span>
<span id="cb48-677"><a href="#cb48-677" aria-hidden="true" tabindex="-1"></a>    <span class="at">align =</span> <span class="st">"center"</span>,</span>
<span id="cb48-678"><a href="#cb48-678" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>()</span>
<span id="cb48-679"><a href="#cb48-679" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb48-680"><a href="#cb48-680" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb48-681"><a href="#cb48-681" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">"Participants"</span>,</span>
<span id="cb48-682"><a href="#cb48-682" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(matched_count, total_count, pct_matched)</span>
<span id="cb48-683"><a href="#cb48-683" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-684"><a href="#cb48-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-685"><a href="#cb48-685" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-686"><a href="#cb48-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-687"><a href="#cb48-687" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-688"><a href="#cb48-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-691"><a href="#cb48-691" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-692"><a href="#cb48-692" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: FALSE</span></span>
<span id="cb48-693"><a href="#cb48-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-694"><a href="#cb48-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-695"><a href="#cb48-695" aria-hidden="true" tabindex="-1"></a>contingency_table <span class="ot">&lt;-</span> s1_agg <span class="sc">%&gt;%</span></span>
<span id="cb48-696"><a href="#cb48-696" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(refClass) <span class="sc">%&gt;%</span></span>
<span id="cb48-697"><a href="#cb48-697" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb48-698"><a href="#cb48-698" aria-hidden="true" tabindex="-1"></a>      <span class="at">matched =</span> <span class="fu">sum</span>(matched_goal),</span>
<span id="cb48-699"><a href="#cb48-699" aria-hidden="true" tabindex="-1"></a>      <span class="at">unmatched =</span> <span class="fu">n</span>() <span class="sc">-</span> <span class="fu">sum</span>(matched_goal)</span>
<span id="cb48-700"><a href="#cb48-700" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb48-701"><a href="#cb48-701" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(matched, unmatched) <span class="sc">%&gt;%</span></span>
<span id="cb48-702"><a href="#cb48-702" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as.matrix</span>()</span>
<span id="cb48-703"><a href="#cb48-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-704"><a href="#cb48-704" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the chi-squared test</span></span>
<span id="cb48-705"><a href="#cb48-705" aria-hidden="true" tabindex="-1"></a>chisq_test <span class="ot">&lt;-</span> <span class="fu">chisq.test</span>(contingency_table)</span>
<span id="cb48-706"><a href="#cb48-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-707"><a href="#cb48-707" aria-hidden="true" tabindex="-1"></a><span class="co"># View the results</span></span>
<span id="cb48-708"><a href="#cb48-708" aria-hidden="true" tabindex="-1"></a>chisq_test</span>
<span id="cb48-709"><a href="#cb48-709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-710"><a href="#cb48-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-711"><a href="#cb48-711" aria-hidden="true" tabindex="-1"></a>s1_aggb <span class="ot">&lt;-</span> s1_agg <span class="sc">%&gt;%</span></span>
<span id="cb48-712"><a href="#cb48-712" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">matched_goal =</span> <span class="fu">as.numeric</span>(matched_goal)) </span>
<span id="cb48-713"><a href="#cb48-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-714"><a href="#cb48-714" aria-hidden="true" tabindex="-1"></a>m1_s1 <span class="ot">&lt;-</span> brms<span class="sc">::</span><span class="fu">brm</span>(</span>
<span id="cb48-715"><a href="#cb48-715" aria-hidden="true" tabindex="-1"></a>  matched_goal <span class="sc">~</span> refClass,        <span class="co"># Logistic regression with reference class as predictor</span></span>
<span id="cb48-716"><a href="#cb48-716" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> s1_agg,                    <span class="co"># The dataset</span></span>
<span id="cb48-717"><a href="#cb48-717" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">bernoulli</span>(),           <span class="co"># Binary outcome model</span></span>
<span id="cb48-718"><a href="#cb48-718" aria-hidden="true" tabindex="-1"></a> <span class="co"># prior = set_prior("normal(0, 1)", class = "b"),  # Prior for coefficients</span></span>
<span id="cb48-719"><a href="#cb48-719" aria-hidden="true" tabindex="-1"></a>  <span class="at">iter =</span> <span class="dv">2000</span>,                    <span class="co"># Number of iterations</span></span>
<span id="cb48-720"><a href="#cb48-720" aria-hidden="true" tabindex="-1"></a>  <span class="at">chains =</span> <span class="dv">4</span>,                     <span class="co"># Number of MCMC chains</span></span>
<span id="cb48-721"><a href="#cb48-721" aria-hidden="true" tabindex="-1"></a>  <span class="at">cores =</span> <span class="dv">4</span>,                      <span class="co"># Number of cores for parallel computation</span></span>
<span id="cb48-722"><a href="#cb48-722" aria-hidden="true" tabindex="-1"></a>  <span class="at">seed =</span> <span class="dv">123</span>                      <span class="co"># Set seed for reproducibility</span></span>
<span id="cb48-723"><a href="#cb48-723" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-724"><a href="#cb48-724" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression Coefficients: - prior</span></span>
<span id="cb48-725"><a href="#cb48-725" aria-hidden="true" tabindex="-1"></a><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-726"><a href="#cb48-726" aria-hidden="true" tabindex="-1"></a><span class="co"># Intercept             -0.53      0.12    -0.76    -0.30 1.00     3182     2941</span></span>
<span id="cb48-727"><a href="#cb48-727" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassPercentage    -0.76      0.18    -1.12    -0.41 1.00     2565     2685</span></span>
<span id="cb48-728"><a href="#cb48-728" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassUSD           -1.64      0.21    -2.06    -1.24 1.00     2576     2941</span></span>
<span id="cb48-729"><a href="#cb48-729" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression Coefficients: - no prior</span></span>
<span id="cb48-730"><a href="#cb48-730" aria-hidden="true" tabindex="-1"></a><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-731"><a href="#cb48-731" aria-hidden="true" tabindex="-1"></a><span class="co"># Intercept             -0.49      0.12    -0.72    -0.27 1.00     3259     2975</span></span>
<span id="cb48-732"><a href="#cb48-732" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassPercentage    -0.81      0.19    -1.18    -0.45 1.00     2364     2585</span></span>
<span id="cb48-733"><a href="#cb48-733" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassUSD           -1.73      0.21    -2.15    -1.32 1.00     2643     2942</span></span>
<span id="cb48-734"><a href="#cb48-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-735"><a href="#cb48-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-736"><a href="#cb48-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-737"><a href="#cb48-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-738"><a href="#cb48-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-739"><a href="#cb48-739" aria-hidden="true" tabindex="-1"></a>m2_s1 <span class="ot">&lt;-</span> brms<span class="sc">::</span><span class="fu">brm</span>(</span>
<span id="cb48-740"><a href="#cb48-740" aria-hidden="true" tabindex="-1"></a>  matched_goal <span class="sc">~</span> refClass <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>id),       </span>
<span id="cb48-741"><a href="#cb48-741" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> s1_agg,                    </span>
<span id="cb48-742"><a href="#cb48-742" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">bernoulli</span>(),           </span>
<span id="cb48-743"><a href="#cb48-743" aria-hidden="true" tabindex="-1"></a>  <span class="co">#prior = set_prior("normal(0, 1)", class = "b"),  </span></span>
<span id="cb48-744"><a href="#cb48-744" aria-hidden="true" tabindex="-1"></a>  <span class="at">iter =</span> <span class="dv">2000</span>,                    </span>
<span id="cb48-745"><a href="#cb48-745" aria-hidden="true" tabindex="-1"></a>  <span class="at">chains =</span> <span class="dv">4</span>,                     </span>
<span id="cb48-746"><a href="#cb48-746" aria-hidden="true" tabindex="-1"></a>  <span class="at">cores =</span> <span class="dv">4</span>,                      </span>
<span id="cb48-747"><a href="#cb48-747" aria-hidden="true" tabindex="-1"></a>  <span class="at">seed =</span> <span class="dv">123</span>                      </span>
<span id="cb48-748"><a href="#cb48-748" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-749"><a href="#cb48-749" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression Coefficients:</span></span>
<span id="cb48-750"><a href="#cb48-750" aria-hidden="true" tabindex="-1"></a><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-751"><a href="#cb48-751" aria-hidden="true" tabindex="-1"></a><span class="co"># Intercept             -3.97      0.95    -6.07    -2.38 1.00     1001     1715</span></span>
<span id="cb48-752"><a href="#cb48-752" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassPercentage    -0.54      0.75    -1.97     0.96 1.00     1523     2223</span></span>
<span id="cb48-753"><a href="#cb48-753" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassUSD           -2.26      0.76    -3.74    -0.77 1.00     1729     2581</span></span>
<span id="cb48-754"><a href="#cb48-754" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression Coefficients: - no prior</span></span>
<span id="cb48-755"><a href="#cb48-755" aria-hidden="true" tabindex="-1"></a><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-756"><a href="#cb48-756" aria-hidden="true" tabindex="-1"></a><span class="co"># Intercept             -2.04      0.97    -4.11    -0.35 1.01      616     1384</span></span>
<span id="cb48-757"><a href="#cb48-757" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassPercentage    -3.16      1.35    -5.97    -0.65 1.00      542     1234</span></span>
<span id="cb48-758"><a href="#cb48-758" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassUSD           -6.84      1.68   -10.42    -3.87 1.01      581     1096</span></span>
<span id="cb48-759"><a href="#cb48-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-760"><a href="#cb48-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-761"><a href="#cb48-761" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-762"><a href="#cb48-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-763"><a href="#cb48-763" aria-hidden="true" tabindex="-1"></a>m3_s1 <span class="ot">&lt;-</span> brms<span class="sc">::</span><span class="fu">brm</span>(</span>
<span id="cb48-764"><a href="#cb48-764" aria-hidden="true" tabindex="-1"></a>  matched_goal <span class="sc">~</span> refClass <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>id) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>state), </span>
<span id="cb48-765"><a href="#cb48-765" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> s1_agg,                    </span>
<span id="cb48-766"><a href="#cb48-766" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">bernoulli</span>(),           </span>
<span id="cb48-767"><a href="#cb48-767" aria-hidden="true" tabindex="-1"></a>  <span class="at">prior =</span> <span class="fu">set_prior</span>(<span class="st">"normal(0, 1)"</span>, <span class="at">class =</span> <span class="st">"b"</span>),  </span>
<span id="cb48-768"><a href="#cb48-768" aria-hidden="true" tabindex="-1"></a>  <span class="at">iter =</span> <span class="dv">2000</span>,                    <span class="co">#</span></span>
<span id="cb48-769"><a href="#cb48-769" aria-hidden="true" tabindex="-1"></a>  <span class="at">chains =</span> <span class="dv">4</span>,                     </span>
<span id="cb48-770"><a href="#cb48-770" aria-hidden="true" tabindex="-1"></a>  <span class="at">cores =</span> <span class="dv">4</span>,                      </span>
<span id="cb48-771"><a href="#cb48-771" aria-hidden="true" tabindex="-1"></a>  <span class="at">seed =</span> <span class="dv">123</span>                      </span>
<span id="cb48-772"><a href="#cb48-772" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-773"><a href="#cb48-773" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression Coefficients:</span></span>
<span id="cb48-774"><a href="#cb48-774" aria-hidden="true" tabindex="-1"></a><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-775"><a href="#cb48-775" aria-hidden="true" tabindex="-1"></a><span class="co"># Intercept             -4.08      1.05    -6.39    -2.20 1.00      651     1280</span></span>
<span id="cb48-776"><a href="#cb48-776" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassPercentage    -0.52      0.78    -2.05     1.02 1.01      769     1583</span></span>
<span id="cb48-777"><a href="#cb48-777" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassUSD           -2.25      0.78    -3.78    -0.72 1.00     1036     2002</span></span>
<span id="cb48-778"><a href="#cb48-778" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-779"><a href="#cb48-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-780"><a href="#cb48-780" aria-hidden="true" tabindex="-1"></a>m4_s1 <span class="ot">&lt;-</span> brms<span class="sc">::</span><span class="fu">brm</span>(</span>
<span id="cb48-781"><a href="#cb48-781" aria-hidden="true" tabindex="-1"></a>  matched_goal <span class="sc">~</span> refClass <span class="sc">+</span> (<span class="dv">1</span><span class="sc">+</span>plan<span class="sc">|</span>id) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>state), </span>
<span id="cb48-782"><a href="#cb48-782" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> s1_agg,                    </span>
<span id="cb48-783"><a href="#cb48-783" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">bernoulli</span>(),           </span>
<span id="cb48-784"><a href="#cb48-784" aria-hidden="true" tabindex="-1"></a>  <span class="at">iter =</span> <span class="dv">4000</span>,                    <span class="co">#</span></span>
<span id="cb48-785"><a href="#cb48-785" aria-hidden="true" tabindex="-1"></a>  <span class="at">chains =</span> <span class="dv">4</span>,                     </span>
<span id="cb48-786"><a href="#cb48-786" aria-hidden="true" tabindex="-1"></a>  <span class="at">cores =</span> <span class="dv">4</span>,                      </span>
<span id="cb48-787"><a href="#cb48-787" aria-hidden="true" tabindex="-1"></a>  <span class="at">seed =</span> <span class="dv">123</span>                      </span>
<span id="cb48-788"><a href="#cb48-788" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-789"><a href="#cb48-789" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression Coefficients:</span></span>
<span id="cb48-790"><a href="#cb48-790" aria-hidden="true" tabindex="-1"></a><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-791"><a href="#cb48-791" aria-hidden="true" tabindex="-1"></a><span class="co"># Intercept             -4.24      1.12    -6.60    -2.18 1.00     1280      962</span></span>
<span id="cb48-792"><a href="#cb48-792" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassPercentage    -0.49      0.79    -1.99     1.12 1.00     2347     4012</span></span>
<span id="cb48-793"><a href="#cb48-793" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassUSD           -2.22      0.78    -3.74    -0.71 1.00     2395     4132</span></span>
<span id="cb48-794"><a href="#cb48-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-795"><a href="#cb48-795" aria-hidden="true" tabindex="-1"></a>m5_s1 <span class="ot">&lt;-</span> brms<span class="sc">::</span><span class="fu">brm</span>(</span>
<span id="cb48-796"><a href="#cb48-796" aria-hidden="true" tabindex="-1"></a>  matched_goal <span class="sc">~</span> refClass <span class="sc">+</span> (<span class="dv">1</span><span class="sc">+</span>plan<span class="sc">|</span>id) <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>state), </span>
<span id="cb48-797"><a href="#cb48-797" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> s1_agg,                    </span>
<span id="cb48-798"><a href="#cb48-798" aria-hidden="true" tabindex="-1"></a>  <span class="at">family =</span> <span class="fu">bernoulli</span>(),           </span>
<span id="cb48-799"><a href="#cb48-799" aria-hidden="true" tabindex="-1"></a>  <span class="at">iter =</span> <span class="dv">4000</span>,                    <span class="co">#</span></span>
<span id="cb48-800"><a href="#cb48-800" aria-hidden="true" tabindex="-1"></a>  <span class="at">chains =</span> <span class="dv">4</span>,                     </span>
<span id="cb48-801"><a href="#cb48-801" aria-hidden="true" tabindex="-1"></a>  <span class="at">cores =</span> <span class="dv">4</span>,                      </span>
<span id="cb48-802"><a href="#cb48-802" aria-hidden="true" tabindex="-1"></a>  <span class="at">seed =</span> <span class="dv">123</span>                      </span>
<span id="cb48-803"><a href="#cb48-803" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-804"><a href="#cb48-804" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression Coefficients:</span></span>
<span id="cb48-805"><a href="#cb48-805" aria-hidden="true" tabindex="-1"></a><span class="co">#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span id="cb48-806"><a href="#cb48-806" aria-hidden="true" tabindex="-1"></a><span class="co"># Intercept             -2.20      1.15    -4.56     0.02 1.00     1819     2875</span></span>
<span id="cb48-807"><a href="#cb48-807" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassPercentage    -3.34      1.53    -6.59    -0.64 1.00     1139     2377</span></span>
<span id="cb48-808"><a href="#cb48-808" aria-hidden="true" tabindex="-1"></a><span class="co"># refClassUSD           -7.37      1.90   -11.64    -4.13 1.00     1706     3083</span></span>
<span id="cb48-809"><a href="#cb48-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-810"><a href="#cb48-810" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-811"><a href="#cb48-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-812"><a href="#cb48-812" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-815"><a href="#cb48-815" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-816"><a href="#cb48-816" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: FALSE</span></span>
<span id="cb48-817"><a href="#cb48-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-818"><a href="#cb48-818" aria-hidden="true" tabindex="-1"></a><span class="fu">stanplot</span>(m5_s1)</span>
<span id="cb48-819"><a href="#cb48-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-820"><a href="#cb48-820" aria-hidden="true" tabindex="-1"></a><span class="fu">mcmc_plot</span>(m5_s1, <span class="at">pars =</span> <span class="fu">c</span>(<span class="st">"b_Intercept"</span>,<span class="st">"refClassPercentage"</span>, <span class="st">"refClassUSD"</span>), <span class="at">regex =</span> <span class="cn">FALSE</span>)</span>
<span id="cb48-821"><a href="#cb48-821" aria-hidden="true" tabindex="-1"></a><span class="fu">mcmc_plot</span>(m5_s1, <span class="at">regex_pars=</span><span class="fu">c</span>(<span class="st">'b_*'</span>), <span class="at">regex =</span> <span class="cn">FALSE</span>)</span>
<span id="cb48-822"><a href="#cb48-822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-823"><a href="#cb48-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-824"><a href="#cb48-824" aria-hidden="true" tabindex="-1"></a>m5_s1 <span class="sc">|&gt;</span> <span class="fu">emmeans</span>(<span class="sc">~</span>refClass)</span>
<span id="cb48-825"><a href="#cb48-825" aria-hidden="true" tabindex="-1"></a><span class="co">#  refClass   emmean lower.HPD upper.HPD</span></span>
<span id="cb48-826"><a href="#cb48-826" aria-hidden="true" tabindex="-1"></a><span class="co">#  kWh          -2.2      -4.6       0.0</span></span>
<span id="cb48-827"><a href="#cb48-827" aria-hidden="true" tabindex="-1"></a><span class="co">#  Percentage   -5.4      -8.5      -2.9</span></span>
<span id="cb48-828"><a href="#cb48-828" aria-hidden="true" tabindex="-1"></a><span class="co">#  USD          -9.4     -13.4      -6.3</span></span>
<span id="cb48-829"><a href="#cb48-829" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb48-830"><a href="#cb48-830" aria-hidden="true" tabindex="-1"></a><span class="co"># Point estimate displayed: median </span></span>
<span id="cb48-831"><a href="#cb48-831" aria-hidden="true" tabindex="-1"></a><span class="co"># Results are given on the logit (not the response) scale. </span></span>
<span id="cb48-832"><a href="#cb48-832" aria-hidden="true" tabindex="-1"></a><span class="co"># HPD interval probability: 0.95 </span></span>
<span id="cb48-833"><a href="#cb48-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-834"><a href="#cb48-834" aria-hidden="true" tabindex="-1"></a>m5_s1 <span class="sc">|&gt;</span> <span class="fu">emmeans</span>(<span class="sc">~</span>refClass) <span class="sc">|&gt;</span> <span class="fu">gather_emmeans_draws</span>() <span class="sc">|&gt;</span> </span>
<span id="cb48-835"><a href="#cb48-835" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>refClass,<span class="at">y=</span>.value,<span class="at">fill=</span>refClass)) <span class="sc">+</span></span>
<span id="cb48-836"><a href="#cb48-836" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dist_pointinterval</span>() <span class="sc">+</span> <span class="fu">stat_halfeye</span>(<span class="at">alpha=</span>.<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb48-837"><a href="#cb48-837" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_lineribbon</span>(<span class="at">alpha =</span> .<span class="dv">25</span>, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">.width =</span> <span class="fu">c</span>(.<span class="dv">95</span>))</span>
<span id="cb48-838"><a href="#cb48-838" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-839"><a href="#cb48-839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-840"><a href="#cb48-840" aria-hidden="true" tabindex="-1"></a><span class="co"># transform the log-odds to odds</span></span>
<span id="cb48-841"><a href="#cb48-841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-842"><a href="#cb48-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-843"><a href="#cb48-843" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-844"><a href="#cb48-844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-845"><a href="#cb48-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-846"><a href="#cb48-846" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb48-847"><a href="#cb48-847" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-848"><a href="#cb48-848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-849"><a href="#cb48-849" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data checks</span></span>
<span id="cb48-850"><a href="#cb48-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-853"><a href="#cb48-853" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb48-854"><a href="#cb48-854" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb48-855"><a href="#cb48-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-856"><a href="#cb48-856" aria-hidden="true" tabindex="-1"></a><span class="co"># for every combination of state, appliance, and refClass, calculate the number of distinct values of family, and of state_avg</span></span>
<span id="cb48-857"><a href="#cb48-857" aria-hidden="true" tabindex="-1"></a>s1 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(state,appliance,refClass) <span class="sc">|&gt;</span> </span>
<span id="cb48-858"><a href="#cb48-858" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_distinct_family=</span><span class="fu">n_distinct</span>(family),</span>
<span id="cb48-859"><a href="#cb48-859" aria-hidden="true" tabindex="-1"></a>            <span class="at">n_distinct_state_avg=</span><span class="fu">n_distinct</span>(state_avg), </span>
<span id="cb48-860"><a href="#cb48-860" aria-hidden="true" tabindex="-1"></a>            <span class="co"># paste a string of each distinct value, separated by a comma</span></span>
<span id="cb48-861"><a href="#cb48-861" aria-hidden="true" tabindex="-1"></a>            <span class="at">distinct_family=</span><span class="fu">paste</span>(<span class="fu">unique</span>(family),<span class="at">collapse=</span><span class="st">","</span>),</span>
<span id="cb48-862"><a href="#cb48-862" aria-hidden="true" tabindex="-1"></a>            <span class="at">distinct_state_avg=</span><span class="fu">paste</span>(<span class="fu">unique</span>(state_avg),<span class="at">collapse=</span><span class="st">","</span>)) <span class="sc">|&gt;</span></span>
<span id="cb48-863"><a href="#cb48-863" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_distinct_family<span class="sc">&gt;</span><span class="dv">1</span> <span class="sc">|</span> n_distinct_state_avg<span class="sc">&gt;</span><span class="dv">1</span>) </span>
<span id="cb48-864"><a href="#cb48-864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-865"><a href="#cb48-865" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-866"><a href="#cb48-866" aria-hidden="true" tabindex="-1"></a>s1 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(state,appliance,refClass) <span class="sc">|&gt;</span> </span>
<span id="cb48-867"><a href="#cb48-867" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n_distinct_family=</span><span class="fu">n_distinct</span>(family),</span>
<span id="cb48-868"><a href="#cb48-868" aria-hidden="true" tabindex="-1"></a>            <span class="at">n_distinct_state_avg=</span><span class="fu">n_distinct</span>(state_avg), </span>
<span id="cb48-869"><a href="#cb48-869" aria-hidden="true" tabindex="-1"></a>            <span class="co"># paste a string of each distinct value, separated by a comma</span></span>
<span id="cb48-870"><a href="#cb48-870" aria-hidden="true" tabindex="-1"></a>            <span class="at">distinct_family=</span><span class="fu">paste</span>(<span class="fu">unique</span>(family),<span class="at">collapse=</span><span class="st">","</span>),</span>
<span id="cb48-871"><a href="#cb48-871" aria-hidden="true" tabindex="-1"></a>            <span class="at">distinct_state_avg=</span><span class="fu">paste</span>(<span class="fu">unique</span>(state_avg),<span class="at">collapse=</span><span class="st">","</span>)) <span class="sc">|&gt;</span></span>
<span id="cb48-872"><a href="#cb48-872" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_distinct_family<span class="sc">&gt;</span><span class="dv">1</span> <span class="sc">|</span> n_distinct_state_avg<span class="sc">&gt;</span><span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-873"><a href="#cb48-873" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state,appliance,refClass,family,state_avg) </span>
<span id="cb48-874"><a href="#cb48-874" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the count of each unique value of family, and each unique value of state avg</span></span>
<span id="cb48-875"><a href="#cb48-875" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-876"><a href="#cb48-876" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb48-877"><a href="#cb48-877" aria-hidden="true" tabindex="-1"></a>s1 <span class="sc">|&gt;</span> </span>
<span id="cb48-878"><a href="#cb48-878" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(state, appliance, refClass) <span class="sc">|&gt;</span> </span>
<span id="cb48-879"><a href="#cb48-879" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">n_distinct_family =</span> <span class="fu">n_distinct</span>(family),</span>
<span id="cb48-880"><a href="#cb48-880" aria-hidden="true" tabindex="-1"></a>           <span class="at">n_distinct_state_avg =</span> <span class="fu">n_distinct</span>(state_avg), </span>
<span id="cb48-881"><a href="#cb48-881" aria-hidden="true" tabindex="-1"></a>           <span class="at">distinct_family =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(family), <span class="at">collapse =</span> <span class="st">","</span>),</span>
<span id="cb48-882"><a href="#cb48-882" aria-hidden="true" tabindex="-1"></a>           <span class="at">distinct_state_avg =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(state_avg), <span class="at">collapse =</span> <span class="st">","</span>)) <span class="sc">|&gt;</span></span>
<span id="cb48-883"><a href="#cb48-883" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(n_distinct_family <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">|</span> n_distinct_state_avg <span class="sc">&gt;</span> <span class="dv">1</span>,plan<span class="sc">==</span><span class="st">"plan1"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-884"><a href="#cb48-884" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(state, appliance, refClass, family, state_avg) <span class="sc">|&gt;</span> </span>
<span id="cb48-885"><a href="#cb48-885" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">state_avg_count =</span> <span class="fu">n_distinct</span>(state_avg),</span>
<span id="cb48-886"><a href="#cb48-886" aria-hidden="true" tabindex="-1"></a>           <span class="at">family_count =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb48-887"><a href="#cb48-887" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb48-888"><a href="#cb48-888" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(state, appliance, refClass, state_avg) <span class="sc">|&gt;</span> </span>
<span id="cb48-889"><a href="#cb48-889" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">state_avg_count =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb48-890"><a href="#cb48-890" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>(state, appliance, refClass, family, state_avg, family_count, state_avg_count) <span class="sc">|&gt;</span> </span>
<span id="cb48-891"><a href="#cb48-891" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(state,appliance,refClass)</span>
<span id="cb48-892"><a href="#cb48-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-893"><a href="#cb48-893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-894"><a href="#cb48-894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-895"><a href="#cb48-895" aria-hidden="true" tabindex="-1"></a>haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span>))  <span class="sc">|&gt;</span> <span class="fu">filter</span>(ResponseId<span class="sc">==</span><span class="st">"R_2QMsYuHS385pTj1"</span>) <span class="ot">-&gt;</span> k</span>
<span id="cb48-896"><a href="#cb48-896" aria-hidden="true" tabindex="-1"></a><span class="co"># find if any columns equal 5.26</span></span>
<span id="cb48-897"><a href="#cb48-897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-898"><a href="#cb48-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-899"><a href="#cb48-899" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-900"><a href="#cb48-900" aria-hidden="true" tabindex="-1"></a>haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb48-901"><a href="#cb48-901" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ResponseId <span class="sc">==</span> <span class="st">"R_vB56XspT1LqhrkB"</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-902"><a href="#cb48-902" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select columns with non-NA values and not empty strings, handling character and numeric columns separately</span></span>
<span id="cb48-903"><a href="#cb48-903" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb48-904"><a href="#cb48-904" aria-hidden="true" tabindex="-1"></a>    <span class="fu">where</span>(<span class="sc">~</span> <span class="fu">is.numeric</span>(.) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">all</span>(<span class="fu">is.na</span>(.))),</span>
<span id="cb48-905"><a href="#cb48-905" aria-hidden="true" tabindex="-1"></a>    <span class="fu">where</span>(<span class="sc">~</span> <span class="fu">is.character</span>(.) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">all</span>(<span class="fu">is.na</span>(.)) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">all</span>(. <span class="sc">==</span> <span class="st">""</span>))</span>
<span id="cb48-906"><a href="#cb48-906" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb48-907"><a href="#cb48-907" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove columns that start with "AIN"</span></span>
<span id="cb48-908"><a href="#cb48-908" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">"AIN"</span>))</span>
<span id="cb48-909"><a href="#cb48-909" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-910"><a href="#cb48-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-911"><a href="#cb48-911" aria-hidden="true" tabindex="-1"></a>haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span>))  <span class="sc">|&gt;</span> <span class="fu">select_if</span>(<span class="sc">~</span><span class="fu">any</span>(. <span class="sc">==</span><span class="fl">11441.0</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb48-912"><a href="#cb48-912" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter out any NAs from any column that is left (we don't know the column names)</span></span>
<span id="cb48-913"><a href="#cb48-913" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter_all</span>(<span class="fu">any_vars</span>(<span class="sc">!</span><span class="fu">is.na</span>(.))) <span class="sc">|&gt;</span> </span>
<span id="cb48-914"><a href="#cb48-914" aria-hidden="true" tabindex="-1"></a>  <span class="co"># retain only cases of 11441.0</span></span>
<span id="cb48-915"><a href="#cb48-915" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter_all</span>(<span class="fu">any_vars</span>(. <span class="sc">==</span> <span class="fl">11441.0</span>)) </span>
<span id="cb48-916"><a href="#cb48-916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-917"><a href="#cb48-917" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-918"><a href="#cb48-918" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-919"><a href="#cb48-919" aria-hidden="true" tabindex="-1"></a>haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span>))  <span class="sc">|&gt;</span> <span class="co"># return the names of any columns that contain 11441.0</span></span>
<span id="cb48-920"><a href="#cb48-920" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_if</span>(<span class="sc">~</span><span class="fu">any</span>(. <span class="sc">==</span><span class="fl">11441.0</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb48-921"><a href="#cb48-921" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb48-922"><a href="#cb48-922" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_c</span>(<span class="at">collapse=</span><span class="st">","</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-923"><a href="#cb48-923" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>() <span class="co"># P3TEX15</span></span>
<span id="cb48-924"><a href="#cb48-924" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-925"><a href="#cb48-925" aria-hidden="true" tabindex="-1"></a><span class="co"># do the same procedure for each of these values, include a line break after the output from each number</span></span>
<span id="cb48-926"><a href="#cb48-926" aria-hidden="true" tabindex="-1"></a>low_freq <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">5.26</span>, <span class="dv">4534</span>, <span class="dv">340</span>,<span class="dv">11667</span>,<span class="fl">5.3</span>,<span class="dv">400</span>, <span class="dv">29046</span>,<span class="dv">5600</span>,<span class="dv">5987</span>,<span class="fl">34265.0</span>,<span class="fl">5600.0</span> )</span>
<span id="cb48-927"><a href="#cb48-927" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-928"><a href="#cb48-928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-929"><a href="#cb48-929" aria-hidden="true" tabindex="-1"></a><span class="co"># for(val in low_freq) {</span></span>
<span id="cb48-930"><a href="#cb48-930" aria-hidden="true" tabindex="-1"></a><span class="co">#   haven::read_sav(here::here("data/Frequency &amp; Probability Study 1 - 3-24-19.sav")) |&gt;</span></span>
<span id="cb48-931"><a href="#cb48-931" aria-hidden="true" tabindex="-1"></a><span class="co">#     select_if(~any(. == val)) |&gt;</span></span>
<span id="cb48-932"><a href="#cb48-932" aria-hidden="true" tabindex="-1"></a><span class="co">#     names() |&gt;</span></span>
<span id="cb48-933"><a href="#cb48-933" aria-hidden="true" tabindex="-1"></a><span class="co">#     str_c(collapse = ",") |&gt;</span></span>
<span id="cb48-934"><a href="#cb48-934" aria-hidden="true" tabindex="-1"></a><span class="co">#     cat()</span></span>
<span id="cb48-935"><a href="#cb48-935" aria-hidden="true" tabindex="-1"></a><span class="co">#   cat("\n")  # Add line break after each output</span></span>
<span id="cb48-936"><a href="#cb48-936" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb48-937"><a href="#cb48-937" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-938"><a href="#cb48-938" aria-hidden="true" tabindex="-1"></a>low_freq <span class="sc">|&gt;</span></span>
<span id="cb48-939"><a href="#cb48-939" aria-hidden="true" tabindex="-1"></a>  <span class="fu">walk</span>(<span class="cf">function</span>(val) {</span>
<span id="cb48-940"><a href="#cb48-940" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(val, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)  <span class="co"># Print the current value</span></span>
<span id="cb48-941"><a href="#cb48-941" aria-hidden="true" tabindex="-1"></a>    haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb48-942"><a href="#cb48-942" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select_if</span>(<span class="sc">~</span><span class="fu">any</span>(. <span class="sc">==</span> val)) <span class="sc">|&gt;</span></span>
<span id="cb48-943"><a href="#cb48-943" aria-hidden="true" tabindex="-1"></a>      <span class="fu">names</span>() <span class="sc">|&gt;</span></span>
<span id="cb48-944"><a href="#cb48-944" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_c</span>(<span class="at">collapse =</span> <span class="st">","</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-945"><a href="#cb48-945" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cat</span>()</span>
<span id="cb48-946"><a href="#cb48-946" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)  <span class="co"># Add two line breaks before next value</span></span>
<span id="cb48-947"><a href="#cb48-947" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb48-948"><a href="#cb48-948" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-949"><a href="#cb48-949" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-950"><a href="#cb48-950" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-951"><a href="#cb48-951" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-952"><a href="#cb48-952" aria-hidden="true" tabindex="-1"></a>k <span class="sc">%&gt;%</span> <span class="fu">select_if</span>(<span class="sc">~</span><span class="fu">any</span>(<span class="fu">is.numeric</span>(.)) <span class="sc">&amp;</span> . <span class="sc">&lt;</span><span class="dv">10</span>)</span>
<span id="cb48-953"><a href="#cb48-953" aria-hidden="true" tabindex="-1"></a>haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span>)) <span class="sc">|&gt;</span> <span class="fu">select</span>(P3TEX15) <span class="sc">|&gt;</span> <span class="fu">unique</span>()</span>
<span id="cb48-954"><a href="#cb48-954" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-955"><a href="#cb48-955" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-956"><a href="#cb48-956" aria-hidden="true" tabindex="-1"></a>haven<span class="sc">::</span><span class="fu">read_sav</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data/Frequency &amp; Probability Study 1 - 3-24-19.sav"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb48-957"><a href="#cb48-957" aria-hidden="true" tabindex="-1"></a>  <span class="co">#select(ResponseId, P3TEX15) |&gt; </span></span>
<span id="cb48-958"><a href="#cb48-958" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(P3TEX15))</span>
<span id="cb48-959"><a href="#cb48-959" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-960"><a href="#cb48-960" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 2 × 2</span></span>
<span id="cb48-961"><a href="#cb48-961" aria-hidden="true" tabindex="-1"></a><span class="co">#   P3TEX15 `n()`</span></span>
<span id="cb48-962"><a href="#cb48-962" aria-hidden="true" tabindex="-1"></a><span class="co">#     &lt;dbl&gt; &lt;int&gt;</span></span>
<span id="cb48-963"><a href="#cb48-963" aria-hidden="true" tabindex="-1"></a><span class="co"># 1    5.26    10</span></span>
<span id="cb48-964"><a href="#cb48-964" aria-hidden="true" tabindex="-1"></a><span class="co"># 2   NA      242</span></span>
<span id="cb48-965"><a href="#cb48-965" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-966"><a href="#cb48-966" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2024 <a href="https://tegorman13.github.io">Thomas Gorman</a></p>
</div>   
    <div class="nav-footer-center">
<p>site created with <a href="https://cran.r-project.org/">R</a> and <a href="https://quarto.org">quarto</a></p>
<div class="toc-actions"><ul><li><a href="https://github.com/tegorman13/Representation_Study/blob/main/study1.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="https://github.com/tegorman13/Representation_Study" target="_blank">
<p><i class="fa-brands fa-github fa-2.0x" aria-label="github"></i></p>
</a>
  </li>  
</ul>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>