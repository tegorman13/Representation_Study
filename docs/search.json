[
  {
    "objectID": "mpa/reqs.html",
    "href": "mpa/reqs.html",
    "title": "MPA 2025 Submission Guidelines",
    "section": "",
    "text": "https://midwesternpsych.org/meeting/submissions/\nSubmissions for papers, posters, professional development sessions, and symposia for the annual meeting will be accepted through November 6th, 2024 11:59PM EST.\n\n\nTo submit a poster, paper, or Professional Development Session please prepare two abstracts describing your work: one 400-word abstract to be reviewed by the Program Committee and one 50-word abstract that we will appear in the Program Book if your submission is accepted. Instructions for abstracts appear below:\n****For Papers and Posters****\nTitle: Your title should be 10 words or fewer in length.\n****400-word Abstract for Review.**** The name(s) and institution(s) of the author(s) must not appear on the abstract since these are reviewed blind. The following format should be used, including the headings:\n****A.****   Problem or Purpose: The Committee finds it helpful to have the paper put in context, perhaps even with references.\n****B.****   Procedure: State the rationale, design, controls, sample sizes, characteristics of the sample you collected.\n****C.****   Results (including statistical tests have been employed and the statistical results you found as you would include in a paper). Only empirical papers/posters will be accepted.\n****D.****   Conclusions and implications.\nIt is important that you provide adequate background information in the form of references (in text citations only, no need to include full references) and names of investigators or theories to help reviewers evaluate your abstract. The blind reviewing process does not permit reviewers to determine the background on the basis of the author(s) names(s).\nYou have the option of uploading one document containing tables or figures to supplement your 400-word abstract. Your tables or figures must be in pdf format to be uploaded. Only upload tables and figures. Please do not upload any other portions of your 400-word abstract.\nIf your POSTER is NOT complete, please describe the procedures you have done/plan to do; the results you have conducted/plan to do; and the status and timeline of your study completion. You will not be able to present at MPA if you do not finish your study in time and you must explain to reviewers the status of your study and your timeline of completion. You will be evaluated both on the theoretical merit and method design (as anyone else would be) as well as whether you appear likely to finish the submission in time so please be detailed in your responses.\n****50-word Abstract for Program.**** A short abstract not to exceed 50 words is also required. If your paper is accepted, this abstract and all of your contact information will be inserted directly into the program, so proofread it carefully.\n****Edit**** your paper, poster, or professional development session at the following link: [****SUBMISSION SITE FOR PAPERS, POSTERS, PROFESSIONAL DEVELOPMENT SESSIONS****.]"
  },
  {
    "objectID": "mpa/reqs.html#instructions-for-facultypost-docsgraduate-students-applying-to-the-mpa-main-conference-submission-deadline-november-6th",
    "href": "mpa/reqs.html#instructions-for-facultypost-docsgraduate-students-applying-to-the-mpa-main-conference-submission-deadline-november-6th",
    "title": "MPA 2025 Submission Guidelines",
    "section": "",
    "text": "https://midwesternpsych.org/meeting/submissions/\nSubmissions for papers, posters, professional development sessions, and symposia for the annual meeting will be accepted through November 6th, 2024 11:59PM EST.\n\n\nTo submit a poster, paper, or Professional Development Session please prepare two abstracts describing your work: one 400-word abstract to be reviewed by the Program Committee and one 50-word abstract that we will appear in the Program Book if your submission is accepted. Instructions for abstracts appear below:\n****For Papers and Posters****\nTitle: Your title should be 10 words or fewer in length.\n****400-word Abstract for Review.**** The name(s) and institution(s) of the author(s) must not appear on the abstract since these are reviewed blind. The following format should be used, including the headings:\n****A.****   Problem or Purpose: The Committee finds it helpful to have the paper put in context, perhaps even with references.\n****B.****   Procedure: State the rationale, design, controls, sample sizes, characteristics of the sample you collected.\n****C.****   Results (including statistical tests have been employed and the statistical results you found as you would include in a paper). Only empirical papers/posters will be accepted.\n****D.****   Conclusions and implications.\nIt is important that you provide adequate background information in the form of references (in text citations only, no need to include full references) and names of investigators or theories to help reviewers evaluate your abstract. The blind reviewing process does not permit reviewers to determine the background on the basis of the author(s) names(s).\nYou have the option of uploading one document containing tables or figures to supplement your 400-word abstract. Your tables or figures must be in pdf format to be uploaded. Only upload tables and figures. Please do not upload any other portions of your 400-word abstract.\nIf your POSTER is NOT complete, please describe the procedures you have done/plan to do; the results you have conducted/plan to do; and the status and timeline of your study completion. You will not be able to present at MPA if you do not finish your study in time and you must explain to reviewers the status of your study and your timeline of completion. You will be evaluated both on the theoretical merit and method design (as anyone else would be) as well as whether you appear likely to finish the submission in time so please be detailed in your responses.\n****50-word Abstract for Program.**** A short abstract not to exceed 50 words is also required. If your paper is accepted, this abstract and all of your contact information will be inserted directly into the program, so proofread it carefully.\n****Edit**** your paper, poster, or professional development session at the following link: [****SUBMISSION SITE FOR PAPERS, POSTERS, PROFESSIONAL DEVELOPMENT SESSIONS****.]"
  },
  {
    "objectID": "background/study_stim.html",
    "href": "background/study_stim.html",
    "title": "Study Stimulii and Design",
    "section": "",
    "text": "Can individuals “translate” energy use information into energy-saving actions (procedural knowledge)?\nDoes it matter if we ask consumers to consider energy information represented as:\n\nabsolute numbers (kWh)\npercentage of total energy use (%)\nmoney spent (USD)?\n\n\n\n\n\nAbsolute numbers (kWh) should be easier to understand and deal with than the percentage of total energy use and money.\n\n\n\n\n• Participants receive energy use information found on electricity bills of various families\n• Four families from different states in the U.S.: California, Texas, Colorado, Massachusetts • Each family has a bill that shows appliance breakdown data over the last year • Information is provided in the form of kWh, %, or USD\n• Each participant was asked to come up with two action plans for a 15% saving for each of two states\n• Presentation format was manipulated between subjects\n• 24 different blocks of experimental materials to which participants were randomly assigned\n\nThe primary manipulation of Study 1 is which reference class (kWh, dollars, or percent) participants were assigned to.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSource\nTexas average\nTexas Family\nCalifornia average\nCalifornia Family\nColorado average\nColorado Family\nMass. average\nMass. Family\n\n\n\n\nCooling\n4,249\n\n1,289\n\n498\n\n322\n\n\n\nHeating\n5,099\n\n5,597\n\n16,411\n\n19,108\n\n\n\nWater heating\n4,396\n\n4,601\n\n5,832\n\n5,070\n\n\n\nRefrigerator\n1,318\n\n1,055\n\n1,142\n\n1,025\n\n\n\nOther\n7,883\n\n6,916\n\n6,652\n\n6,682\n\n\n\nTotal\n22,945\n\n19,458\n\n30,535\n\n32,207\n\n\n\n\n\n\n\n\n\n\nThe Davis family wants to reduce its household electricity bill by $1,042 next year. Please complete two possible action plans that will help the Davis family achieve this goal. Please enter how many kWh should be used next year by each appliance and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\nNote: The Davis family used 14,086 more kWh than the average household in Massachusetts last year.\n\n\n\n\n\n\n\n\n\n\nCategory\nElectricity Used Last Year by the Davis Family (kWh)\nAverage Electricity Used Last Year by Households in Massachusetts (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n419\n322\n\n\n\n\nHeating the Home\n26,751\n19,108\n\n\n\n\nWater Heating\n10,543\n5,070\n\n\n\n\nRefrigerator\n1,230\n1,025\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n7,350\n6,682\n\n\n\n\nTotal kWh\n46,293\n32,207\n\n\n\n\n\n\n\n\nThe Wells family wants to reduce its household electricity use by 5,965 kWh next year. Please complete two possible action plans that will help the Wells family achieve this goal. Please enter how many kWh should be used next year by each appliance and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\nNote: The Wells family used 9,233 more kWh than the average household in Colorado last year.\n\n\n\n\n\n\n\n\n\n\nCategory\nElectricity Used Last Year by the Wells Family (kWh)\nAverage Electricity Used Last Year by Households in Colorado (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n697\n498\n\n\n\n\nHeating the Home\n18,052\n16,411\n\n\n\n\nWater Heating\n11,667\n5,832\n\n\n\n\nRefrigerator\n1,370\n1,142\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n7,882\n6,652\n\n\n\n\nTotal kWh\n39,768\n30,535\n\n\n\n\n\n\n\n\nThe Smith family wants to reduce its household electricity use by 15% next year. Please complete two possible action plans that will help the Smith family achieve this goal. Please enter how many kWh should be used next year by each appliance category and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\nNote: The Smith family used 6,101 more kWh than the average household in Texas last year.\n\n\n\n\n\n\n\n\n\n\nCategory\nElectricity Used Last Year by the Smith Family (kWh)\nAverage Electricity Used Last Year by Households in Texas (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n6,573\n4,249\n\n\n\n\nHeating the Home\n6,118\n5,099\n\n\n\n\nWater Heating\n5,257\n4,396\n\n\n\n\nRefrigerator\n2,639\n1,318\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n8,459\n7,883\n\n\n\n\nTotal kWh\n29,046\n22,945\n\n\n\n\n\n\n\n\nThe Adams Family\n\n\n\n\n\n\n\n\n\n\nCategory\nElectricity Used Last Year by the Adams Family (kWh)\nAverage Electricity Used Last Year by Households in California (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n2,581\n1,289\n\n\n\n\nHeating the Home\n6,157\n5,597\n\n\n\n\nWater Heating\n5,061\n4,601\n\n\n\n\nRefrigerator\n1,266\n1,055\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n7,608\n6,916\n\n\n\n\nTotal kWh\n22,673\n19,458\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSource\nTexas average\nTexas Family\nCalifornia average\nCalifornia Family\nColorado average\nColorado Family\nMass. average\nMass. Family\n\n\n\n\nCooling\n4,249\n6,573\n1,289\n2,581\n498\n697\n322\n419\n\n\nHeating\n5,099\n6,118\n5,597\n6,157\n16,411\n18,052\n19,108\n26,751\n\n\nWater heating\n4,396\n5,257\n4,601\n5,061\n5,832\n11,667\n5,070\n10,543\n\n\nRefrigerator\n1,318\n2,639\n1,055\n1,266\n1,142\n1,370\n1,025\n1,230\n\n\nOther\n7,883\n8,459\n6,916\n7,608\n6,652\n7,982\n6,682\n7,350\n\n\nTotal\n22,945\n29,046\n19,458\n22,673\n30,535\n39,768\n32,207\n46,293\n\n\n\n\n\n\n\nWhich of these action plans that you created would you prefer to implement\n\nAction Plan 1\nAction Plan 2\n\nWhy would you prefer to implement this action plan?\n[Write your response here]\nIf you could reduce electricity use for two appliances in this scenario, which two would you select? (Choose two)\n\nCooling (Central A/C)\nHeating the Home\nWater Heating\nRefrigerator\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n\n\nThank you for helping the Smith family reach their kWh reduction goal.\n\n\n\nGeneral Information\nIn this study, electricity use is measured in kilowatt hours (kWh).\nA kilowatt hour (symbol kWh) is a unit of energy. If the energy is being transmitted or used at a constant rate (power) over a period of time, the total energy in kilowatt hours is the power in kilowatts multiplied by the time in hours.\nExamples: - An incandescent lightbulb turned on for 5 hours uses 0.30 kWh. - A microwave used for a total of 30 minutes uses 0.60 kWh. - A central air conditioner used for 3 hours uses 10.50 kWh.\nAppliance Energy Question\n\nWhich of these appliances do you think needs the most energy in average households in Texas over the time period of a year?\n\nCooling (Central A/C)\nHeating the Home\nWater Heating\nRefrigerator\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n\nRank Energy per appliance question\n\nHow much energy do you think the average household of a family of four in Texas uses for each appliance per year? Please rank each appliance based on how many kWh you believe it uses per year, with 1 being the most kWh used per year and 5 being the least kWh used per year.\nPlease rank in order:\n\nCooling (Central A/C)\nHeating the Home\nWater Heating\nRefrigerator\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n\n\n\n\nAfter completing the tasks for four families: - Survey for environmental literacy (using Canfield 2011 as a guide) - Dummy check “do not answer” question - Surveyed for environmental values based on previous study on recycling - Demographic survey - Energy use question: I consume more energy than average: 90, less: 121, do not know: 41 - Perceived knowledge (single item) - Energy literacy/general knowledge (eight items) - Accuracy of the plans: Error = absolute difference from correct answer\n\n\n\n\nWhen you turn on an incandescent light bulb, which of the following energy conversion takes place?\n\nElectrical energy to radiant energy (light)\nChemical energy to radient energy (light)\nElectrical energy to radiant energy (light) and thermal energy (heat)\nChemical energy to radient energy (light) and thermal energy (heat)\nElectrical energy to radient energy (light) and mechanical energy\n\nThe best reason to buy an ENERGY STAR® appliance is…\n\nENERGY STAR appliances are usually bigger\nENERGY STAR appliances cost more\nENERGY STAR appliances use less energy\nENERGY STAR appliances are more modern looking\nENERGY STAR appliances cost less\n\nWhich uses the MOST ENERGY in the average American home in one year?\n\nRefrigerating food and beverages\nWashing and drying clothing\nHeating and cooling rooms\nHeating and cooling water\nLighting the home\n\nThe amount of ELECTRICAL ENERGY (ELECTRICITY) we use is measured in units called…\n\nKilowatt (kW)\nKilowatt-hours (kWh)\nBritish Thermal Units (BTU)\nVolts (V)\nHorsepower (HP)\n\nThe amount of ENERGY consumed by an electrical appliance is equal to the power rating of the appliance (watts or kilowatts)…\n\nMultiplied by the cost of electricity\nAdded to the cost of electricity\nMultiplied by the time it’s used\nDivided by the time it’s used\nAdded to the time it’s used\n\n\n\n\n\n\n\nThe questions in study 2 are quite similar to those in study 1, but we also included a rounding manipulation (rounded vs. not rounded), and a manipulation of the goal (10% reduction vs. 15% rediction)\nNote that reference class remains a between-subjects variable, while percent goal, rounding, and state are within-subjects variables.\nIn study 2, the new design is a 4 state temperature (2 warm vs. 2 cold states) X 2 task goal (10% vs. 15%) X 2 last year’s usage for the family and the state average (exact vs. rounded numbers) within X 3 task reference class (USD vs. Percentage vs. kWh) between. A note on the percentage goals is that they are rounded to the full dollar. For instance, for the Davis family, 10% of their $6,943.95 cost of residential energy usage is $694.395; this is rounded to $694. For the rounded condition, participants are also told that “The numbers for their [the family’s] usage have been rounded for convenience.” In terms of randomization, blocks were combined so that there was a block for each condition and order combination. As an example, one block is the smith family with a 10% goal and rounded numbers for the family’s usage first, and the Wells family second, with a 15% goal and exact numbers for the family’s usage. Another block has these but in reverse, where the participant receives the Wells family first and the Smith family second. In total, there are 96 conditions, representing each possible order (2 orders x 4 states x 2 possible significant digit values, and 3 reference classes).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nState/Reference\n15% kWh\n10% kWh\n15% USD\n10% USD\n15% Percent\n10% Percent\n\n\n\n\nAdams / Cali\n3,401\n2,267\n$510\n$340\n15%\n10%\n\n\nSmith / Texas\n4,357\n2,905\n$479\n$320\n15%\n10%\n\n\nWells / Colorado\n5,965\n3,977\n$656\n$438\n15%\n10%\n\n\nDavis / Mass\n6,944\n4,629\n$1,042\n$694\n15%\n10%\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nState/Reference\n15% kWh\n10% kWh\n15% USD\n10% USD\n15% Percent\n10% Percent\n\n\n\n\nAdams / Cali\n3,450\n2,300\n$518\n$345\n15%\n10%\n\n\nSmith / Texas\n4,350\n2,900\n$479\n$319\n15%\n10%\n\n\nWells / Colorado\n6,000\n4,000\n$660\n$440\n15%\n10%\n\n\nDavis / Mass\n6,900\n4,600\n$1,035\n$690\n15%\n10%\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n1,289\n2,581\n3,000\n\n\nHeating\n5,597\n6,157\n6,000\n\n\nWater heating\n4,601\n5,061\n5,000\n\n\nRefrigerator\n1,055\n1,266\n1,000\n\n\nOther\n6,916\n7,608\n8,000\n\n\nTotal\n19,458\n22,673\n23,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n4,249\n6,573\n7,000\n\n\nHeating\n5,099\n6,118\n6,000\n\n\nWater heating\n4,396\n5,257\n5,000\n\n\nRefrigerator\n1,318\n2,639\n3,000\n\n\nOther\n7,883\n8,459\n8,000\n\n\nTotal\n22,945\n29,046\n29,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n498\n697\n1,000\n\n\nHeating\n16,411\n18,052\n18,000\n\n\nWater heating\n5,832\n11,667\n12,000\n\n\nRefrigerator\n1,142\n1,370\n1,000\n\n\nOther\n6,652\n7,982\n8,000\n\n\nTotal\n30,535\n39,768\n40,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n322\n419\n0\n\n\nHeating\n19,108\n26,751\n27,000\n\n\nWater heating\n5,070\n10,543\n11,000\n\n\nRefrigerator\n1,025\n1,230\n1,000\n\n\nOther\n6,682\n7,350\n7,000\n\n\nTotal\n32,207\n46,293\n46,000",
    "crumbs": [
      "<strong>Background</strong>",
      "Design and Stimulii"
    ]
  },
  {
    "objectID": "background/study_stim.html#research-questions-and-hypothesis",
    "href": "background/study_stim.html#research-questions-and-hypothesis",
    "title": "Study Stimulii and Design",
    "section": "",
    "text": "Can individuals “translate” energy use information into energy-saving actions (procedural knowledge)?\nDoes it matter if we ask consumers to consider energy information represented as:\n\nabsolute numbers (kWh)\npercentage of total energy use (%)\nmoney spent (USD)?\n\n\n\n\n\nAbsolute numbers (kWh) should be easier to understand and deal with than the percentage of total energy use and money.",
    "crumbs": [
      "<strong>Background</strong>",
      "Design and Stimulii"
    ]
  },
  {
    "objectID": "background/study_stim.html#study-1-methods",
    "href": "background/study_stim.html#study-1-methods",
    "title": "Study Stimulii and Design",
    "section": "",
    "text": "• Participants receive energy use information found on electricity bills of various families\n• Four families from different states in the U.S.: California, Texas, Colorado, Massachusetts • Each family has a bill that shows appliance breakdown data over the last year • Information is provided in the form of kWh, %, or USD\n• Each participant was asked to come up with two action plans for a 15% saving for each of two states\n• Presentation format was manipulated between subjects\n• 24 different blocks of experimental materials to which participants were randomly assigned\n\nThe primary manipulation of Study 1 is which reference class (kWh, dollars, or percent) participants were assigned to.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSource\nTexas average\nTexas Family\nCalifornia average\nCalifornia Family\nColorado average\nColorado Family\nMass. average\nMass. Family\n\n\n\n\nCooling\n4,249\n\n1,289\n\n498\n\n322\n\n\n\nHeating\n5,099\n\n5,597\n\n16,411\n\n19,108\n\n\n\nWater heating\n4,396\n\n4,601\n\n5,832\n\n5,070\n\n\n\nRefrigerator\n1,318\n\n1,055\n\n1,142\n\n1,025\n\n\n\nOther\n7,883\n\n6,916\n\n6,652\n\n6,682\n\n\n\nTotal\n22,945\n\n19,458\n\n30,535\n\n32,207",
    "crumbs": [
      "<strong>Background</strong>",
      "Design and Stimulii"
    ]
  },
  {
    "objectID": "background/study_stim.html#primary-task---action-plan-creation",
    "href": "background/study_stim.html#primary-task---action-plan-creation",
    "title": "Study Stimulii and Design",
    "section": "",
    "text": "The Davis family wants to reduce its household electricity bill by $1,042 next year. Please complete two possible action plans that will help the Davis family achieve this goal. Please enter how many kWh should be used next year by each appliance and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\nNote: The Davis family used 14,086 more kWh than the average household in Massachusetts last year.\n\n\n\n\n\n\n\n\n\n\nCategory\nElectricity Used Last Year by the Davis Family (kWh)\nAverage Electricity Used Last Year by Households in Massachusetts (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n419\n322\n\n\n\n\nHeating the Home\n26,751\n19,108\n\n\n\n\nWater Heating\n10,543\n5,070\n\n\n\n\nRefrigerator\n1,230\n1,025\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n7,350\n6,682\n\n\n\n\nTotal kWh\n46,293\n32,207\n\n\n\n\n\n\n\n\nThe Wells family wants to reduce its household electricity use by 5,965 kWh next year. Please complete two possible action plans that will help the Wells family achieve this goal. Please enter how many kWh should be used next year by each appliance and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\nNote: The Wells family used 9,233 more kWh than the average household in Colorado last year.\n\n\n\n\n\n\n\n\n\n\nCategory\nElectricity Used Last Year by the Wells Family (kWh)\nAverage Electricity Used Last Year by Households in Colorado (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n697\n498\n\n\n\n\nHeating the Home\n18,052\n16,411\n\n\n\n\nWater Heating\n11,667\n5,832\n\n\n\n\nRefrigerator\n1,370\n1,142\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n7,882\n6,652\n\n\n\n\nTotal kWh\n39,768\n30,535\n\n\n\n\n\n\n\n\nThe Smith family wants to reduce its household electricity use by 15% next year. Please complete two possible action plans that will help the Smith family achieve this goal. Please enter how many kWh should be used next year by each appliance category and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\nNote: The Smith family used 6,101 more kWh than the average household in Texas last year.\n\n\n\n\n\n\n\n\n\n\nCategory\nElectricity Used Last Year by the Smith Family (kWh)\nAverage Electricity Used Last Year by Households in Texas (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n6,573\n4,249\n\n\n\n\nHeating the Home\n6,118\n5,099\n\n\n\n\nWater Heating\n5,257\n4,396\n\n\n\n\nRefrigerator\n2,639\n1,318\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n8,459\n7,883\n\n\n\n\nTotal kWh\n29,046\n22,945\n\n\n\n\n\n\n\n\nThe Adams Family\n\n\n\n\n\n\n\n\n\n\nCategory\nElectricity Used Last Year by the Adams Family (kWh)\nAverage Electricity Used Last Year by Households in California (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n2,581\n1,289\n\n\n\n\nHeating the Home\n6,157\n5,597\n\n\n\n\nWater Heating\n5,061\n4,601\n\n\n\n\nRefrigerator\n1,266\n1,055\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n7,608\n6,916\n\n\n\n\nTotal kWh\n22,673\n19,458\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSource\nTexas average\nTexas Family\nCalifornia average\nCalifornia Family\nColorado average\nColorado Family\nMass. average\nMass. Family\n\n\n\n\nCooling\n4,249\n6,573\n1,289\n2,581\n498\n697\n322\n419\n\n\nHeating\n5,099\n6,118\n5,597\n6,157\n16,411\n18,052\n19,108\n26,751\n\n\nWater heating\n4,396\n5,257\n4,601\n5,061\n5,832\n11,667\n5,070\n10,543\n\n\nRefrigerator\n1,318\n2,639\n1,055\n1,266\n1,142\n1,370\n1,025\n1,230\n\n\nOther\n7,883\n8,459\n6,916\n7,608\n6,652\n7,982\n6,682\n7,350\n\n\nTotal\n22,945\n29,046\n19,458\n22,673\n30,535\n39,768\n32,207\n46,293",
    "crumbs": [
      "<strong>Background</strong>",
      "Design and Stimulii"
    ]
  },
  {
    "objectID": "background/study_stim.html#additional-questions-after-the-primary-task",
    "href": "background/study_stim.html#additional-questions-after-the-primary-task",
    "title": "Study Stimulii and Design",
    "section": "",
    "text": "Which of these action plans that you created would you prefer to implement\n\nAction Plan 1\nAction Plan 2\n\nWhy would you prefer to implement this action plan?\n[Write your response here]\nIf you could reduce electricity use for two appliances in this scenario, which two would you select? (Choose two)\n\nCooling (Central A/C)\nHeating the Home\nWater Heating\nRefrigerator\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n\n\nThank you for helping the Smith family reach their kWh reduction goal.\n\n\n\nGeneral Information\nIn this study, electricity use is measured in kilowatt hours (kWh).\nA kilowatt hour (symbol kWh) is a unit of energy. If the energy is being transmitted or used at a constant rate (power) over a period of time, the total energy in kilowatt hours is the power in kilowatts multiplied by the time in hours.\nExamples: - An incandescent lightbulb turned on for 5 hours uses 0.30 kWh. - A microwave used for a total of 30 minutes uses 0.60 kWh. - A central air conditioner used for 3 hours uses 10.50 kWh.\nAppliance Energy Question\n\nWhich of these appliances do you think needs the most energy in average households in Texas over the time period of a year?\n\nCooling (Central A/C)\nHeating the Home\nWater Heating\nRefrigerator\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n\nRank Energy per appliance question\n\nHow much energy do you think the average household of a family of four in Texas uses for each appliance per year? Please rank each appliance based on how many kWh you believe it uses per year, with 1 being the most kWh used per year and 5 being the least kWh used per year.\nPlease rank in order:\n\nCooling (Central A/C)\nHeating the Home\nWater Heating\nRefrigerator\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n\n\n\n\nAfter completing the tasks for four families: - Survey for environmental literacy (using Canfield 2011 as a guide) - Dummy check “do not answer” question - Surveyed for environmental values based on previous study on recycling - Demographic survey - Energy use question: I consume more energy than average: 90, less: 121, do not know: 41 - Perceived knowledge (single item) - Energy literacy/general knowledge (eight items) - Accuracy of the plans: Error = absolute difference from correct answer\n\n\n\n\nWhen you turn on an incandescent light bulb, which of the following energy conversion takes place?\n\nElectrical energy to radiant energy (light)\nChemical energy to radient energy (light)\nElectrical energy to radiant energy (light) and thermal energy (heat)\nChemical energy to radient energy (light) and thermal energy (heat)\nElectrical energy to radient energy (light) and mechanical energy\n\nThe best reason to buy an ENERGY STAR® appliance is…\n\nENERGY STAR appliances are usually bigger\nENERGY STAR appliances cost more\nENERGY STAR appliances use less energy\nENERGY STAR appliances are more modern looking\nENERGY STAR appliances cost less\n\nWhich uses the MOST ENERGY in the average American home in one year?\n\nRefrigerating food and beverages\nWashing and drying clothing\nHeating and cooling rooms\nHeating and cooling water\nLighting the home\n\nThe amount of ELECTRICAL ENERGY (ELECTRICITY) we use is measured in units called…\n\nKilowatt (kW)\nKilowatt-hours (kWh)\nBritish Thermal Units (BTU)\nVolts (V)\nHorsepower (HP)\n\nThe amount of ENERGY consumed by an electrical appliance is equal to the power rating of the appliance (watts or kilowatts)…\n\nMultiplied by the cost of electricity\nAdded to the cost of electricity\nMultiplied by the time it’s used\nDivided by the time it’s used\nAdded to the time it’s used",
    "crumbs": [
      "<strong>Background</strong>",
      "Design and Stimulii"
    ]
  },
  {
    "objectID": "background/study_stim.html#study-2-specfiics",
    "href": "background/study_stim.html#study-2-specfiics",
    "title": "Study Stimulii and Design",
    "section": "",
    "text": "The questions in study 2 are quite similar to those in study 1, but we also included a rounding manipulation (rounded vs. not rounded), and a manipulation of the goal (10% reduction vs. 15% rediction)\nNote that reference class remains a between-subjects variable, while percent goal, rounding, and state are within-subjects variables.\nIn study 2, the new design is a 4 state temperature (2 warm vs. 2 cold states) X 2 task goal (10% vs. 15%) X 2 last year’s usage for the family and the state average (exact vs. rounded numbers) within X 3 task reference class (USD vs. Percentage vs. kWh) between. A note on the percentage goals is that they are rounded to the full dollar. For instance, for the Davis family, 10% of their $6,943.95 cost of residential energy usage is $694.395; this is rounded to $694. For the rounded condition, participants are also told that “The numbers for their [the family’s] usage have been rounded for convenience.” In terms of randomization, blocks were combined so that there was a block for each condition and order combination. As an example, one block is the smith family with a 10% goal and rounded numbers for the family’s usage first, and the Wells family second, with a 15% goal and exact numbers for the family’s usage. Another block has these but in reverse, where the participant receives the Wells family first and the Smith family second. In total, there are 96 conditions, representing each possible order (2 orders x 4 states x 2 possible significant digit values, and 3 reference classes).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nState/Reference\n15% kWh\n10% kWh\n15% USD\n10% USD\n15% Percent\n10% Percent\n\n\n\n\nAdams / Cali\n3,401\n2,267\n$510\n$340\n15%\n10%\n\n\nSmith / Texas\n4,357\n2,905\n$479\n$320\n15%\n10%\n\n\nWells / Colorado\n5,965\n3,977\n$656\n$438\n15%\n10%\n\n\nDavis / Mass\n6,944\n4,629\n$1,042\n$694\n15%\n10%\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nState/Reference\n15% kWh\n10% kWh\n15% USD\n10% USD\n15% Percent\n10% Percent\n\n\n\n\nAdams / Cali\n3,450\n2,300\n$518\n$345\n15%\n10%\n\n\nSmith / Texas\n4,350\n2,900\n$479\n$319\n15%\n10%\n\n\nWells / Colorado\n6,000\n4,000\n$660\n$440\n15%\n10%\n\n\nDavis / Mass\n6,900\n4,600\n$1,035\n$690\n15%\n10%\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n1,289\n2,581\n3,000\n\n\nHeating\n5,597\n6,157\n6,000\n\n\nWater heating\n4,601\n5,061\n5,000\n\n\nRefrigerator\n1,055\n1,266\n1,000\n\n\nOther\n6,916\n7,608\n8,000\n\n\nTotal\n19,458\n22,673\n23,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n4,249\n6,573\n7,000\n\n\nHeating\n5,099\n6,118\n6,000\n\n\nWater heating\n4,396\n5,257\n5,000\n\n\nRefrigerator\n1,318\n2,639\n3,000\n\n\nOther\n7,883\n8,459\n8,000\n\n\nTotal\n22,945\n29,046\n29,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n498\n697\n1,000\n\n\nHeating\n16,411\n18,052\n18,000\n\n\nWater heating\n5,832\n11,667\n12,000\n\n\nRefrigerator\n1,142\n1,370\n1,000\n\n\nOther\n6,652\n7,982\n8,000\n\n\nTotal\n30,535\n39,768\n40,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n322\n419\n0\n\n\nHeating\n19,108\n26,751\n27,000\n\n\nWater heating\n5,070\n10,543\n11,000\n\n\nRefrigerator\n1,025\n1,230\n1,000\n\n\nOther\n6,682\n7,350\n7,000\n\n\nTotal\n32,207\n46,293\n46,000",
    "crumbs": [
      "<strong>Background</strong>",
      "Design and Stimulii"
    ]
  },
  {
    "objectID": "background/study2_info.html",
    "href": "background/study2_info.html",
    "title": "Representation Study",
    "section": "",
    "text": "Description\nVariable\n\n\n\n\nFamily Cooling Use\nACFAMILY1\n\n\nState Cooling Average\nACSTATE1\n\n\nCooling Action Plan 1\nACAPONE1\n\n\nCooling Action Plan 2\nACAPTWO1\n\n\nFamily Heating Use\nHEATFAMILY1\n\n\nState Heating Average\nHEATSTATE1\n\n\nHeating Action Plan 1\nHEATAPONE1\n\n\nHeating Action Plan 2\nHEATAPTWO1\n\n\nFamily Water Heating Use\nWATERFAMILY1\n\n\nFamily Water Heating Average\nWATERSTATE1\n\n\nWater Heating Action Plan 1\nWATERAPONE1\n\n\nWater Heating Action Plan 2\nWATERAPTWO1\n\n\nFamily Refrigerator Use\nREFRIGFAMILY1\n\n\nFamily Refrigerator Average\nREFRIGSTATE1\n\n\nRefrigerator Action Plan 1\nREFRIGAPONE1\n\n\nRefrigerator Action Plan 2\nREFRIGAPTWO1\n\n\nFamily Other Appliance Use\nOTHERFAMILY1\n\n\nFamily Other Appliance Average\nOTHERSTATE1\n\n\nOther Appliance Action Plan 1\nOTHERAPONE1\n\n\nOther Appliance Action Plan 2\nOTHERAPTWO1\n\n\nFamily Total kWh Use\nTOTALFAMILY1\n\n\nFamily Total kWh Average\nTOTALSTATE1\n\n\nTotal kWh Action Plan 1\nTOTALAPONE1\n\n\nTotal kWh Action Plan 2\nTOTALAPTWO1",
    "crumbs": [
      "<strong>Background</strong>",
      "study 2 codebook"
    ]
  },
  {
    "objectID": "background/study2_info.html#condition-variables",
    "href": "background/study2_info.html#condition-variables",
    "title": "Representation Study",
    "section": "Condition Variables",
    "text": "Condition Variables\n\n\n\n\n\n\n\n\nDescription\nVariable\nValue\n\n\n\n\nColorado/Wells Family\nCOLORADO\n1 = first, 2 = second, Missing = not received\n\n\nMassachusetts/Davis Family\nMASSACHUSETTS\n\n\n\nCalifornia/Adams Family\nCALIFORNIA\n\n\n\nTexas/Smith Family\nTEXAS\n\n\n\nReference class received\nREFERENCECLASS\n1 = USD, 2 = kWh, 3 = Percentage\n\n\nWas participant’s first scenario rounded?\nROUNDING1\n1 = yes, 0 = no\n\n\nWas participant’s second scenario rounded?\nROUNDING2\n1 = yes, 0 = no\n\n\nDid the participant receive the rounded scenario first or second?\nROUNDED\n1 = first, 2 = second\n\n\nWas participant’s first scenario a 10% reduction goal?\nTENPERCENT1\n1 = yes, 0 = no\n\n\nWas participant’s second scenario a 10% reduction goal?\nTENPERCENT2\n1 = yes, 0 = no\n\n\nDid the participant receive the 10% reduction goal first or second?\nTENPERCENT\n1 = first, 2 = second",
    "crumbs": [
      "<strong>Background</strong>",
      "study 2 codebook"
    ]
  },
  {
    "objectID": "background/initial_slides.html",
    "href": "background/initial_slides.html",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Despite decades of weatherization and bill relief programs, low-income households still spend a larger portion of their income on energy compared to any other income group (8.2%)\nevery year, about 24 million low-income households in the US fail to pay their energy bills\nAbout 10 million suffering from utility service disconnection every year\n\n\n\n\n\n\n\n\nFoster energy-aware communities that can be scaled across the U.S. based on data analytics and predictive modeling\nDevelop user-interactive devices and feedback mechanisms that optimize and incentivize energy management (35% reduction in energy use and costs; see Kim et al., 2022)\n\n\n\n\n\nPhysical Energy use options Lighting options\nRepresentation Percentage of consumption Dollar cost Energy units\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSource\nTexas average\nTexas Family\nCalifornia average\nCalifornia Family\nColorado average\nColorado Family\nMass. average\nMass. Family\n\n\n\n\nCooling\n4,249\n1,289\n498\n322\n\n\n\n\n\n\nHeating\n5,099\n5,597\n16,411\n19,108\n\n\n\n\n\n\nWater heating\n4,396\n4,601\n5,832\n5,070\n\n\n\n\n\n\nRefrigerator\n1,318\n1,055\n1,142\n1,025\n\n\n\n\n\n\nOther\n7,883\n6,916\n6,652\n6,682\n\n\n\n\n\n\nTotal\n22,945\n19,458\n30,535\n32,207\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCan individuals “translate” energy use information into energy-saving actions (procedural knowledge)?\nDoes it matter if we ask consumers to consider energy information represented as absolute numbers (kWh), percentage of total energy use (%), or in the form of money spent (USD)?\n\n\n\n\nAbsolute numbers (kWh) should be easier to understand and deal with than the percentage of total energy use and money.\n\n\n\n\n\nExamples of the task given to participants:\n\nkWh task, Colorado\n% task, Texas\n\n\n\n\nThe Wells family wants to reduce its household electricity use by 5,965 kWh next year.\n\nPlease complete two possible action plans that will help the Wells family achieve this goal. Please enter how many kWh should be used next year by each appliance and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\n\nNote: The Wells family used 9,233 more kWh than the average household in Colorado last year.\n\n\n\n\n\n\n\n\n\n\nAppliance\nElectricity Used Last Year by the Wells Family (kWh)\nAverage Electricity Used by Households in Colorado (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n697\n498\n\n\n\n\nHeating the Home\n18,052\n16,411\n\n\n\n\nWater Heating\n11,667\n5,832\n\n\n\n\nRefrigerator\n1,370\n1,142\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n7,982\n6,652\n\n\n\n\nTotal kWh\n39,768\n30,535\n\n\n\n\n\n\n\n\nThe Smith family wants to reduce its household electricity use by 15% next year.\n\nPlease complete two possible action plans that will help the Smith family achieve this goal. Please enter how many kWh should be used next year by each appliance category and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\n\nNote: The Smith family used 6,101 more kWh than the average household in Texas last year.\n\n\n\n\n\n\n\n\n\n\nAppliance\nElectricity Used Last Year by the Smith Family (kWh)\nAverage Electricity Used by Households in Texas (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n6,573\n4,249\n\n\n\n\nHeating the Home\n6,118\n5,099\n\n\n\n\nWater Heating\n5,257\n4,396\n\n\n\n\nRefrigerator\n2,639\n1,318\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n8,459\n7,883\n\n\n\n\nTotal kWh\n29,046\n22,945\n\n\n\n\n\n\n\n\n\n\nExamples of the task given to participants:\n\n$ task, Colorado\n\n\n\n\nThe Davis family wants to reduce its household electricity bill by $1,042 next year.\n\nPlease complete two possible action plans that will help the Davis family achieve this goal. Please enter how many kWh should be used next year by each appliance and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\n\nNote: The Davis family used 14,086 more kWh than the average household in Massachusetts last year.\n\n\n\n\n\n\n\n\n\n\nAppliance\nElectricity Used Last Year by the Davis Family (kWh)\nAverage Electricity Used by Households in Massachusetts (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n419\n322\n\n\n\n\nHeating the Home\n26,751\n19,108\n\n\n\n\nWater Heating\n10,543\n5,070\n\n\n\n\nRefrigerator\n1,230\n1,025\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n7,350\n6,682\n\n\n\n\nTotal kWh\n46,293\n32,207\n\n\n\n\n\n\n\n\n\n\nMturk: N = 252 (149 male)\nAge: 20-76; &gt; 30: 155\nIncome: &lt; 50k: 101, 50k–80k: 95, &gt; 80k: 56\nEducation: no college degree: 60, college degree: 101, graduate degree or some grad school: 90 (1 missing)\nEmployment: 201 full time\nStates: &gt; 30 states\n\n\n\n\n\nAs expected, many energy users have great difficulty translating an overall energy-saving goal (e.g., to save 15% of the energy) into a plan that specifies the energy usage on the level of specific utilities.\nIn our study, 61% of action plans had an error that was larger than 1% of the total used kWh. 47% of plans had an error that was larger than 5%, and 30% of plans had an error that was larger than 10%.\n\n\n\n\n\nMturk samples.\nConsumers’ declarative and procedural knowledge: General and domain-specific energy use.\n\n\n\n\n\n\n\n\nConsumers’ knowledge.\nConsumers’ motivation.\nConsumers’ values/attitudes toward energy-saving behaviors.\nOther measures described in the literature.\n\n\n\n\n\n\n\n\n\nOne component of participants’ procedural knowledge.\nDescribe plans to reach specified energy-saving goals.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSource\nTexas average\nTexas Family\nCalifornia average\nCalifornia Family\nColorado average\nColorado Family\nMass. average\nMass. Family\n\n\n\n\nCooling\n4,249\n6,573\n1,289\n2,581\n489\n697\n322\n419\n\n\nHeating\n5,099\n6,118\n5,597\n6,157\n16,411\n18,052\n19,108\n26,751\n\n\nWater heating\n4,396\n5,257\n4,601\n5,061\n5,832\n11,667\n5,070\n10,543\n\n\nRefrigerator\n1,318\n2,639\n1,055\n1,266\n1,142\n1,370\n1,025\n1,230\n\n\nOther\n7,883\n8,459\n6,916\n7,608\n6,652\n7,982\n6,682\n7,350\n\n\nTotal\n22,945\n29,046\n19,458\n22,673\n30,535\n39,768\n32,207\n46,293\n\n\n\n\n\n\n\n\n\n\nPreferred reduction plan.\nRationale.\nTwo appliances they would want to reduce.\n\n\n\n\n\n\nWhich of these action plans that you created would you prefer to implement?\n\nAction Plan 1\nAction Plan 2\n\nWhy would you prefer to implement this action plan?\n[Your response here]\nIf you could reduce electricity use for two appliances in this scenario, which two would you select?\n\nCooling (Central A/C)\nHeating the Home\nWater Heating\nRefrigerator\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n\n\n\nThank you for helping the Smith family reach their kWh reduction goal.\nmarkdown\nCopy ## Results {background-color=“#000080” .smaller}\n\n\n\n\n\n\n\n\n\nFrequency\n%\nCumulative Percent\n\n\n\n\nAgree\n44\n17.5\n17.5\n\n\nSomewhat agree\n103\n40.9\n58.3\n\n\nNeither/nor\n40\n15.9\n74.2\n\n\nSomewhat disagree\n43\n17.1\n91.3\n\n\nDisagree\n22\n8.7\n100.0\n\n\nTotal\n252\n100.0\n\n\n\n\n\n\n\n\n\n\n\nRight Resp.\nFrequency\n%\nCumulative Percent\n\n\n\n\n0\n4\n1.6\n1.6\n\n\n1\n22\n8.7\n10.3\n\n\n2\n32\n12.7\n23.0\n\n\n3\n25\n9.9\n32.9\n\n\n4\n26\n10.3\n43.3\n\n\n5\n33\n13.1\n56.3\n\n\n6\n47\n18.7\n75.0\n\n\n7\n42\n16.7\n91.7\n\n\n8\n21\n8.3\n100.0\n\n\nTotal\n252\n100.0\n\n\n\n\n\n\n\n\n\nDe Waters & Powers (2011)\n\n\n\n\n\n\n\n\n\n\nError\nPerceived Knowledge\nActual Knowledge\n\n\n\n\nError\n\n\n\n\n\nPerceived Knowledge\n.154*\n\n\n\n\nActual Knowledge\n-.451**\n-.245**\n\n\n\n\nNotes: * p = .016, ** p &lt; .001\n\n\n\n\nGigerenzer, Peters\nReimer, Jones, & Skubisz (2015) describe that people often have trouble transforming information in one format to information in another format; some formats are easier to comprehend than others (frequencies vs. probabilities)\nResearch Questions: Can individuals “translate” energy use information into energy-saving actions (procedural knowledge)? Does it matter if we ask consumers to consider energy information represented as absolute numbers (kWh), percentage of total energy use (%), or in the form of money spent (USD)?\nHypothesis: Absolute numbers (kWh) should be easier to understand and deal with than the percentage of total energy use and money.\n\n\n\n\nRanking of energy expenditures\n\n\n\n\n\n\nSource\nTexas\nCalifornia\nColorado\nMassachusetts\n\n\n\n\nCooling\n1\n2\n3\n4\n\n\nHeating\n4\n3\n2\n1\n\n\nWater heating\n4\n3\n1\n2\n\n\nRefrigerator\n1\n3\n2\n4\n\n\nOther\n1\n2\n4\n3\n\n\nTotal\n3\n4\n2\n1\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSource\nTexas average\nTexas Family\nCalifornia average\nCalifornia Family\nColorado average\nColorado Family\nMass. average\nMass. Family\n\n\n\n\nCooling\n4,249\n6,573\n1,289\n2,581\n498\n697\n322\n419\n\n\nHeating\n5,099\n6,118\n5,597\n6,157\n16,411\n18,052\n19,108\n26,751\n\n\nWater heating\n4,396\n5,257\n4,601\n5,061\n5,832\n11,667\n5,070\n10,543\n\n\nRefrigerator\n1,318\n2,639\n1,055\n1,266\n1,142\n1,370\n1,025\n1,230\n\n\nOther\n7,883\n8,459\n6,916\n7,608\n6,652\n7,982\n6,682\n7,350\n\n\nTotal\n22,945\n29,046\n19,458\n22,673\n30,535\n39,768\n32,207\n46,293\n\n\n\n\n\n\n\n\n\n\n\n\ninterventions designed to steer people in a particular direction while preserving their freedom of choice.\n\n\n\n\n\ninterventions designed to foster people’s competence to make their own choices (i.e., to exercise their own agency)\n\n\n\nHertwig & Grüne-Yanoff (2017)\n\n\n\n\n\n\nMeasure\nN\nMinimum\nMaximum\nMean\nSD\n\n\n\n\nError\n242\n0\n10269.00\n2800.63\n2392.27\n\n\nkWh\n76\n0\n9803.50\n2203.91\n2282.37\n\n\n%\n77\n0\n9664.00\n2522.86\n2333.66\n\n\n$\n89\n2\n10269.00\n3550.51\n2363.56\n\n\n\n\n\n\n\n\n\n\n\nCalculator\nN\nMinimum\nMaximum\nMean\nSD\n\n\n\n\nYes\n58\n0\n9131.00\n3824.99\n2344.32\n\n\nNo\n184\n0\n10269.00\n2477.73\n2321.12\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCalculator\nPresentation\nN\nMinimum\nMaximum\nMean\nSD\n\n\n\n\nYes\nkWh\n57\n0\n9803.50\n1792.93\n1998.41\n\n\n\n%\n63\n0\n9664.00\n2376.58\n2259.15\n\n\n\n$\n64\n2\n10269.00\n3187.21\n2476.12\n\n\nNo\nkWh\n19\n0\n8689.00\n3436.84\n2672.27\n\n\n\n%\n14\n1\n9131.00\n3181.12\n2631.86\n\n\n\n$\n25\n851.50\n7802.00\n4480.55\n1770.91\n\n\n\n\n\n\n\n\nCanfield, C., Bruine de Bruin, W., & Wong-Parodi, G. (2017). Perceptions of electricity-use communications: Effects of information, format, and individual differences. Journal of Risk Research, 20(9), 1132–1153. https://doi.org/10.1080/13669877.2015.1121909\nDeWaters, J. E., & Powers, S. E. (2011). Energy literacy of secondary students in New York State (USA): A measure of knowledge, affect, and behavior. Energy Policy, 39(3), 1699–1710. https://doi.org/10.1016/j.enpol.2010.12.049\nHertwig, R., & Grüne-Yanoff, T. (2017). Nudging and boosting: Steering or empowering good decisions. Perspectives on Psychological Science, 12(6), 973–986. https://doi.org/10.1177/1745691617702496\n\n\n\n\n\nNumeric communication of energy use\nSave 10% of your energy!\nExamine numerical feedback about energy use commonly provided on electricity bills\n\nOften presented in kWh or percentage of overall use\nNot money (USD) despite our familiarity with paying for energy\n\n\n\n\n\n\nEnergy use: I consume more energy than average: 90, less: 121, do not know: 41\nPerceived knowledge (single item)\nEnergy literacy/general knowledge (eight items)\nAccuracy of the plans: Error = absolute difference from correct answer",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#energy-saving-decisions-turning-goals-into-appliance-specific-allocations-1",
    "href": "background/initial_slides.html#energy-saving-decisions-turning-goals-into-appliance-specific-allocations-1",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Despite decades of weatherization and bill relief programs, low-income households still spend a larger portion of their income on energy compared to any other income group (8.2%)\nevery year, about 24 million low-income households in the US fail to pay their energy bills\nAbout 10 million suffering from utility service disconnection every year",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#scc-irg-track-1-sociotechnical-systems-to-enable-smart-and-connected-energy-aware-residential-communities",
    "href": "background/initial_slides.html#scc-irg-track-1-sociotechnical-systems-to-enable-smart-and-connected-energy-aware-residential-communities",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Foster energy-aware communities that can be scaled across the U.S. based on data analytics and predictive modeling\nDevelop user-interactive devices and feedback mechanisms that optimize and incentivize energy management (35% reduction in energy use and costs; see Kim et al., 2022)",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#physical-domain-and-symbolic-representation",
    "href": "background/initial_slides.html#physical-domain-and-symbolic-representation",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Physical Energy use options Lighting options\nRepresentation Percentage of consumption Dollar cost Energy units",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#study-2-description",
    "href": "background/initial_slides.html#study-2-description",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Source\nTexas average\nTexas Family\nCalifornia average\nCalifornia Family\nColorado average\nColorado Family\nMass. average\nMass. Family\n\n\n\n\nCooling\n4,249\n1,289\n498\n322\n\n\n\n\n\n\nHeating\n5,099\n5,597\n16,411\n19,108\n\n\n\n\n\n\nWater heating\n4,396\n4,601\n5,832\n5,070\n\n\n\n\n\n\nRefrigerator\n1,318\n1,055\n1,142\n1,025\n\n\n\n\n\n\nOther\n7,883\n6,916\n6,652\n6,682\n\n\n\n\n\n\nTotal\n22,945\n19,458\n30,535\n32,207",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#research-questions-and-hypothesis",
    "href": "background/initial_slides.html#research-questions-and-hypothesis",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Can individuals “translate” energy use information into energy-saving actions (procedural knowledge)?\nDoes it matter if we ask consumers to consider energy information represented as absolute numbers (kWh), percentage of total energy use (%), or in the form of money spent (USD)?\n\n\n\n\nAbsolute numbers (kWh) should be easier to understand and deal with than the percentage of total energy use and money.",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#example",
    "href": "background/initial_slides.html#example",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Examples of the task given to participants:\n\nkWh task, Colorado\n% task, Texas\n\n\n\n\nThe Wells family wants to reduce its household electricity use by 5,965 kWh next year.\n\nPlease complete two possible action plans that will help the Wells family achieve this goal. Please enter how many kWh should be used next year by each appliance and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\n\nNote: The Wells family used 9,233 more kWh than the average household in Colorado last year.\n\n\n\n\n\n\n\n\n\n\nAppliance\nElectricity Used Last Year by the Wells Family (kWh)\nAverage Electricity Used by Households in Colorado (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n697\n498\n\n\n\n\nHeating the Home\n18,052\n16,411\n\n\n\n\nWater Heating\n11,667\n5,832\n\n\n\n\nRefrigerator\n1,370\n1,142\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n7,982\n6,652\n\n\n\n\nTotal kWh\n39,768\n30,535\n\n\n\n\n\n\n\n\nThe Smith family wants to reduce its household electricity use by 15% next year.\n\nPlease complete two possible action plans that will help the Smith family achieve this goal. Please enter how many kWh should be used next year by each appliance category and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\n\nNote: The Smith family used 6,101 more kWh than the average household in Texas last year.\n\n\n\n\n\n\n\n\n\n\nAppliance\nElectricity Used Last Year by the Smith Family (kWh)\nAverage Electricity Used by Households in Texas (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n6,573\n4,249\n\n\n\n\nHeating the Home\n6,118\n5,099\n\n\n\n\nWater Heating\n5,257\n4,396\n\n\n\n\nRefrigerator\n2,639\n1,318\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n8,459\n7,883\n\n\n\n\nTotal kWh\n29,046\n22,945",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#example-1",
    "href": "background/initial_slides.html#example-1",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Examples of the task given to participants:\n\n$ task, Colorado\n\n\n\n\nThe Davis family wants to reduce its household electricity bill by $1,042 next year.\n\nPlease complete two possible action plans that will help the Davis family achieve this goal. Please enter how many kWh should be used next year by each appliance and the total kWh each plan would use. Enter only whole numbers. Try to provide close estimations. You may use a calculator to complete the task.\n\nNote: The Davis family used 14,086 more kWh than the average household in Massachusetts last year.\n\n\n\n\n\n\n\n\n\n\nAppliance\nElectricity Used Last Year by the Davis Family (kWh)\nAverage Electricity Used by Households in Massachusetts (kWh)\nAction Plan 1\nAction Plan 2\n\n\n\n\nCooling (Central A/C)\n419\n322\n\n\n\n\nHeating the Home\n26,751\n19,108\n\n\n\n\nWater Heating\n10,543\n5,070\n\n\n\n\nRefrigerator\n1,230\n1,025\n\n\n\n\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n7,350\n6,682\n\n\n\n\nTotal kWh\n46,293\n32,207",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#sample",
    "href": "background/initial_slides.html#sample",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Mturk: N = 252 (149 male)\nAge: 20-76; &gt; 30: 155\nIncome: &lt; 50k: 101, 50k–80k: 95, &gt; 80k: 56\nEducation: no college degree: 60, college degree: 101, graduate degree or some grad school: 90 (1 missing)\nEmployment: 201 full time\nStates: &gt; 30 states",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#results",
    "href": "background/initial_slides.html#results",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "As expected, many energy users have great difficulty translating an overall energy-saving goal (e.g., to save 15% of the energy) into a plan that specifies the energy usage on the level of specific utilities.\nIn our study, 61% of action plans had an error that was larger than 1% of the total used kWh. 47% of plans had an error that was larger than 5%, and 30% of plans had an error that was larger than 10%.",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#studies",
    "href": "background/initial_slides.html#studies",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Mturk samples.\nConsumers’ declarative and procedural knowledge: General and domain-specific energy use.\n\n\n\n\n\n\n\n\nConsumers’ knowledge.\nConsumers’ motivation.\nConsumers’ values/attitudes toward energy-saving behaviors.\nOther measures described in the literature.\n\n\n\n\n\n\n\n\n\nOne component of participants’ procedural knowledge.\nDescribe plans to reach specified energy-saving goals.",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#study-2",
    "href": "background/initial_slides.html#study-2",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Source\nTexas average\nTexas Family\nCalifornia average\nCalifornia Family\nColorado average\nColorado Family\nMass. average\nMass. Family\n\n\n\n\nCooling\n4,249\n6,573\n1,289\n2,581\n489\n697\n322\n419\n\n\nHeating\n5,099\n6,118\n5,597\n6,157\n16,411\n18,052\n19,108\n26,751\n\n\nWater heating\n4,396\n5,257\n4,601\n5,061\n5,832\n11,667\n5,070\n10,543\n\n\nRefrigerator\n1,318\n2,639\n1,055\n1,266\n1,142\n1,370\n1,025\n1,230\n\n\nOther\n7,883\n8,459\n6,916\n7,608\n6,652\n7,982\n6,682\n7,350\n\n\nTotal\n22,945\n29,046\n19,458\n22,673\n30,535\n39,768\n32,207\n46,293",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#study-2-1",
    "href": "background/initial_slides.html#study-2-1",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Preferred reduction plan.\nRationale.\nTwo appliances they would want to reduce.\n\n\n\n\n\n\nWhich of these action plans that you created would you prefer to implement?\n\nAction Plan 1\nAction Plan 2\n\nWhy would you prefer to implement this action plan?\n[Your response here]\nIf you could reduce electricity use for two appliances in this scenario, which two would you select?\n\nCooling (Central A/C)\nHeating the Home\nWater Heating\nRefrigerator\nOther (Television, Lighting, Electronics, Washer/Dryer, etc.)\n\n\n\nThank you for helping the Smith family reach their kWh reduction goal.\nmarkdown\nCopy ## Results {background-color=“#000080” .smaller}\n\n\n\n\n\n\n\n\n\nFrequency\n%\nCumulative Percent\n\n\n\n\nAgree\n44\n17.5\n17.5\n\n\nSomewhat agree\n103\n40.9\n58.3\n\n\nNeither/nor\n40\n15.9\n74.2\n\n\nSomewhat disagree\n43\n17.1\n91.3\n\n\nDisagree\n22\n8.7\n100.0\n\n\nTotal\n252\n100.0\n\n\n\n\n\n\n\n\n\n\n\nRight Resp.\nFrequency\n%\nCumulative Percent\n\n\n\n\n0\n4\n1.6\n1.6\n\n\n1\n22\n8.7\n10.3\n\n\n2\n32\n12.7\n23.0\n\n\n3\n25\n9.9\n32.9\n\n\n4\n26\n10.3\n43.3\n\n\n5\n33\n13.1\n56.3\n\n\n6\n47\n18.7\n75.0\n\n\n7\n42\n16.7\n91.7\n\n\n8\n21\n8.3\n100.0\n\n\nTotal\n252\n100.0\n\n\n\n\n\n\n\n\n\nDe Waters & Powers (2011)",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#results-1",
    "href": "background/initial_slides.html#results-1",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Error\nPerceived Knowledge\nActual Knowledge\n\n\n\n\nError\n\n\n\n\n\nPerceived Knowledge\n.154*\n\n\n\n\nActual Knowledge\n-.451**\n-.245**\n\n\n\n\nNotes: * p = .016, ** p &lt; .001",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#questionshypotheses",
    "href": "background/initial_slides.html#questionshypotheses",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Gigerenzer, Peters\nReimer, Jones, & Skubisz (2015) describe that people often have trouble transforming information in one format to information in another format; some formats are easier to comprehend than others (frequencies vs. probabilities)\nResearch Questions: Can individuals “translate” energy use information into energy-saving actions (procedural knowledge)? Does it matter if we ask consumers to consider energy information represented as absolute numbers (kWh), percentage of total energy use (%), or in the form of money spent (USD)?\nHypothesis: Absolute numbers (kWh) should be easier to understand and deal with than the percentage of total energy use and money.",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#study-2-description-1",
    "href": "background/initial_slides.html#study-2-description-1",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Ranking of energy expenditures\n\n\n\n\n\n\nSource\nTexas\nCalifornia\nColorado\nMassachusetts\n\n\n\n\nCooling\n1\n2\n3\n4\n\n\nHeating\n4\n3\n2\n1\n\n\nWater heating\n4\n3\n1\n2\n\n\nRefrigerator\n1\n3\n2\n4\n\n\nOther\n1\n2\n4\n3\n\n\nTotal\n3\n4\n2\n1",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#study-2-description-2",
    "href": "background/initial_slides.html#study-2-description-2",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Source\nTexas average\nTexas Family\nCalifornia average\nCalifornia Family\nColorado average\nColorado Family\nMass. average\nMass. Family\n\n\n\n\nCooling\n4,249\n6,573\n1,289\n2,581\n498\n697\n322\n419\n\n\nHeating\n5,099\n6,118\n5,597\n6,157\n16,411\n18,052\n19,108\n26,751\n\n\nWater heating\n4,396\n5,257\n4,601\n5,061\n5,832\n11,667\n5,070\n10,543\n\n\nRefrigerator\n1,318\n2,639\n1,055\n1,266\n1,142\n1,370\n1,025\n1,230\n\n\nOther\n7,883\n8,459\n6,916\n7,608\n6,652\n7,982\n6,682\n7,350\n\n\nTotal\n22,945\n29,046\n19,458\n22,673\n30,535\n39,768\n32,207\n46,293",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#representation-format",
    "href": "background/initial_slides.html#representation-format",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "interventions designed to steer people in a particular direction while preserving their freedom of choice.\n\n\n\n\n\ninterventions designed to foster people’s competence to make their own choices (i.e., to exercise their own agency)\n\n\n\nHertwig & Grüne-Yanoff (2017)",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#results-2",
    "href": "background/initial_slides.html#results-2",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Measure\nN\nMinimum\nMaximum\nMean\nSD\n\n\n\n\nError\n242\n0\n10269.00\n2800.63\n2392.27\n\n\nkWh\n76\n0\n9803.50\n2203.91\n2282.37\n\n\n%\n77\n0\n9664.00\n2522.86\n2333.66\n\n\n$\n89\n2\n10269.00\n3550.51\n2363.56",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#results-3",
    "href": "background/initial_slides.html#results-3",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Calculator\nN\nMinimum\nMaximum\nMean\nSD\n\n\n\n\nYes\n58\n0\n9131.00\n3824.99\n2344.32\n\n\nNo\n184\n0\n10269.00\n2477.73\n2321.12\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCalculator\nPresentation\nN\nMinimum\nMaximum\nMean\nSD\n\n\n\n\nYes\nkWh\n57\n0\n9803.50\n1792.93\n1998.41\n\n\n\n%\n63\n0\n9664.00\n2376.58\n2259.15\n\n\n\n$\n64\n2\n10269.00\n3187.21\n2476.12\n\n\nNo\nkWh\n19\n0\n8689.00\n3436.84\n2672.27\n\n\n\n%\n14\n1\n9131.00\n3181.12\n2631.86\n\n\n\n$\n25\n851.50\n7802.00\n4480.55\n1770.91",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#references",
    "href": "background/initial_slides.html#references",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Canfield, C., Bruine de Bruin, W., & Wong-Parodi, G. (2017). Perceptions of electricity-use communications: Effects of information, format, and individual differences. Journal of Risk Research, 20(9), 1132–1153. https://doi.org/10.1080/13669877.2015.1121909\nDeWaters, J. E., & Powers, S. E. (2011). Energy literacy of secondary students in New York State (USA): A measure of knowledge, affect, and behavior. Energy Policy, 39(3), 1699–1710. https://doi.org/10.1016/j.enpol.2010.12.049\nHertwig, R., & Grüne-Yanoff, T. (2017). Nudging and boosting: Steering or empowering good decisions. Perspectives on Psychological Science, 12(6), 973–986. https://doi.org/10.1177/1745691617702496",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#representation",
    "href": "background/initial_slides.html#representation",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Numeric communication of energy use\nSave 10% of your energy!\nExamine numerical feedback about energy use commonly provided on electricity bills\n\nOften presented in kWh or percentage of overall use\nNot money (USD) despite our familiarity with paying for energy",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "background/initial_slides.html#results-basic-descriptives",
    "href": "background/initial_slides.html#results-basic-descriptives",
    "title": "Energy-Saving Decisions: Turning Goals into Appliance-Specific Allocations",
    "section": "",
    "text": "Energy use: I consume more energy than average: 90, less: 121, do not know: 41\nPerceived knowledge (single item)\nEnergy literacy/general knowledge (eight items)\nAccuracy of the plans: Error = absolute difference from correct answer",
    "crumbs": [
      "<strong>Background</strong>",
      "MPA_Slides"
    ]
  },
  {
    "objectID": "nb/study2.html",
    "href": "nb/study2.html",
    "title": "Study 2 Analysis",
    "section": "",
    "text": "library(pacman)\npacman::p_load(dplyr,purrr,tidyr,here, haven,tibble,ggplot2,gt,ggh4x,lme4,flextable,ggh4x)\n\noptions(digits=2, scipen=999, dplyr.summarise.inform=FALSE)\nwalk(c(\"fun_plot\"), ~ source(here::here(paste0(\"scripts/\", .x, \".R\"))))\ntheme_set(theme_nice())\n\n#202009 \n\ns2 &lt;- haven::read_sav(here::here(\"data/Frequency & Probability Study 2 - 3-24-19.sav\"))\ns2 &lt;- s2 |&gt; #mutate(id = as.numeric(format(EndDate, \"%H%M%S\"))) |&gt; relocate(id) |&gt; \n  mutate(id=paste0(\"s2_\",row_number())) |&gt; relocate(id)\ns2 &lt;- s2 |&gt; filter(!(id==\"s2_78\")) |&gt; # NA for some responses\n  filter(!(id==\"s2_196\")) # NA for state_avg for COL HEAT - (HEATSTATE2)\n  # filter(!(id==\"s2_208\")) # NA for response for California not rounded Total (TOTALAPONE1 and TOTALAPTWO1) - leave them in since all the acutal app values are okay\ns2 &lt;- s2 |&gt; \n  mutate(\n    state1 = case_when(\n      COLORADO == 1 ~ \"Colorado\",\n      MASSACHUSETTS == 1 ~ \"Massachusetts\",\n      CALIFORNIA == 1 ~ \"California\",\n      TEXAS == 1 ~ \"Texas\",\n      TRUE ~ NA_character_\n    ),\n    state2 = case_when(\n      COLORADO == 2 ~ \"Colorado\",\n      MASSACHUSETTS == 2 ~ \"Massachusetts\",\n      CALIFORNIA == 2 ~ \"California\",\n      TEXAS == 2 ~ \"Texas\",\n      TRUE ~ NA_character_\n    )\n  ) |&gt; \n  mutate(refClass = case_when(\n  REFERENCECLASS == 1 ~ \"USD\",\n  REFERENCECLASS == 2 ~ \"kWh\",\n  REFERENCECLASS == 3 ~ \"Percentage\"\n)) |&gt; \n  rename(calc=MATH01) |&gt;  # replace NA's in calc with 0's\n  mutate(calc=factor(ifelse(is.na(calc),0,calc))) |&gt; \n  mutate(calc = if_else(calc == 0, \"No Calculator\", \"Calculator\")) |&gt; \n  relocate(refClass,state1,state2,calc, .after = id) \n\ns2 &lt;- s2 |&gt; rename(edu=DEM04) |&gt;\n  mutate(edu = factor(case_when(\n    edu == '1' ~ \"Some schooling, but no diploma or degree\",\n    edu == 2 ~ \"Highschool diploma or GED\",\n    edu == 3 ~ \"Some college\",\n    edu == 4 ~ \"College degree\",\n    edu == 5 ~ \"Some graduate school\",\n    edu == 6 ~ \"Graduate degree\",\n    edu == 7 ~ \"Choose not to answer\",\n    TRUE ~ NA_character_\n  ))) |&gt; relocate(edu, .after = id)\ns2_b1 &lt;- s2 |&gt; select(id,state1,refClass,TENPERCENT,ROUNDED, calc, edu,ACFAMILY1:TOTALAPTWO1) |&gt; \n  mutate( \n    block = 1,\n    state=state1,\n  pct_goal=case_when (TENPERCENT == 1 ~ \"10%\", TENPERCENT == 2 ~ \"15%\"), \n  pct=case_when (TENPERCENT == 1 ~ .10, TENPERCENT == 2 ~ .15),\n  rounded = case_when(ROUNDED == 1 ~ \"Rounded\", ROUNDED == 2 ~ \"Not Rounded\")\n  ) |&gt; relocate(id,block,refClass,pct_goal,rounded,state)  |&gt; \n  select(-TENPERCENT,-ROUNDED, -state1)\n\ns2_b2 &lt;- s2 |&gt; select(id,state2,refClass,TENPERCENT,ROUNDED, calc,edu,ACFAMILY2:TOTALAPTWO2) |&gt; \n  mutate( \n    block = 2,\n    state=state2,\n  pct_goal=case_when (TENPERCENT == 1 ~ \"15%\", TENPERCENT == 2 ~ \"10%\"), \n  pct=case_when (TENPERCENT == 1 ~ .15, TENPERCENT == 2 ~ .10),\n  rounded = case_when(ROUNDED == 1 ~ \"Not Rounded\", ROUNDED == 2 ~ \"Rounded\")\n  ) |&gt; relocate(id,block,refClass,pct_goal,rounded,state) |&gt; \n  select(-TENPERCENT,-ROUNDED, -state2)\n\ns2_b1_long &lt;- s2_b1 |&gt;\n  pivot_longer(\n    cols = c(ACFAMILY1:TOTALAPTWO1),\n    names_to = c(\"appliance\", \"measure\"),\n    names_pattern = \"(AC|HEAT|WATER|REFRIG|OTHER|TOTAL)(FAMILY1|STATE1|APONE1|APTWO1)\",\n    values_to = \"value\"\n  ) |&gt;\n  pivot_wider(\n    names_from = measure,\n    values_from = value\n  ) |&gt;\n  rename(\n    family = FAMILY1,\n    state_avg = STATE1,\n    plan1 = APONE1,\n    plan2 = APTWO1\n  ) |&gt;\n  relocate(appliance, .after = refClass)\n\ns2_b2_long &lt;- s2_b2 |&gt;\n  pivot_longer(\n    cols = c(ACFAMILY2:TOTALAPTWO2),\n    names_to = c(\"appliance\", \"measure\"),\n    names_pattern = \"(AC|HEAT|WATER|REFRIG|OTHER|TOTAL)(FAMILY2|STATE2|APONE2|APTWO2)\",\n    values_to = \"value\"\n  ) |&gt;\n  pivot_wider(\n    names_from = measure,\n    values_from = value\n  ) |&gt;\n  rename(\n    family = FAMILY2,\n    state_avg = STATE2,\n    plan1 = APONE2,\n    plan2 = APTWO2\n  ) |&gt;\n  relocate(appliance, .after = refClass)\n\n\ns2_long &lt;- bind_rows(s2_b1_long, s2_b2_long) |&gt; \n  arrange(id, block) \n\n# pivot so that plan1 and plan2 are on their own rows\ns2_long &lt;- s2_long |&gt;\n  group_by(id,block) |&gt; \n  pivot_longer(\n    cols = c(plan1, plan2),\n    names_to = \"plan\",\n    values_to = \"value\"\n  ) |&gt; \n  mutate(change = value-family, state_dif = value-state_avg,plan=as_factor(plan)) \n\n# s2 |&gt; filter(id==\"s2_208\") |&gt; select(starts_with(\"T\"))\n# s2_long |&gt; filter_all(any_vars(is.na(.)))\n\n#write.csv(s2_long,\"data/study_2_tg.csv\")\n#saveRDS(s2_long, here::here(\"data/s2_processed.rds\"))\ns2_long &lt;- readRDS(here::here(\"data/s2_processed.rds\"))\n\n# compute total kWh reduction, and total % reduction \ns2_agg &lt;- s2_long |&gt; \n  filter(appliance !=\"TOTAL\") |&gt; \n  group_by(id,refClass,state,pct_goal,pct,rounded,block,plan,calc,edu) |&gt; \n  summarise(total_kWh = sum(value),orig_kWh=sum(family), pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), state_dif=mean(state_dif))\n\n\n# Step 1: Calculate whether participants matched the target pct_goal\ns2_agg &lt;- s2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt; \n  group_by(id, refClass, state, pct_goal, pct, rounded, block, plan, calc, edu) |&gt; \n  summarise(\n    total_kWh = sum(value),\n    orig_kWh = sum(family),\n    pct_change = round((orig_kWh - total_kWh) / orig_kWh, 3),\n    state_dif = mean(state_dif),\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(matched_goal = (pct_change == pct),\n  matched_goal2 = abs(pct_change-pct)&lt;.03)\ns2_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n  group_by(refClass) |&gt;\n  summarise(mean_pct=mean(pct), sd_pct=sd(pct), n=n()) |&gt; gt()\n\n\n\n\n\nrefClass\nmean_pct\nsd_pct\nn\n\n\n\nPercentage\n0.27\n0.35\n76\n\n\nUSD\n0.18\n0.37\n59\n\n\nkWh\n0.42\n0.45\n71\n\n\n\n\n\ns2_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n  group_by(refClass,mg) |&gt;\n  summarise(n=n()) |&gt; \n  rename(\"# matched goal\"=mg,\"# participants\"=n) |&gt; gt() |&gt;  tab_header(\n    title = md(\"**Number of Trials participants match goal by Reference class**\"),\n    subtitle = \"Each participant had 4 trials where they attempt to create a plan to match goal\"\n  ) \n\n\n\n\n\n\nNumber of Trials participants match goal by Reference class\n\n\nEach participant had 4 trials where they attempt to create a plan to match goal\n\n\n# matched goal\n# participants\n\n\n\n\nPercentage\n\n\n0\n43\n\n\n1\n4\n\n\n2\n18\n\n\n3\n2\n\n\n4\n9\n\n\nUSD\n\n\n0\n47\n\n\n2\n2\n\n\n3\n1\n\n\n4\n9\n\n\nkWh\n\n\n0\n34\n\n\n1\n3\n\n\n2\n6\n\n\n3\n7\n\n\n4\n21\n\n\n\n\n\ns2_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n  ggplot(aes(x=pct)) +\n  geom_bar(aes(fill=refClass)) +\n  ggdist::stat_halfeye() +\n  geom_rug(alpha=0.1) +\n  stat_boxplot(width=0.5, alpha=0.6) +\n  facet_wrap(~refClass) +\n  labs(title=\"Distributions of % of trials that matched goal\",\n       x=\"% of trials (out of 4) that matched goal\",\n       y=\"Number of Participants\") +\n  scale_fill_brewer(palette=\"Set2\") + \n  scale_y_continuous(breaks=seq(0,80,5))  + \n  scale_x_continuous(breaks=seq(0,1,.25),labels=scales::percent_format(accuracy=1))\n\n\n\n\n\n\ns2_agg |&gt; group_by(id,refClass,pct_goal) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n  ggplot(aes(x=pct)) +\n  geom_bar(aes(fill=refClass)) +\n  ggdist::stat_halfeye() +\n  geom_rug(alpha=0.1) +\n  stat_boxplot(width=0.5, alpha=0.6) +\n  facet_wrap(pct_goal~refClass) +\n  labs(title=\"Distributions of % of trials that matched goal\",\n       x=\"% of trials (out of 2) that matched goal\",\n       y=\"Number of Participants\") +\n  scale_fill_brewer(palette=\"Set2\") + \n  scale_y_continuous(breaks=seq(0,80,5))  + \n  scale_x_continuous(breaks=seq(0,1,.25),labels=scales::percent_format(accuracy=1))",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 2"
    ]
  },
  {
    "objectID": "nb/study2.html#inspect-response-distribution-for-outliers",
    "href": "nb/study2.html#inspect-response-distribution-for-outliers",
    "title": "Study 2 Analysis",
    "section": "Inspect response distribution for outliers",
    "text": "Inspect response distribution for outliers\n\noutliers &lt;- s2_agg |&gt;  ungroup() |&gt; group_by(state) |&gt; mutate(change_mean=mean(pct_change,na.rm=TRUE),change_sd=sd(pct_change,na.rm=TRUE),\n                                     z_score=(pct_change-change_mean)/change_sd,\n                                     is_outlier=abs(z_score)&gt;3.0)\n\noutlier_id &lt;- outliers |&gt; filter(is_outlier) |&gt; pull(id) |&gt; unique()\n\noutlier_summary &lt;- outliers %&gt;%\n  group_by(pct_goal, rounded, refClass,state) %&gt;%\n  summarise(\n    num_outliers = sum(is_outlier, na.rm = TRUE),\n    total = n(),\n    outlier_percentage = (num_outliers / total) * 100\n  )\n\noutlier_plot &lt;- ggplot(outliers, aes(x = state, y = z_score, color = is_outlier)) +\n  geom_jitter(alpha = 0.5) +\n  facet_wrap(~ pct_goal) +\n  labs(\n    title = \"Z-Scores of Change in Energy Usage by State - outliers colored\",\n    x = \"State\",\n    y = \"Z-Score\",\n    color = \"Outlier\"\n  ) +\n  theme_minimal()\n\n# Assess skewness and normality of the data\nlibrary(e1071)\n# Calculate skewness and kurtosis for the `pct_change` variable\nskewness_value &lt;- skewness(s2_agg$pct_change, na.rm = TRUE)\nkurtosis_value &lt;- kurtosis(s2_agg$pct_change, na.rm = TRUE)\n\ncat(\"Skewness:\", skewness_value, \"\\n\")\n\nSkewness: 1.2 \n\ncat(\"Kurtosis:\", kurtosis_value, \"\\n\")\n\nKurtosis: 2.9 \n\n# Shapiro-Wilk test for normality (sample size limitation)\nshapiro_test &lt;- shapiro.test(s2_agg$pct_change[1:5000])  # Using first 5000 observations if large dataset\nprint(shapiro_test)\n\n\n    Shapiro-Wilk normality test\n\ndata:  s2_agg$pct_change[1:5000]\nW = 0.8, p-value &lt;0.0000000000000002",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 2"
    ]
  },
  {
    "objectID": "nb/study2.html#before-and-after-excluding-outliers",
    "href": "nb/study2.html#before-and-after-excluding-outliers",
    "title": "Study 2 Analysis",
    "section": "Before and after excluding outliers",
    "text": "Before and after excluding outliers\n#outlier_plot\n\ns2_agg |&gt; ggplot(aes(x=pct_change)) +\n  geom_density(aes(fill=state), alpha=0.5) +\n  ggdist::stat_halfeye() +\n  geom_rug(alpha=0.1) +\n  stat_boxplot(width=0.5, alpha=0.6) +\n  facet_wrap(~refClass) +\n  labs(title=\"Distribution of Percent Change by State and Reference Class - Before outlier exclusion\",\n       x=\"Percent Change\",\n       y=\"Density\") +\n  scale_fill_brewer(palette=\"Set2\")\n# plot densities in a better way to account for the positive skew\n\ns2_agg &lt;- s2_agg |&gt; \n  filter(!id %in% outlier_id)\n\ns2_agg |&gt; \n  filter(!id %in% outlier_id) |&gt;\n  ggplot(aes(x=pct_change)) +\n  geom_density(aes(fill=state), alpha=0.5) +\n  ggdist::stat_halfeye() +\n  geom_rug(alpha=0.1) +\n  stat_boxplot(width=0.5, alpha=0.6) +\n  facet_wrap(~refClass) +\n  labs(title=\"After outlier exclusion\",\n       x=\"Percent Change\",\n       y=\"Density\") +\n  scale_fill_brewer(palette=\"Set2\")",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 2"
    ]
  },
  {
    "objectID": "nb/study2.html#individual-participant-responses",
    "href": "nb/study2.html#individual-participant-responses",
    "title": "Study 2 Analysis",
    "section": "Individual Participant responses",
    "text": "Individual Participant responses\n\nFacets indicate the Reference class (%, kWh, USD) and the goal % reduction (10%, 15%)\ndashed lines also indicate goal percentage - dots on the line indicate participants who met the goal\n\n\n  # add geom_vline with x intercept based on pct_goal of the data (which is currently a string of form 10%)\ns2_agg |&gt; \n  filter(block==1) |&gt;\n  ungroup() |&gt; \n  mutate(goal_pct = as.numeric(stringr::str_remove(pct_goal,\"%\"))/100) |&gt;\n  mutate(id=reorder(id,pct_change)) |&gt; \n  ggplot(aes(y=id,x=pct_change)) + \n  geom_point(size=1,alpha=0.6,position = position_jitter(w=0, h=0.17)) +\n  geom_vline(aes(xintercept=goal_pct),linetype=\"dashed\",alpha=.5) +\n  ggh4x::facet_nested_wrap(refClass~pct_goal,axes=\"all\",scales=\"free\",ncol=2)  + \n  labs(y=\"Participant Id\", x=\"Percent Change\", title=\"Individual Performance\") +\n  theme(axis.text.y = element_text(family = \"Manrope Light\", face = \"plain\", size = rel(0.7)))",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 2"
    ]
  },
  {
    "objectID": "nb/study2.html#interactive-data-table",
    "href": "nb/study2.html#interactive-data-table",
    "title": "Study 2 Analysis",
    "section": "Interactive data table",
    "text": "Interactive data table\n\n# plot distribution of reductions by applicance\n# s2_long |&gt; ggplot(aes(x = change)) + geom_histogram(bins = 30) + facet_wrap(~appliance, scales = \"free\")\ns2_agg |&gt; mutate(refClass=factor(refClass),pct_goal=factor(pct_goal),rounded=factor(rounded),state=factor(state)) |&gt;\nDT::datatable(extensions = 'Buttons',\n  options = list(\n    dom = 'Blfrtip',\n    buttons = list('copy', 'csv', 'excel', 'pdf', 'print'),\n    pageLength = 7,\n    autoWidth = TRUE\n  ),\n  filter = 'top') # Add filtering at the top of each column)\n\n\n\n\n#DT::datatable(sum1 |&gt; group_by(id,block) |&gt; summarise(diff(total_kWh),diff(orig_kWh)))",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 2"
    ]
  },
  {
    "objectID": "nb/study2.html#looking-at-of-subjects-who-hit-the-target-reduction",
    "href": "nb/study2.html#looking-at-of-subjects-who-hit-the-target-reduction",
    "title": "Study 2 Analysis",
    "section": "Looking at % of subjects who hit the target reduction",
    "text": "Looking at % of subjects who hit the target reduction\n\n# 203309\n\n\n\n# Step 2: Summarize the percentage of participants meeting the goal for each condition\nsummary_pct &lt;- s2_agg |&gt;\n  group_by(refClass, rounded, pct_goal) |&gt;\n  summarise(\n    matched_count = sum(matched_goal),\n    total_count = n(),\n    pct_matched = matched_count / total_count * 100,\n    .groups = \"drop\"\n  )\n\n# Step 3: Create plots for the percentage of subjects in each condition who matched the target pct\nggplot(summary_pct, aes(x = refClass, y = pct_matched, fill = rounded)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  facet_wrap(~ pct_goal) +\n  labs(\n    title = \"Percentage of Participants Matching Target Pct by Condition\",\n    x = \"Reference Class\",\n    y = \"Percentage Matched (%)\",\n    fill = \"Rounding\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\nsummary_pct |&gt;\n  gt() |&gt;\n  tab_header(\n    title = md(\"**Percentage of Participants Matching Target Pct by Condition**\"),\n    subtitle = \"Grouped by Reference Class, Rounding, and Pct Goal\"\n  ) |&gt;\n  fmt_number(\n    columns = c(pct_matched),\n    decimals = 2\n  ) |&gt;\n  cols_label(\n    refClass = \"Reference Class\",\n    rounded = \"Rounding\",\n    pct_goal = \"Pct Goal\",\n    matched_count = \"Matched Count\",\n    total_count = \"Total Count\",\n    pct_matched = \"Percentage Matched (%)\"\n  ) |&gt;\n  cols_align(\n    align = \"center\",\n    columns = everything()\n  ) |&gt;\n  tab_spanner(\n    label = \"Participants\",\n    columns = c(matched_count, total_count, pct_matched)\n  )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPercentage of Participants Matching Target Pct by Condition\n\n\nGrouped by Reference Class, Rounding, and Pct Goal\n\n\nReference Class\nRounding\nPct Goal\n\nParticipants\n\n\n\nMatched Count\nTotal Count\nPercentage Matched (%)\n\n\n\n\nPercentage\nNot Rounded\n10%\n8\n86\n9.30\n\n\nPercentage\nNot Rounded\n15%\n19\n62\n30.65\n\n\nPercentage\nRounded\n10%\n27\n62\n43.55\n\n\nPercentage\nRounded\n15%\n28\n86\n32.56\n\n\nUSD\nNot Rounded\n10%\n8\n56\n14.29\n\n\nUSD\nNot Rounded\n15%\n14\n58\n24.14\n\n\nUSD\nRounded\n10%\n12\n58\n20.69\n\n\nUSD\nRounded\n15%\n9\n56\n16.07\n\n\nkWh\nNot Rounded\n10%\n26\n62\n41.94\n\n\nkWh\nNot Rounded\n15%\n29\n76\n38.16\n\n\nkWh\nRounded\n10%\n35\n76\n46.05\n\n\nkWh\nRounded\n15%\n30\n62\n48.39\n\n\n\n\n\n\n# Step 1: Calculate whether participants matched the target pct_goal within different tolerances\nsum1a &lt;- s2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt; \n  group_by(id, refClass, state, pct_goal, pct, rounded, block, plan, calc, edu) |&gt; \n  summarise(\n    total_kWh = sum(value),\n    orig_kWh = sum(family),\n    pct_change = round((orig_kWh - total_kWh) / orig_kWh, 3),\n    state_dif = mean(state_dif),\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(\n    target_pct = as.numeric(sub(\"%\", \"\", pct_goal)) / 100,\n    match_level = case_when(\n      abs(pct_change - target_pct) &lt;= 0.001 ~ \"Exact Match\",\n      abs(pct_change - target_pct) &lt;= 0.05 ~ \"Within 5%\",\n      abs(pct_change - target_pct) &lt;= 0.10 ~ \"Within 10%\",\n      abs(pct_change - target_pct) &lt;= 0.20 ~ \"Within 20%\",\n      TRUE ~ \"Over 20%\"\n    ),\n    match_level = factor(match_level, levels = c(\"Exact Match\", \"Within 5%\", \"Within 10%\", \"Within 20%\", \"Over 20%\"))\n  )\n\n# Step 2: Summarize the percentage of participants in each match level for each condition\nsummary_pct &lt;- sum1a |&gt;\n  group_by(refClass, rounded, pct_goal, match_level) |&gt;\n  summarise(count = n(), .groups = \"drop\") |&gt;\n  group_by(refClass, rounded, pct_goal) |&gt;\n  mutate(\n    total_count = sum(count),\n    percentage = count / total_count * 100\n  ) |&gt;\n  ungroup()\n\n# Step 3: Create plot\nggplot(summary_pct, aes(x = interaction(refClass, rounded), y = percentage, fill = match_level)) +\n  geom_bar(stat = \"identity\", position = \"stack\") +\n  facet_wrap(~ pct_goal, scales = \"free_x\") +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Percentage of Participants by Match Level\",\n    subtitle = \"Grouped by Reference Class, Rounding, and Pct Goal\",\n    x = \"Reference Class and Rounding\",\n    y = \"Percentage (%)\",\n    fill = \"Match Level\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\nggplot(summary_pct, aes(x = refClass, y = percentage, fill = match_level)) +\n  geom_bar(stat = \"identity\",position=position_dodge()) +\n  facet_wrap(rounded ~ pct_goal, scales = \"free_x\") +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Percentage of Participants by Match Level\",\n    subtitle = \"Grouped by Reference Class, Rounding, and Pct Goal\",\n    x = \"Reference Class and Rounding\",\n    y = \"Percentage (%)\",\n    fill = \"Match Level\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 2"
    ]
  },
  {
    "objectID": "nb/study2.html#cumulative-plot",
    "href": "nb/study2.html#cumulative-plot",
    "title": "Study 2 Analysis",
    "section": "Cumulative plot",
    "text": "Cumulative plot\nClick on plots to enlarge\n# Step 1: Calculate match levels with cumulative groups\nsum1c &lt;- s2_long |&gt;\n  filter(appliance != \"TOTAL\") |&gt;\n  group_by(id, refClass, state, pct_goal, pct, rounded, block, plan, calc, edu) |&gt;\n  summarise(\n    total_kWh = sum(value),\n    orig_kWh = sum(family),\n    pct_change = round((orig_kWh - total_kWh) / orig_kWh, 3),\n    state_dif = mean(state_dif),\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(\n    target_pct = as.numeric(sub(\"%\", \"\", pct_goal)) / 100,\n    match_level = case_when(\n      abs(pct_change - target_pct) &lt;= 0.001 ~ \"Exact Match\",\n      abs(pct_change - target_pct) &lt;= 0.05 ~ \"Within 5%\",\n      abs(pct_change - target_pct) &lt;= 0.10 ~ \"Within 10%\",\n      abs(pct_change - target_pct) &lt;= 0.20 ~ \"Within 20%\",\n      TRUE ~ \"Over 20%\"\n    ),\n    match_level = factor(\n      match_level, \n      levels = c(\"Exact Match\", \"Within 5%\", \"Within 10%\", \"Within 20%\", \"Over 20%\")\n    )\n  )\n\n# Step 2: Create cumulative groups for each match level\nsummary_pct &lt;- sum1c |&gt;\n  group_by(refClass, rounded, pct_goal, match_level) |&gt;\n  summarise(count = n(), .groups = \"drop\") |&gt;\n  group_by(refClass, rounded, pct_goal) |&gt;\n  mutate(\n    total_count = sum(count),\n    cumulative_count = cumsum(count),\n    cumulative_percentage = cumulative_count / total_count * 100\n  ) |&gt;\n  ungroup()\n\n# Step 3: Create a plot for cumulative percentages\nggplot(summary_pct, aes(x = refClass, y = cumulative_percentage, fill = match_level)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  facet_wrap(pct_goal~rounded, scales = \"free_x\") +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Cumulative Percentage of Participants by Match Level\",\n    subtitle = \"Grouped by Reference Class, Rounding, and Pct Goal\",\n    x = \"Reference Class\",\n    y = \"Cumulative Percentage (%)\",\n    fill = \"Match Level\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\nggplot(summary_pct, aes(x = refClass, y = cumulative_percentage, fill = match_level)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  facet_wrap(~rounded, scales = \"free_x\") +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Cumulative Percentage of Participants by Match Level\",\n    subtitle = \"Grouped by Reference Class, Rounding, and Pct Goal\",\n    x = \"Reference Class\",\n    y = \"Cumulative Percentage (%)\",\n    fill = \"Match Level\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\nggplot(summary_pct, aes(x = refClass, y = cumulative_percentage, fill = match_level)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Cumulative Percentage of Participants by Match Level\",\n    subtitle = \"Grouped by Reference Class, Rounding, and Pct Goal\",\n    x = \"Reference Class\",\n    y = \"Cumulative Percentage (%)\",\n    fill = \"Match Level\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\nggplot(summary_pct, aes(x = rounded, y = cumulative_percentage, fill = match_level)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Cumulative Percentage of Participants by Match Level\",\n    subtitle = \"Grouped by Reference Class, Rounding, and Pct Goal\",\n    x = \"Rounding\",\n    y = \"Cumulative Percentage (%)\",\n    fill = \"Match Level\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 2"
    ]
  },
  {
    "objectID": "nb/study2.html#main-effects-and-interactions",
    "href": "nb/study2.html#main-effects-and-interactions",
    "title": "Study 2 Analysis",
    "section": "Main Effects and Interactions",
    "text": "Main Effects and Interactions\nClick on plots to enlarge\ns2_agg |&gt; ggplot(aes(x = refClass, y = pct_change, fill = refClass)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") +\n  labs(\n    title = \"Effect of Reference Class\",\n    x = \"Reference Class\",\n    y = \"% Change\",\n    fill = \"Reference Class\"\n  ) \ns2_agg |&gt; ggplot(aes(x = pct_goal, y = pct_change, fill = pct_goal)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") +\n  labs(\n    title = \"Effect of Goal % Reduction\",\n    x = \"Goal % Reduction\",\n    y = \"% Change\",\n    fill = \"Goal % Reduction\"\n  ) \ns2_agg |&gt; ggplot(aes(x = rounded, y = pct_change, fill = rounded)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") +\n  labs(\n    title = \"Effect of Rounding\",\n    x = \"Rounding\",\n    y = \"% Change\",\n    fill = \"Rounding\"\n  ) \ns2_agg |&gt; ggplot(aes(x = pct_goal, y = pct_change, fill = refClass)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") +\n  labs(\n    title = \"Effect of Goal % Reduction and Reference Class\",\n    x = \"Goal % Reduction\",\n    y = \"% Change\",\n    fill= \"Reference Class\"\n  ) \ns2_agg |&gt; ggplot(aes(x = pct_goal, y = pct_change, fill = refClass)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") + \n  facet_wrap(~state) +\n  labs(\n    title = \"Effect of Goal % Reduction and Reference Class - Separated by State\",\n    x = \"Goal % Reduction\",\n    y = \"% Change\",\n    fill= \"Reference Class\"\n  ) \ns2_agg |&gt; ggplot(aes(x = pct_goal, y = pct_change, fill = rounded)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") + \n  facet_wrap(~rounded) +\n  labs(\n    title = \"Effect of Goal % Reduction and Rounding\",\n    x = \"Goal % Reduction\",\n    y = \"% Change\",\n    fill= \"Rounding\"\n  )",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 2"
    ]
  },
  {
    "objectID": "nb/study2.html#calculator-and-education",
    "href": "nb/study2.html#calculator-and-education",
    "title": "Study 2 Analysis",
    "section": "Calculator and education",
    "text": "Calculator and education\n\n# table with only education level counts, just use kable\ns2 |&gt; \n  group_by(edu) |&gt; \n  summarise(n = n(), .groups = \"drop\") |&gt;\n  knitr::kable(caption = \"Count of Items by Education Level\", format = \"html\") \n\n\nCount of Items by Education Level\n\nedu\nn\n\n\n\nCollege degree\n103\n\n\nGraduate degree\n51\n\n\nHighschool diploma or GED\n11\n\n\nSome college\n32\n\n\nSome graduate school\n9\n\n\n\n\n# table with only calculator counts\n\ns2 |&gt; \n  mutate(calc = if_else(calc == 0, \"No Calculator\", \"Used Calculator\")) |&gt; \n  group_by(calc) |&gt; \n  summarise(n = n(), .groups = \"drop\") |&gt;\n  knitr::kable(caption = \"Count of Items by Calculator Use\", format = \"html\")\n\n\nCount of Items by Calculator Use\n\ncalc\nn\n\n\nUsed Calculator\n206\n\n\n\n# s2 |&gt; \n#   mutate(rounded = case_when(ROUNDED == 1 ~ \"Not Rounded\", ROUNDED == 2 ~ \"Rounded\")) |&gt; \n#   group_by(calc, refClass, rounded) |&gt; \n#   summarise(n = n(), .groups = \"drop\") |&gt;\n#   group_by(calc, refClass) |&gt;\n#   mutate(count_stats = as.character(n)) |&gt;\n#   ungroup() |&gt;\n#   tabulator(\n#     rows = c(\"calc\", \"refClass\"),\n#     columns = \"rounded\",\n#     `Count` = as_paragraph(count_stats)\n#   ) |&gt;\n#   as_flextable() |&gt; \n#   align(align = \"left\", part = \"all\") |&gt;\n#   autofit() |&gt;\n#   set_caption(\n#     caption = \"Count of Items by Calculation Type, Reference Class, and Rounded Value\",\n#     style = \"Table Caption\"\n#   )\n\n\n# s2 |&gt; \n#   mutate(\n#     rounded = if_else(ROUNDED == 1, \"Not Rounded\", \"Rounded\"),\n#     calc = if_else(calc == 0, \"No Calculator\", \"Used Calculator\")\n#   ) |&gt; \n#   count(calc, refClass, rounded) |&gt;\n#   pivot_wider(\n#     names_from = c(calc, rounded),\n#     values_from = n,\n#     values_fill = 0\n#   ) |&gt;\n#   gt() |&gt;\n#   tab_header(\n#     title = md(\"**Count of Items by Calculator Use, Reference Class, and Rounding**\")\n#   ) |&gt;\n#   cols_align(align = \"left\") |&gt;\n#   tab_spanner_delim(delim = \"_\") |&gt;\n#   cols_label(\n#     `No Calculator_Not Rounded` = \"Not Rounded\",\n#     `No Calculator_Rounded` = \"Rounded\",\n#     `Used Calculator_Not Rounded` = \"Not Rounded\",\n#     `Used Calculator_Rounded` = \"Rounded\"\n#   )\n\n\n# table with education level counts\n\ns2 |&gt;\n  group_by(edu, refClass) |&gt;\n  summarise(n = n(), .groups = \"drop\") |&gt;\n  pivot_wider(names_from = refClass, values_from = n, values_fill = 0) |&gt;\n  gt(rowname_col = \"edu\") |&gt;\n  tab_header(title = md(\"**Count of Items by Education Level and Reference Class**\")) |&gt;\n  cols_align(align = \"left\", columns = everything())\n\n\n\n\n\n\nCount of Items by Education Level and Reference Class\n\n\n\nPercentage\nUSD\nkWh\n\n\n\n\nCollege degree\n39\n29\n35\n\n\nGraduate degree\n21\n15\n15\n\n\nHighschool diploma or GED\n6\n1\n4\n\n\nSome college\n9\n8\n15\n\n\nSome graduate school\n1\n6\n2\n\n\n\n\n\n# table with calculator and education level counts\ns2 |&gt;\n  mutate(calc = if_else(calc == 0, \"No Calculator\", \"Used Calculator\")) |&gt; \n  group_by(calc, edu) |&gt;\n  summarise(n = n(), .groups = \"drop\") |&gt;\n  pivot_wider(names_from = edu, values_from = n, values_fill = 0) |&gt;\n  gt(rowname_col = \"calc\") |&gt;\n  tab_header(title = md(\"**Count of Items by Calculator Use and Education Level**\")) |&gt;\n  cols_align(align = \"left\", columns = everything())\n\n\n\n\n\n\nCount of Items by Calculator Use and Education Level\n\n\n\nCollege degree\nGraduate degree\nHighschool diploma or GED\nSome college\nSome graduate school\n\n\n\nUsed Calculator\n103\n51\n11\n32\n9\n\n\n\n\ns2_agg |&gt; ggplot(aes(x = calc, y = pct_change, fill = calc)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") +\n  labs(\n    title = \"Effect of Calculator Use\",\n    x = \"Calculator Use\",\n    y = \"% Change\",\n    fill = \"Calculator Use\"\n  )\n\n\n\n\n\n\n## education\n\ns2_agg |&gt; ggplot(aes(x = edu, y = pct_change, fill = edu)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") +\n  labs(\n    title = \"Effect of Education\",\n    x = \"Education\",\n    y = \"% Change\",\n    fill = \"Education\"\n  )\n\n\n\n\n\n\n\n\n# sum1 |&gt; \n#   ungroup() |&gt; \n#   mutate(goal_pct = as.numeric(stringr::str_remove(pct_goal,\"%\"))/100,\n#          block=factor(block)) |&gt;\n#   group_by(refClass,block,pct_goal) |&gt;\n#   summarise(mean_pct_change = mean(pct_change),se_pct_change = sd(pct_change)/sqrt(n())) |&gt;\n#   ggplot(aes(x=mean_pct_change,y=refClass,col=block)) + \n#   geom_pointrange(aes(xmin=mean_pct_change-se_pct_change,xmax=mean_pct_change+se_pct_change),position = position_dodge(width=0.5)) +\n#   ggforce::facet_col(~pct_goal)\n# \n# \n# sum1 |&gt; \n#   ungroup() |&gt; \n#   mutate(goal_pct = as.numeric(stringr::str_remove(pct_goal,\"%\"))/100,\n#          block=factor(block)) |&gt;\n#   group_by(refClass,,pct_goal,state) |&gt;\n#   summarise(mean_pct_change = mean(pct_change),se_pct_change = sd(pct_change)/sqrt(n())) |&gt;\n#   ggplot(aes(x=mean_pct_change,y=refClass,col=pct_goal)) + \n#   geom_pointrange(aes(xmin=mean_pct_change-se_pct_change,xmax=mean_pct_change+se_pct_change),position = position_dodge(width=0.5)) +\n#   ggforce::facet_col(~state)\n# \n# \n# sum1 |&gt; \n#   ungroup() |&gt; \n#   mutate(goal_pct = as.numeric(stringr::str_remove(pct_goal,\"%\"))/100,\n#          block=factor(block)) |&gt;\n#   group_by(refClass,,pct_goal,state,goal_pct) |&gt;\n#   summarise(mean_pct_change = mean(pct_change),se_pct_change = sd(pct_change)/sqrt(n())) |&gt;\n#   ggplot(aes(x=mean_pct_change,y=refClass,col=state)) + \n#   geom_vline(aes(xintercept=goal_pct),linetype=\"dashed\",alpha=.5) +\n#   geom_pointrange(aes(xmin=mean_pct_change-se_pct_change,xmax=mean_pct_change+se_pct_change),position = position_dodge(width=0.5)) +\n#   ggforce::facet_col(~pct_goal)\n\n\n\n  s2_long |&gt; \n    filter(appliance != \"TOTAL\") |&gt;\n  group_by(refClass,appliance,state) |&gt;\n  summarise(mean_kWh_change = mean(change),se_pct_change = sd(change)/sqrt(n())) |&gt;\n  ggplot(aes(x=mean_kWh_change,y=refClass,col=appliance)) + \n  geom_pointrange(aes(xmin=mean_kWh_change-se_pct_change,xmax=mean_kWh_change+se_pct_change),position = position_dodge(width=0.5)) +\n  ggforce::facet_col(~state)\n\n\n\n\n\n\ns2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt;\n  ggplot(aes(x=refClass,y=change,fill=state))+\n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") +\n  scale_y_reverse() +\n  facet_wrap(~appliance)\n\n\n\n\n\n\n\n\ncontingency_table &lt;- sum1 %&gt;%\n    group_by(refClass) %&gt;%\n    summarise(\n      matched = sum(matched_goal),\n      unmatched = n() - sum(matched_goal)\n    ) %&gt;%\n    select(matched, unmatched) %&gt;%\n    as.matrix()\n\n# Perform the chi-squared test\nchisq_test &lt;- chisq.test(contingency_table)\n\n# View the results\nchisq_test\n\n\nsum1b &lt;- sum1 %&gt;%\n  mutate(matched_goal = as.numeric(matched_goal)) \n\nlibrary(brms)\nbayesian_model &lt;- brms::brm(\n  matched_goal ~ refClass,        # Logistic regression with reference class as predictor\n  data = sum1,                    # The dataset\n  family = bernoulli(),           # Binary outcome model\n  prior = set_prior(\"normal(0, 1)\", class = \"b\"),  # Prior for coefficients\n  iter = 2000,                    # Number of iterations\n  chains = 4,                     # Number of MCMC chains\n  cores = 4,                      # Number of cores for parallel computation\n  seed = 123                      # Set seed for reproducibility\n)\n# Regression Coefficients:\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept             -1.27      0.14    -1.55    -1.00 1.00     3696     3393\n# refClassPercentage    -0.56      0.22    -0.98    -0.14 1.00     3308     3065\n# refClassUSD           -0.95      0.25    -1.45    -0.46 1.00     2895     2701\n\n\nbm2 &lt;- brms::brm(\n  matched_goal ~ refClass + (1|id),        # Logistic regression with reference class as predictor\n  data = sum1,                    # The dataset\n  family = bernoulli(),           # Binary outcome model\n  prior = set_prior(\"normal(0, 1)\", class = \"b\"),  # Prior for coefficients\n  iter = 2000,                    # Number of iterations\n  chains = 4,                     # Number of MCMC chains\n  cores = 4,                      # Number of cores for parallel computation\n  seed = 123                      # Set seed for reproducibility\n)\n# Regression Coefficients:\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept             -1.92      0.31    -2.56    -1.37 1.00     2039     2669\n# refClassPercentage    -0.73      0.36    -1.43    -0.02 1.00     2586     3142\n# refClassUSD           -1.15      0.41    -1.95    -0.37 1.00     3079     3071\n\n\n\nbm3 &lt;- brms::brm(\n  matched_goal ~ refClass*rounded + (1|id),        # Logistic regression with reference class as predictor\n  data = sum1,                    # The dataset\n  family = bernoulli(),           # Binary outcome model\n  prior = set_prior(\"normal(0, 1)\", class = \"b\"),  # Prior for coefficients\n  iter = 2000,                    # Number of iterations\n  chains = 4,                     # Number of MCMC chains\n  cores = 4,                      # Number of cores for parallel computation\n  seed = 123                      # Set seed for reproducibility\n)\n# Regression Coefficients:\n#                                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept                            -1.80      0.34    -2.49    -1.17 1.00     1896     2384\n# refClassPercentage                   -1.48      0.45    -2.37    -0.61 1.00     3108     3324\n# refClassUSD                          -1.54      0.47    -2.53    -0.66 1.00     3309     3226\n# roundedRounded                       -0.59      0.30    -1.17     0.02 1.00     4310     2857\n# refClassPercentage:roundedRounded     1.71      0.45     0.83     2.59 1.00     4076     3070\n# refClassUSD:roundedRounded            1.00      0.50     0.02     1.96 1.00     4399     3144\n\n\n\nbm4 &lt;- brms::brm(\n  matched_goal ~ refClass*rounded + (1|id) +(1|state),        # Logistic regression with reference class as predictor\n  data = sum1,                    # The dataset\n  family = bernoulli(),           # Binary outcome model\n  prior = set_prior(\"normal(0, 1)\", class = \"b\"),  # Prior for coefficients\n  iter = 2000,                    # Number of iterations\n  chains = 4,                     # Number of MCMC chains\n  cores = 4,                      # Number of cores for parallel computation\n  seed = 123                      # Set seed for reproducibility\n)\n# Regression Coefficients:\n#                                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept                            -1.77      0.44    -2.62    -0.81 1.01      526      187\n# refClassPercentage                   -1.49      0.44    -2.34    -0.62 1.00     1352     1519\n# refClassUSD                          -1.53      0.48    -2.49    -0.62 1.00     1836     2504\n# roundedRounded                       -0.58      0.29    -1.16    -0.03 1.00     2933     2938\n# refClassPercentage:roundedRounded     1.72      0.45     0.85     2.59 1.00     1936     2501\n# refClassUSD:roundedRounded            1.00      0.48     0.05     1.91 1.00     2460     2472\n\n\n# mixed effects model testing effect of refClass, state, and pct_goal on pct_change\n# marginal effects plots\nlibrary(ggeffects)\n\n\nm1 &lt;- lmer(pct_change ~ refClass  + (1+plan|id) + (1|state), data = s2_agg)\nsummary(m1)\nggpredict(m1, c(\"refClass\")) |&gt; plot()\n\nm1 &lt;- lmer(pct_change ~ pct_goal  + (1|id) + (1|state), data = s2_agg)\nsummary(m1)\nggpredict(m1, c(\"pct_goal\")) |&gt; plot()\n\nm1 &lt;- lmer(pct_change ~ pct_goal*rounded  + (1|id) + (1|state), data = s2_agg)\nsummary(m1)\nggpredict(m1, c(\"pct_goal\",\"rounded\")) |&gt; plot()\n\n\nm1 &lt;- lmer(pct_change ~ refClass*pct_goal*rounded  + (1|id) + (1|state), data = s2_agg)\nggpredict(m1, c(\"refClass\",\"pct_goal\",\"rounded\")) |&gt; plot()\n\nm1 &lt;- lmer(pct_change ~ state*pct_goal*rounded  + (1|id), data = s2_agg)\nsummary(m1)\nggpredict(m1, c(\"state\",\"pct_goal\",\"rounded\")) |&gt; plot()\n\n\n# m1 &lt;- lmer(pct_change ~ refClass*pct_goal*rounded*state  + (1|id), data = sum1)\n# ggpredict(m1, c(\"refClass\",\"pct_goal\",\"rounded\",\"state\")) |&gt; plot()\n\n\ns2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt;\n  ggplot(aes(x=refClass,y=state_dif,fill=state))+\n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") +\n  scale_y_reverse() +\n  facet_wrap(~appliance)\n\ns2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt;\n  ggplot(aes(x=state_dif,y=value,col=state))+\n  geom_point() +\n  facet_wrap(~appliance)\n\n\nsum1 |&gt; \n  ggplot(aes(x=state_dif,y=pct_change,col=state)) +\n  geom_point() \n\n\n# compute total kWh reduction, and total % reduction \ns2_long |&gt; group_by(id,refClass,state,pct_goal,rounded,block,plan) |&gt; \n  filter(appliance !=\"TOTAL\") |&gt; \n  summarise(total_kWh = sum(value),orig_kWh=sum(family), total_pct = sum(value)/sum(family)) |&gt;\n  ggplot(aes(x = pct_goal, y = total_pct, fill = refClass)) + \n  geom_boxplot(position = \"dodge\") +\n  facet_wrap(~state)\n  \ns2_long |&gt; group_by(id,refClass,state,pct_goal,rounded) |&gt; \n  filter(appliance !=\"TOTAL\") |&gt; \n  summarise(total_kWh = sum(reduction), total_pct = sum(reduction)/sum(family)) |&gt;\n  ggplot(aes(x = pct_goal, y = total_pct, fill = refClass)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") \n  \n\ns2_long |&gt; group_by(id,refClass,state,pct_goal,rounded) |&gt; \n  filter(appliance !=\"TOTAL\") |&gt; \n  summarise(total_kWh = sum(reduction), orig_kWh=sum(family), total_pct = round(sum(reduction)/sum(family))) |&gt;\n  ggplot(aes(x = state1, y = total_pct, fill = refClass)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") +\n  facet_wrap(~pct_goal)\n  \n\ns2_long |&gt; group_by(id,refClass,state,pct_goal,rounded,plan) |&gt; \n  filter(appliance !=\"TOTAL\") |&gt; \n  summarise(total_kWh = sum(reduction), total_pct = sum(reduction)/sum(family)) |&gt;\n  ggplot(aes(x = refClass, y = total_pct, fill = pct_goal)) + \n  stat_summary(fun = mean, geom = \"bar\", position=\"dodge\") +\n  stat_summary(fun.data = mean_se, geom = \"errorbar\", position = \"dodge\") +\n  facet_wrap(plan~rounded)\n\n# sum1 |&gt; \n#   ungroup() |&gt; \n#   mutate(goal_pct = as.numeric(stringr::str_remove(pct_goal,\"%\"))/100) |&gt;\n#   mutate(id=reorder(id,pct_change)) |&gt; \n#   ggplot(aes(y=id,x=pct_change)) + \n#   geom_point(size=1,alpha=0.6,position = position_jitter(w=0, h=0.17)) +\n#   geom_vline(aes(xintercept=goal_pct),linetype=\"dashed\",alpha=.5) +\n#   ggh4x::facet_nested_wrap(refClass~pct_goal,axes=\"all\",scales=\"free\",ncol=2) \n\n# sum1 |&gt; \n#   ungroup() |&gt; \n#   mutate(goal_pct = as.numeric(stringr::str_remove(pct_goal,\"%\"))/100) |&gt;\n#   mutate(id=reorder(id,pct_change)) |&gt; \n#   ggplot(aes(y=id,x=pct_change,col=refClass)) + \n#   geom_point(size=1,alpha=0.6,position = position_jitter(w=0, h=0.17)) +\n#   geom_vline(aes(xintercept=goal_pct),linetype=\"dashed\",alpha=.5) +\n#   ggh4x::facet_nested_wrap(block~pct_goal,axes=\"all\",scales=\"free\",ncol=2) \n# \n# \n# sum1 |&gt; \n#   ungroup() |&gt; \n#     mutate(goal_pct = as.numeric(stringr::str_remove(pct_goal,\"%\"))/100) |&gt;\n#   ggplot(aes(x=state,y=pct_change,col=state)) + \n#   geom_point(size=1,alpha=0.6,position = position_jitter(w=0, h=0.17)) +\n#     geom_hline(aes(yintercept=goal_pct),linetype=\"dashed\",alpha=.5) +\n#   ggdist::stat_halfeye()+\n#   ggh4x::facet_nested_wrap(block~pct_goal,axes=\"all\",ncol=2) \n\n\n# s2_long &lt;- s2 |&gt;\n#   pivot_longer(\n#     cols = c(ACFAMILY1:TOTALAPTWO1),\n#     names_to = c(\".value\", \"appliance\"),\n#     names_pattern = \"(.*)(FAMILY1|STATE1|APONE1|APTWO1)$\",\n#     values_to = \"value\"\n#   )\n\n\n\n\n# s2 |&gt; pivot_longer(cols = contains(\"FAMILY\"), names_to = \"Family\", values_to = \"kWh\") |&gt; relocate(Family,kWh) |&gt; \n#   pivot_longer(cols = contains(\"STATE1\"), names_to = \"State\", values_to = \"kWh\") |&gt; relocate(State)\n\n\n# \n# s2 |&gt; \n#   pivot_longer(cols=ACFAMILY1:TOTALAPTWO1, names_to = \"appliance\", values_to = \"family\") |&gt; relocate(appliance,family)",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 2"
    ]
  },
  {
    "objectID": "nb/results.html",
    "href": "nb/results.html",
    "title": "Results",
    "section": "",
    "text": "Display codelibrary(pacman)\npacman::p_load(dplyr,purrr,tidyr,here,tibble,brms,rstan,bayestestR,emmeans,tidybayes,modelsummary,\n               ggplot2,gt,knitr,kableExtra,ggh4x,lme4,flextable)\n\noptions(digits=2, scipen=999, dplyr.summarise.inform=FALSE)\noptions(brms.backend=\"cmdstanr\",mc.cores=4)\n\nwalk(c(\"fun_plot\"), ~ source(here::here(paste0(\"scripts/\", .x, \".R\"))))\ntheme_set(theme_nice())\n\n\n\ns1 &lt;- readRDS(here::here(\"data/s1_processed.rds\"))\n\ns1_agg &lt;- s1 |&gt; \n  filter(appliance !=\"Total kWh\") |&gt; \n  group_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \n  summarise(total_kWh = sum(value),orig_kWh=sum(family), \n            pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n            n_change = sum(value!=family),\n            state_p_dif=mean(state_p_dif),\n            state_f_dif=mean(state_f_dif),\n            n_less_avg = sum(less_avg)) |&gt; \n  mutate(matched_goal = (pct_change == pct_goal), \n             error = pct_change - pct_goal,\n            abs_error = abs(error))\n\n\ns1_agg4 &lt;- s1_agg |&gt; group_by(id,refClass,calc) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) \n\n\n\ns2_long &lt;- readRDS(here::here(\"data/s2_processed.rds\"))\n\ns2_agg &lt;- s2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt; \n  group_by(id, refClass, state, pct_goal, pct, rounded, block, plan, calc, edu) |&gt; \n  summarise(\n    total_kWh = sum(value),\n    orig_kWh = sum(family),\n    pct_change = round((orig_kWh - total_kWh) / orig_kWh, 3),\n    state_dif = mean(state_dif),\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(matched_goal = (pct_change == pct),\n         matched_goal2 = abs(pct_change-pct)&lt;.03)\n\ns2_agg4 &lt;- s2_agg |&gt; group_by(id,refClass,calc) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) \n\ns2_agg2 &lt;- s2_agg |&gt; group_by(id,refClass,rounded,pct_goal,pct,calc) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n)",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Results"
    ]
  },
  {
    "objectID": "nb/results.html#experiment-1",
    "href": "nb/results.html#experiment-1",
    "title": "Results",
    "section": "Experiment 1",
    "text": "Experiment 1\n\nDisplay code##| label: tbl-s1-bb\n##| tbl-cap: \"E1. beta-binomial regression results\n\n\ns1_bb1 &lt;- brm(\n  mg | trials(4) ~ refClass,\n  family = beta_binomial(),\n  cores=4,\n  iter=5000,\n  data = s1_agg4,\n  file=paste0(here::here(\"data/model_cache\",'s1_bb1.rds'))\n)\n\nmted1 &lt;- as.data.frame(describe_posterior(s1_bb1, centrality = \"Median\"))[, c(1,2,4,5,6)]\n#colnames(mted1) &lt;- c(\"Term\", \"Estimate\",\" 95% CrI Lower\", \" 95% CrI Upper\", \"pd\")\ncolnames(mted1) &lt;- c(\"Term\", \"Estimate\", \"95% CrI Lower\", \"95% CrI Upper\", \"pd\")\n\n\nintercept &lt;- mted1$Estimate[mted1$Term == \"b_Intercept\"]\n\n# mted1 |&gt;\n#   mutate(\n#     Estimate_prob = plogis(Estimate + if_else(Term == \"b_Intercept\", 0, intercept)),\n#     Lower_prob = plogis(`95% CrI Lower` + if_else(Term == \"b_Intercept\", 0, intercept)),\n#     Upper_prob = plogis(`95% CrI Upper` + if_else(Term == \"b_Intercept\", 0, intercept))\n#   )\n\nt1 &lt;- mted1 |&gt;\n  mutate(Term = stringr::str_remove(Term, \"b_\")) |&gt;\n  mutate(across(c(\"Estimate\", \"95% CrI Lower\", \"95% CrI Upper\"), \n                \\(x) if_else(Term == \"Intercept\", plogis(x), plogis(x + intercept)))) |&gt;\n  mutate(across(where(is.numeric), \\(x) round(x, 3))) |&gt;\n  mutate(Term = if_else(Term == \"Intercept\", \"Intercept (kWh)\", Term)) |&gt;\n  tibble::remove_rownames() |&gt;\n  kable(booktabs = TRUE)\n\n\n\n# plogis(-.58+ -.70) = .22\n\n# parameters::parameters(s1_bb1, effect = \"fixed\") \n\n\n\n\nTable 1: Experiment 1 main effect. Beta binomial regression results for the main effect of Reference Class.\n\n\n\nTerm\nEstimate\n95% CrI Lower\n95% CrI Upper\npd\n\n\n\nIntercept (kWh)\n0.36\n0.35\n0.36\n1\n\n\nrefClassPercentage\n0.22\n0.21\n0.22\n1\n\n\nrefClassUSD\n0.09\n0.09\n0.09\n1\n\n\n\n\n\n\n\nDisplay codeplot(conditional_effects(s1_bb1, effects=\"refClass\"),points=FALSE)\n\nposterior_predict(s1_bb1,ndraws=200) |&gt; array_branch(margin=1) |&gt; \n  map_dfr(\n    function(yrep_iter){\n      s1_agg4 %&gt;% ungroup() |&gt;  mutate(pred=yrep_iter)\n    },\n    .id='iter'\n  ) |&gt; mutate(iter=as.numeric(iter)) |&gt; \n  ggplot(aes(pred, group=iter)) +\n  # Scale density to match the count scale\n  geom_line(stat='density', aes(y=..count..), \n            alpha=0.7, color='blue') +\n  geom_bar(data=s1_agg4, aes(mg, fill=refClass),\n           inherit.aes=FALSE) +\n  facet_wrap(~refClass)\n\n\ns1_bb1 %&gt;%\n  gather_draws(b_Intercept, b_refClassPercentage, b_refClassUSD) %&gt;%\n   mutate(Term = stringr::str_remove(.variable, \"b_\")) |&gt;\n   mutate(prob=plogis(.value)) |&gt;\n  mutate(Term = if_else(Term == \"Intercept\", \"kWh\", Term)) |&gt;\n  ggplot(aes(x = prob, fill = Term)) +\n  geom_density(alpha = 0.6) +\n    stat_halfeye() +\n  theme_minimal() +\n  labs(title = \"Posterior Distributions of Reference Class Estimates\",\n       x = \"Coefficient Value\",\n       fill = \"Reference Class\")\n\n\n\n\n\n\nFigure 1: Study 1\n\n\n\n\n\n\n\n\n\nFigure 2: Study 1\n\n\n\n\n\n\n\n\n\nFigure 3: Study 1\n\n\n\n\n\nDisplay code##| label: tbl-s2-bb\n##| tbl-cap: \"Study 2. beta-binomial regression results\n##| \n##| \n\n\ns2_bb2_r_g &lt;- brm(\n  mg | trials(2) ~ refClass*rounded*pct_goal,\n  family = beta_binomial(),\n  data = s2_agg2,\n  cores=4,\n  iter=5000,\n  file=paste0(here::here(\"data/model_cache\",'s2_bb2_r_g.rds'))\n)\nmted2 &lt;- as.data.frame(describe_posterior(s2_bb2_r_g, centrality = \"Mean\"))[, c(1,2,4,5,6)]\ncolnames(mted2) &lt;- c(\"Term\", \"Estimate\",\"95% CrI Lower\", \"95% CrI Upper\", \"pd\")\n\n# mted2 |&gt;\n#   mutate(across(c(\"Estimate\", \" 95% CrI Lower\", \" 95% CrI Upper\"), \n#                 \\(x) plogis(x))) |&gt;\n#   mutate(across(where(is.numeric), \\(x) round(x, 3))) |&gt;\n#   tibble::remove_rownames() |&gt;\n#   mutate(Term = stringr::str_remove(Term, \"b_\")) |&gt;\n#   kable(booktabs = TRUE)\n\n\n mted2 |&gt;\n  mutate(Term = stringr::str_remove(Term, \"b_\")) |&gt;\n  mutate(across(c(\"Estimate\", \"95% CrI Lower\", \"95% CrI Upper\"), \n                \\(x) if_else(Term == \"Intercept\", plogis(x), plogis(x + intercept)))) |&gt;\n  mutate(across(where(is.numeric), \\(x) round(x, 3))) |&gt;\n  mutate(Term = if_else(Term == \"Intercept\", \"Intercept (kWh)\", Term)) |&gt;\n  tibble::remove_rownames() |&gt;\n  kable(booktabs = TRUE)\n\n\n\n\n\n\n\n\n\n\nTerm\nEstimate\n95% CrI Lower\n95% CrI Upper\npd\n\n\n\nIntercept (kWh)\n0.40\n0.40\n0.41\n1\n\n\nrefClassPercentage\n0.08\n0.08\n0.09\n1\n\n\nrefClassUSD\n0.12\n0.11\n0.12\n1\n\n\nroundedRounded\n0.40\n0.39\n0.41\n1\n\n\npct_goal15%\n0.34\n0.33\n0.35\n1\n\n\nrefClassPercentage:roundedRounded\n0.75\n0.73\n0.76\n1\n\n\nrefClassUSD:roundedRounded\n0.39\n0.37\n0.41\n1\n\n\nrefClassPercentage:pct_goal15%\n0.69\n0.67\n0.70\n1\n\n\nrefClassUSD:pct_goal15%\n0.51\n0.49\n0.53\n1\n\n\nroundedRounded:pct_goal15%\n0.40\n0.39\n0.42\n1\n\n\nrefClassPercentage:roundedRounded:pct_goal15%\n0.09\n0.08\n0.09\n1\n\n\nrefClassUSD:roundedRounded:pct_goal15%\n0.17\n0.16\n0.19\n1\n\n\n\n\n\n\nDisplay code# plot(conditional_effects(s2_bb2_r_g, \n#                          effects = \"rounded:pct_goal\", \n#                          conditions=make_conditions(s2_bb2_r_g,\"refClass\" )),\n#      points=FALSE,plot=TRUE)\n\npatchwork::wrap_plots(plot(conditional_effects(s2_bb2_r_g),points=FALSE,plot=FALSE))\n\n\n\n\n\n\nFigure 4: Study 2\n\n\n\n\n\nDisplay codecondEffects &lt;- function(m,xvar){\n  m |&gt; ggplot(aes(x = {{xvar}}, y = .value, color = refClass, fill = refClass)) + \n  stat_dist_pointinterval() + \n  stat_halfeye(alpha=.1, height=.5) +\n  theme(legend.title=element_blank(),axis.text.x = element_text(angle = 45, hjust = 0.5, vjust = 0.5)) \n}\n\npe3td &lt;- s2_agg2 |&gt;  ggplot(aes(x =refClass, y = mg,fill=pct_goal)) +\n    stat_summary(geom = \"bar\", position=position_dodge(), fun = mean) +\n    stat_summary(geom = \"errorbar\", position=position_dodge(.9), fun.data = mean_se, width = .4, alpha = .7) + \n    facet_wrap(~rounded,ncol=1) +\n  theme(legend.title=element_blank(),axis.text.x = element_text(angle = 45, hjust = 0.5, vjust = 0.5)) +\n  labs(x=\"Band\", y=\"Deviation From Target\")\n\n\npe3ce &lt;- s2_bb2_r_g |&gt; emmeans( ~refClass *rounded*pct_goal, type=\"response\") |&gt;\n  gather_emmeans_draws() |&gt;\n condEffects(pct_goal) + labs(y=\"Absolute Deviation From Band\", x=\"Band Type\") + \n facet_wrap(~refClass,ncol=1)\n\n\n\ns2_bb2_r_g |&gt; emmeans( ~refClass, type=\"response\") |&gt;\n  gather_emmeans_draws() |&gt;\n condEffects(refClass) + labs(y=\"Absolute Deviation From Band\", x=\"Band Type\") \n\n\n\ns2_bb2_r_g |&gt; emmeans(pairwise ~ refClass * rounded, type=\"response\") |&gt; \n  pluck(\"contrasts\") |&gt;\n  gather_emmeans_draws() |&gt; \n  group_by(contrast,.draw) |&gt; summarise(value=mean(.value), n=n()) |&gt; \n   ggplot(aes(x=value,y=contrast,fill=contrast)) +\n  stat_halfeye() + \n  geom_vline(xintercept=0, alpha=.5) +\n  labs(x=\"Model Error Difference\",y=\"Contrast\") + theme(legend.position=\"none\") \n\n\n\n\n\n\nFigure 5: Study 2\n\n\n\n\n\n\n\n\n\nFigure 6: Study 2",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Results"
    ]
  },
  {
    "objectID": "nb/analysis.html",
    "href": "nb/analysis.html",
    "title": "Analysis",
    "section": "",
    "text": "Effect of Reference Class on Planning to Conserve\n\n\n\n\n\n\nThomas E. Gorman\n\n\n\n\n\n\n\n\n\n\n\n\nResults\n\n\n\n\n\n\nThomas E. Gorman\n\n\n\n\n\n\n\n\n\n\n\n\nStudy 1 Analysis\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStudy 2 Analysis\n\n\n\n\n\n\n\n\n\nNov 20, 2024\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "mpa/mpa_analysis.html",
    "href": "mpa/mpa_analysis.html",
    "title": "MPA abstract analysis",
    "section": "",
    "text": "pacman::p_load(dplyr,purrr,tidyr,here,tibble,brms,rstan,bayestestR,emmeans,tidybayes,modelsummary,\n               ggplot2,gt,knitr,kableExtra,ggh4x,lme4,flextable,pander)\noptions(digits=2, scipen=999, dplyr.summarise.inform=FALSE)\nwalk(c(\"fun_plot\"), ~ source(here::here(paste0(\"scripts/\", .x, \".R\"))))\ntheme_set(theme_nice())\noptions(brms.backend=\"cmdstanr\",mc.cores=4)\n\ns1 &lt;- readRDS(here::here(\"data/s1_processed.rds\")) |&gt; filter(!(id %in% readRDS(here::here(\"data/s1_discrep_ids.rds\"))))\ns2_long &lt;- readRDS(here::here(\"data/s2_processed.rds\")) |&gt; filter(!(id %in% readRDS(here::here(\"data/s2_discrep_ids.rds\"))))",
    "crumbs": [
      "<strong>Analysis</strong>",
      "MPA"
    ]
  },
  {
    "objectID": "mpa/mpa_analysis.html#fit-ordinal-model-accuracy_level-refclass-1id-1state",
    "href": "mpa/mpa_analysis.html#fit-ordinal-model-accuracy_level-refclass-1id-1state",
    "title": "MPA abstract analysis",
    "section": "Fit Ordinal model accuracy_level ~ refClass + (1|id) + (1|state)",
    "text": "Fit Ordinal model accuracy_level ~ refClass + (1|id) + (1|state)\n\nordinal_model_s1 &lt;- brm(\n    accuracy_level ~ refClass + (1|id) + (1|state),\n    data = s1_agg,\n    family = cumulative(\"logit\"),\n    cores = 4,\n    iter = 2000,\n    control = list(adapt_delta = 0.99), \n    prior = c(prior(normal(0, 2), class = \"Intercept\"), \n                prior(normal(0, 1.5), class = \"b\")), \n    file = paste0(here::here(\"data/model_cache\",'s1_ordinal3.rds')) \n)\n\nsummary(ordinal_model_s1)\n\n Family: cumulative \n  Links: mu = logit; disc = identity \nFormula: accuracy_level ~ refClass + (1 | id) + (1 | state) \n   Data: s1_agg (Number of observations: 940) \n  Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;\n         total post-warmup draws = 4000\n\nMultilevel Hyperparameters:\n~id (Number of levels: 235) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     3.69      0.28     3.17     4.29 1.00     1280     2107\n\n~state (Number of levels: 4) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     0.73      0.48     0.24     2.04 1.00     1561     2190\n\nRegression Coefficients:\n                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nIntercept[1]          -1.85      0.56    -2.92    -0.75 1.00     1144     2042\nIntercept[2]           0.22      0.55    -0.82     1.34 1.00     1185     2062\nIntercept[3]           2.86      0.56     1.83     4.00 1.00     1271     2210\nrefClassPercentage     0.65      0.59    -0.48     1.82 1.00      764     1403\nrefClassUSD            2.48      0.56     1.41     3.64 1.00      818     1626\n\nFurther Distributional Parameters:\n     Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\ndisc     1.00      0.00     1.00     1.00   NA       NA       NA\n\nDraws were sampled using sampling(NUTS). For each parameter, Bulk_ESS\nand Tail_ESS are effective sample size measures, and Rhat is the potential\nscale reduction factor on split chains (at convergence, Rhat = 1).\n\npp_check(ordinal_model_s1)\n\n\n\n\n\n\ndescribe_posterior(ordinal_model_s1, centrality = \"Mode\") |&gt; \n    filter(stringr::str_detect(Parameter, \"b_\")) |&gt; \n    mutate(Parameter = stringr::str_remove(Parameter, \"b_\")) |&gt; \n    mutate(across(where(is.numeric), round, 3)) |&gt; \n    kable(booktabs = TRUE)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nParameter\nMode\nCI\nCI_low\nCI_high\npd\nROPE_CI\nROPE_low\nROPE_high\nROPE_Percentage\nRhat\nESS\n\n\n\nIntercept[1]\n-1.40\n0.95\n-2.92\n-0.75\n1.00\n0.95\n-0.18\n0.18\n0.00\n1\n1121\n\n\nIntercept[2]\n0.92\n0.95\n-0.82\n1.34\n0.65\n0.95\n-0.18\n0.18\n0.26\n1\n1152\n\n\nIntercept[3]\n3.52\n0.95\n1.83\n4.00\n1.00\n0.95\n-0.18\n0.18\n0.00\n1\n1232\n\n\nrefClassPercentage\n1.81\n0.95\n-0.48\n1.82\n0.86\n0.95\n-0.18\n0.18\n0.14\n1\n742\n\n\nrefClassUSD\n2.88\n0.95\n1.41\n3.64\n1.00\n0.95\n-0.18\n0.18\n0.00\n1\n799\n\n\n\n\n# Get predicted probabilities\npred_summary &lt;- ordinal_model_s1 |&gt;\n    epred_draws(newdata = data.frame(refClass = c(\"kWh\", \"Percentage\", \"USD\")),\n                ndraws = 1000, re_formula = NA) |&gt;\n    group_by(refClass, .category) |&gt;\n    summarise(\n        mean_prob = mean(.epred),\n        lower_ci = quantile(.epred, 0.025),\n        upper_ci = quantile(.epred, 0.975)\n    )\npred_summary |&gt; pander::pandoc.table(caption=\"Study 1: Predicted probabilities of accuracy\")\n\n\n---------------------------------------------------------------\n  refClass      .category      mean_prob   lower_ci   upper_ci \n------------ ---------------- ----------- ---------- ----------\n Percentage    Exact match      0.08624    0.02506     0.2217  \n\n Percentage   0.01-2% error     0.3147      0.1435     0.4715  \n\n Percentage   2.01-15% error    0.4874      0.2841     0.6046  \n\n Percentage   Over 15% error    0.1117     0.02927     0.2581  \n\n    USD        Exact match      0.0151     0.004301   0.04121  \n\n    USD       0.01-2% error     0.0895     0.03159     0.2028  \n\n    USD       2.01-15% error    0.4809      0.2973     0.6016  \n\n    USD       Over 15% error    0.4145      0.1781     0.6601  \n\n    kWh        Exact match      0.1478     0.04952     0.3218  \n\n    kWh       0.01-2% error     0.4048      0.2597     0.5129  \n\n    kWh       2.01-15% error    0.3866      0.1879     0.5558  \n\n    kWh       Over 15% error    0.0608     0.01967     0.1345  \n---------------------------------------------------------------\n\nTable: Study 1: Predicted probabilities of accuracy\n\n# Convert log-odds to odds ratios\nposterior_samples &lt;- as.data.frame(ordinal_model_s1)\nodds_ratios &lt;- data.frame(\n  Percentage_vs_kWh = exp(posterior_samples$b_refClassPercentage),\n  USD_vs_kWh = exp(posterior_samples$b_refClassUSD)\n)\n\n# Calculate summary statistics\nodds_ratio_summary &lt;- data.frame(\n    comparison = c(\"Percentage vs kWh\", \"USD vs kWh\"),\n    odds_ratio = c(mean(odds_ratios$Percentage_vs_kWh),\n                    mean(odds_ratios$USD_vs_kWh)),\n    ci_lower = c(quantile(odds_ratios$Percentage_vs_kWh, 0.025),\n                quantile(odds_ratios$USD_vs_kWh, 0.025)),\n    ci_upper = c(quantile(odds_ratios$Percentage_vs_kWh, 0.975),\n                quantile(odds_ratios$USD_vs_kWh, 0.975))\n)\n\n\nodds_ratio_summary |&gt; kable()\n\n\n\ncomparison\nodds_ratio\nci_lower\nci_upper\n\n\n\nPercentage vs kWh\n2.3\n0.62\n6.2\n\n\nUSD vs kWh\n14.1\n4.08\n38.0\n\n\n\n\n# |comparison        | odds_ratio| ci_lower| ci_upper|\n# |:-----------------|----------:|--------:|--------:|\n# |Percentage vs kWh |        2.3|     0.62|      6.2|\n# |USD vs kWh        |       14.1|     4.08|     38.0|\n\n\nodds_ratio_summary |&gt; pander::pandoc.table(caption=\"Study 1: Odds ratios of accuracy\")\n\n\n------------------------------------------------------\n    comparison       odds_ratio   ci_lower   ci_upper \n------------------- ------------ ---------- ----------\n Percentage vs kWh     2.274       0.6178     6.148   \n\n    USD vs kWh         14.09        4.08      38.04   \n------------------------------------------------------\n\nTable: Study 1: Odds ratios of accuracy\n\n# Plot predicted probabilities\nggplot(pred_summary, aes(x = refClass, y = mean_prob, fill = .category)) +\n    geom_bar(stat = \"identity\", position = position_dodge()) +\n    geom_errorbar(aes(ymin = lower_ci, ymax = upper_ci),\n                    position = position_dodge(width = 0.9), width = 0.2) +\n    labs(y = \"Predicted Probability\", x = \"Reference Class\", fill = \"Accuracy Level\") +\n    ggtitle(\"Study 1: Predicted Probabilities of Accuracy Level by Reference Class\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\ncomparison\nodds_ratio\nci_lower\nci_upper\n\n\n\nPercentage vs kWh\n2.3\n0.62\n6.2\n\n\nUSD vs kWh\n14.1\n4.08\n38.0",
    "crumbs": [
      "<strong>Analysis</strong>",
      "MPA"
    ]
  },
  {
    "objectID": "misc/ordinal.html",
    "href": "misc/ordinal.html",
    "title": "Ordinal Models",
    "section": "",
    "text": "pacman::p_load(dplyr,purrr,tidyr,here,tibble,stringr,brms,rstan,bayestestR,emmeans,tidybayes,modelsummary,\n               ggplot2,gt,knitr,kableExtra,ggh4x,lme4,flextable,pander)\noptions(digits=2, scipen=999, dplyr.summarise.inform=FALSE)\nwalk(c(\"fun_plot\"), ~ source(here::here(paste0(\"scripts/\", .x, \".R\"))))\ntheme_set(theme_nice())\noptions(brms.backend=\"cmdstanr\",mc.cores=4)\n\n\ns1 &lt;- readRDS(here::here(\"data/s1_processed.rds\")) |&gt; filter(!(id %in% readRDS(here::here(\"data/s1_discrep_ids.rds\"))))\ns2_long &lt;- readRDS(here::here(\"data/s2_processed.rds\")) |&gt; filter(!(id %in% readRDS(here::here(\"data/s2_discrep_ids.rds\"))))",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Ordinal Models"
    ]
  },
  {
    "objectID": "misc/ordinal.html#ordinal-regression-alternative",
    "href": "misc/ordinal.html#ordinal-regression-alternative",
    "title": "Ordinal Models",
    "section": "",
    "text": "pacman::p_load(dplyr,purrr,tidyr,here,tibble,stringr,brms,rstan,bayestestR,emmeans,tidybayes,modelsummary,\n               ggplot2,gt,knitr,kableExtra,ggh4x,lme4,flextable,pander)\noptions(digits=2, scipen=999, dplyr.summarise.inform=FALSE)\nwalk(c(\"fun_plot\"), ~ source(here::here(paste0(\"scripts/\", .x, \".R\"))))\ntheme_set(theme_nice())\noptions(brms.backend=\"cmdstanr\",mc.cores=4)\n\n\ns1 &lt;- readRDS(here::here(\"data/s1_processed.rds\")) |&gt; filter(!(id %in% readRDS(here::here(\"data/s1_discrep_ids.rds\"))))\ns2_long &lt;- readRDS(here::here(\"data/s2_processed.rds\")) |&gt; filter(!(id %in% readRDS(here::here(\"data/s2_discrep_ids.rds\"))))",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Ordinal Models"
    ]
  },
  {
    "objectID": "misc/ordinal.html#proportions-in-aggregate-data",
    "href": "misc/ordinal.html#proportions-in-aggregate-data",
    "title": "Ordinal Models",
    "section": "Proportions in aggregate data",
    "text": "Proportions in aggregate data\n\ns1_agg &lt;- s1 |&gt; \n    filter(appliance !=\"Total kWh\") |&gt; \n    group_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \n    summarise(total_kWh = sum(value),orig_kWh=sum(family), \n                pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n                n_change = sum(value!=family),\n                state_p_dif=mean(state_p_dif),\n                state_f_dif=mean(state_f_dif),\n                n_less_avg = sum(less_avg),\n                duration=first(Duration__in_seconds_)) |&gt; \n    mutate(matched_goal = (pct_change == pct_goal), \n                error = pct_change - pct_goal,\n                abs_error = abs(error),\n                close_match = abs_error &lt;= 0.03) |&gt;\n    ungroup() |&gt; # Add ungroup here\n        mutate(\n            accuracy_level = factor(\n                case_when(\n                    abs_error == 0.00 ~ \"Exact match\",\n                    abs_error &lt;= 0.02 ~ \"0.01-2% error\",\n                    abs_error &lt;= 0.15 ~ \"2.01-15% error\",\n                    TRUE ~ \"Over 15% error\"  # Capture all remaining cases\n                ), \n                levels = c(\"Exact match\", \"0.01-2% error\", \"2.01-15% error\", \"Over 15% error\"),\n                ordered = TRUE\n            )\n        )\n\n\nggplot(data = s1_agg, aes(x = accuracy_level, fill = refClass)) +\n  geom_bar(position = \"dodge\", aes(y = (..count..)/sum(..count..))) +\n  scale_y_continuous(labels = scales::percent) +\n  labs(title = \"Accuracy Levels by Reference Class\",\n       x = \"Accuracy Level\",\n       y = \"Percentage of Participants\",\n       fill = \"Reference Class\") +\n  theme_minimal()\n\n\n\n\n\n\nobserved_props &lt;- s1_agg |&gt;\n  group_by(refClass, accuracy_level) |&gt;\n  summarise(n = n()) |&gt;\n  group_by(refClass) |&gt;\n  mutate(prop = n/sum(n)) |&gt;\n  pivot_wider(\n    names_from = accuracy_level,\n    values_from = c(n, prop)\n  )\n\n  # Calculate proportions\nprop_acc_s1 &lt;- s1_agg %&gt;%\n    group_by(refClass, accuracy_level) %&gt;%\n    summarise(count = n()) %&gt;%\n    group_by(refClass) %&gt;%\n    mutate(Probability = count / sum(count)) %&gt;%\n    ungroup()\n\n# Plot\nggplot(prop_acc_s1, aes(x = accuracy_level, y = Probability, fill = refClass)) +\n    geom_bar(stat = \"identity\", position = position_dodge()) +\n    labs(title = \"Distribution of Accuracy Levels by Reference Class\",\n        x = \"Accuracy Level\",\n        y = \"Probability\",\n        fill = \"Reference Class\") +\n    theme_minimal() +\n    scale_fill_brewer(palette = \"Set1\")",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Ordinal Models"
    ]
  },
  {
    "objectID": "misc/ordinal.html#fit-ordinal-model-accuracy_level-refclass-1id-1state",
    "href": "misc/ordinal.html#fit-ordinal-model-accuracy_level-refclass-1id-1state",
    "title": "Ordinal Models",
    "section": "Fit Ordinal model accuracy_level ~ refClass + (1|id) + (1|state)",
    "text": "Fit Ordinal model accuracy_level ~ refClass + (1|id) + (1|state)\n\nordinal_model_s1 &lt;- brm(\n  accuracy_level ~ refClass + (1|id) + (1|state),\n  data = s1_agg,\n  family = cumulative(\"logit\"),\n  cores = 4,\n  iter = 2000,\n  control = list(adapt_delta = 0.99), # Recommended for ordinal models\n  prior = c(prior(normal(0, 2), class = \"Intercept\"),  # Priors for thresholds\n            prior(normal(0, 1.5), class = \"b\")), # Priors for predictors\n  file = paste0(here::here(\"data/model_cache\",'s1_ordinal3.rds')) # Cache for efficiency\n)\n\nsummary(ordinal_model_s1)\n\n Family: cumulative \n  Links: mu = logit; disc = identity \nFormula: accuracy_level ~ refClass + (1 | id) + (1 | state) \n   Data: s1_agg (Number of observations: 940) \n  Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;\n         total post-warmup draws = 4000\n\nMultilevel Hyperparameters:\n~id (Number of levels: 235) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     3.69      0.28     3.17     4.29 1.00     1280     2107\n\n~state (Number of levels: 4) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     0.73      0.48     0.24     2.04 1.00     1561     2190\n\nRegression Coefficients:\n                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nIntercept[1]          -1.85      0.56    -2.92    -0.75 1.00     1144     2042\nIntercept[2]           0.22      0.55    -0.82     1.34 1.00     1185     2062\nIntercept[3]           2.86      0.56     1.83     4.00 1.00     1271     2210\nrefClassPercentage     0.65      0.59    -0.48     1.82 1.00      764     1403\nrefClassUSD            2.48      0.56     1.41     3.64 1.00      818     1626\n\nFurther Distributional Parameters:\n     Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\ndisc     1.00      0.00     1.00     1.00   NA       NA       NA\n\nDraws were sampled using sampling(NUTS). For each parameter, Bulk_ESS\nand Tail_ESS are effective sample size measures, and Rhat is the potential\nscale reduction factor on split chains (at convergence, Rhat = 1).\n\n#ordinal_model_s1 |&gt; emmeans(~refClass, type=\"response\")\n\npp_check(ordinal_model_s1)\n\n\n\n\n\n\ndescribe_posterior(ordinal_model_s1, centrality = \"Mode\") |&gt; \n  filter(stringr::str_detect(Parameter, \"b_\")) |&gt; \n  mutate(Parameter = stringr::str_remove(Parameter, \"b_\")) |&gt; \n  mutate(across(where(is.numeric), round, 3)) |&gt; \n  kable(booktabs = TRUE)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nParameter\nMode\nCI\nCI_low\nCI_high\npd\nROPE_CI\nROPE_low\nROPE_high\nROPE_Percentage\nRhat\nESS\n\n\n\nIntercept[1]\n-1.40\n0.95\n-2.92\n-0.75\n1.00\n0.95\n-0.18\n0.18\n0.00\n1\n1121\n\n\nIntercept[2]\n0.92\n0.95\n-0.82\n1.34\n0.65\n0.95\n-0.18\n0.18\n0.26\n1\n1152\n\n\nIntercept[3]\n3.52\n0.95\n1.83\n4.00\n1.00\n0.95\n-0.18\n0.18\n0.00\n1\n1232\n\n\nrefClassPercentage\n1.81\n0.95\n-0.48\n1.82\n0.86\n0.95\n-0.18\n0.18\n0.14\n1\n742\n\n\nrefClassUSD\n2.88\n0.95\n1.41\n3.64\n1.00\n0.95\n-0.18\n0.18\n0.00\n1\n799\n\n\n\n\n# Get predicted probabilities\npred_summary &lt;- ordinal_model_s1 |&gt;\n    epred_draws(newdata = data.frame(refClass = c(\"kWh\", \"Percentage\", \"USD\")),\n                ndraws = 1000, re_formula = NA) |&gt;\n    group_by(refClass, .category) |&gt;\n    summarise(\n        mean_prob = mean(.epred),\n        lower_ci = quantile(.epred, 0.025),\n        upper_ci = quantile(.epred, 0.975)\n    )\npred_summary |&gt; pander::pandoc.table(caption=\"Study 1: Predicted probabilities of accuracy\")\n\n\n---------------------------------------------------------------\n  refClass      .category      mean_prob   lower_ci   upper_ci \n------------ ---------------- ----------- ---------- ----------\n Percentage    Exact match      0.08584    0.02499     0.2105  \n\n Percentage   0.01-2% error     0.3129      0.1526     0.4774  \n\n Percentage   2.01-15% error    0.4894      0.2965     0.6053  \n\n Percentage   Over 15% error    0.1119     0.03264     0.2539  \n\n    USD        Exact match      0.01492    0.004049   0.03793  \n\n    USD       0.01-2% error     0.08845    0.02911     0.1911  \n\n    USD       2.01-15% error    0.4813      0.2912     0.606   \n\n    USD       Over 15% error    0.4154      0.1824     0.6725  \n\n    kWh        Exact match      0.1471     0.04664     0.3075  \n\n    kWh       0.01-2% error     0.4022      0.2469     0.5116  \n\n    kWh       2.01-15% error    0.3893      0.1931     0.568   \n\n    kWh       Over 15% error    0.06138    0.01967     0.1397  \n---------------------------------------------------------------\n\nTable: Study 1: Predicted probabilities of accuracy\n\n# Convert log-odds to odds ratios\nposterior_samples &lt;- as.data.frame(ordinal_model_s1)\nodds_ratios &lt;- data.frame(\n  Percentage_vs_kWh = exp(posterior_samples$b_refClassPercentage),\n  USD_vs_kWh = exp(posterior_samples$b_refClassUSD)\n)\n\n# Calculate summary statistics\nodds_ratio_summary &lt;- data.frame(\n  comparison = c(\"Percentage vs kWh\", \"USD vs kWh\"),\n  odds_ratio = c(mean(odds_ratios$Percentage_vs_kWh),\n                 mean(odds_ratios$USD_vs_kWh)),\n  ci_lower = c(quantile(odds_ratios$Percentage_vs_kWh, 0.025),\n               quantile(odds_ratios$USD_vs_kWh, 0.025)),\n  ci_upper = c(quantile(odds_ratios$Percentage_vs_kWh, 0.975),\n               quantile(odds_ratios$USD_vs_kWh, 0.975))\n)\n\n\nodds_ratio_summary |&gt; kable()\n\n\n\ncomparison\nodds_ratio\nci_lower\nci_upper\n\n\n\nPercentage vs kWh\n2.3\n0.62\n6.2\n\n\nUSD vs kWh\n14.1\n4.08\n38.0\n\n\n\n\n# |comparison        | odds_ratio| ci_lower| ci_upper|\n# |:-----------------|----------:|--------:|--------:|\n# |Percentage vs kWh |        2.3|     0.62|      6.2|\n# |USD vs kWh        |       14.1|     4.08|     38.0|\n\n\nodds_ratio_summary |&gt; pander::pandoc.table(caption=\"Study 1: Odds ratios of accuracy\")\n\n\n------------------------------------------------------\n    comparison       odds_ratio   ci_lower   ci_upper \n------------------- ------------ ---------- ----------\n Percentage vs kWh     2.274       0.6178     6.148   \n\n    USD vs kWh         14.09        4.08      38.04   \n------------------------------------------------------\n\nTable: Study 1: Odds ratios of accuracy\n\n# Plot predicted probabilities\nggplot(pred_summary, aes(x = refClass, y = mean_prob, fill = .category)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  geom_errorbar(aes(ymin = lower_ci, ymax = upper_ci),\n                position = position_dodge(width = 0.9), width = 0.2) +\n  labs(y = \"Predicted Probability\", x = \"Reference Class\", fill = \"Accuracy Level\") +\n  ggtitle(\"Study 1: Predicted Probabilities of Accuracy Level by Reference Class\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\ncomparison\nodds_ratio\nci_lower\nci_upper\n\n\n\nPercentage vs kWh\n2.3\n0.62\n6.2\n\n\nUSD vs kWh\n14.1\n4.08\n38.0",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Ordinal Models"
    ]
  },
  {
    "objectID": "misc/ordinal.html#s1-posterior-predictive-checks",
    "href": "misc/ordinal.html#s1-posterior-predictive-checks",
    "title": "Ordinal Models",
    "section": "S1 posterior predictive checks",
    "text": "S1 posterior predictive checks\n\nbayesplot::color_scheme_set(wes_palettes[1]$BottleRocket1[1:6])\n\npp_check(ordinal_model_s1, type = \"bars\", ndraws = 1000, fatten = 2) +\n    scale_x_continuous(\"y\", breaks = 1:7) +\n    scale_y_continuous(NULL, breaks = NULL, expand = expansion(mult = c(0, 0.05))) +\n    ggtitle(\"Data with posterior predictions\",\n            subtitle = \"N = 100\") \n\n\n\n\n\n\npp_check(ordinal_model_s1, type = \"bars_grouped\", group=\"refClass\", fatten = 2) +\n    scale_x_continuous(\"y\", breaks = 1:7) +\n    scale_y_continuous(NULL, breaks = NULL, expand = expansion(mult = c(0, 0.05))) +\n    ggtitle(\"Data with posterior predictions\",\n            subtitle = expression(list(italic(N[A])==44, italic(N[B])==44))) +\n    theme(legend.background = element_blank(),\n            legend.position = c(.9, .75))\n\n\n\n\n\n\nf &lt;- fitted(ordinal_model_s1,newdata_pred &lt;- expand.grid(\n    refClass = c(\"kWh\", \"Percentage\", \"USD\"),\n    id = unique(s1_agg$id),\n    state = unique(s1_agg$state)\n    ))\n\n\n# Create new_data with one id and state\nnew_data &lt;- expand.grid(\n  refClass = c(\"kWh\", \"Percentage\", \"USD\"),\n  id = unique(s1_agg$id)[1],      # Take first id\n  state = unique(s1_agg$state)[1] # Take first state\n)\n\n\nf_df &lt;- as.data.frame.table(f) |&gt;\n  rename(Probability = Freq) |&gt;\n  # Extract Y levels from the Var3 column\n  mutate(Y = str_extract(Var3, \"(?&lt;=P\\\\(Y = ).*(?=\\\\))\")) |&gt;\n  # Join with new_data using crossing instead of bind_cols\n  crossing(new_data) |&gt;\n  # Select and arrange columns as needed\n  select(refClass, id, state, Y, Probability)",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Ordinal Models"
    ]
  },
  {
    "objectID": "misc/ordinal.html#comparing-marginal-vs-conditional-predictions",
    "href": "misc/ordinal.html#comparing-marginal-vs-conditional-predictions",
    "title": "Ordinal Models",
    "section": "Comparing Marginal vs Conditional Predictions",
    "text": "Comparing Marginal vs Conditional Predictions\n\n# Create newdata with all necessary variables\nnewdata_pred &lt;- expand.grid(\n  refClass = c(\"kWh\", \"Percentage\", \"USD\"),\n  id = unique(s1_agg$id),\n  state = unique(s1_agg$state)\n)\n\n# Population-level predictions\npred_probs_marginal &lt;- ordinal_model_s1 |&gt;\n  epred_draws(\n    newdata = data.frame(refClass = c(\"kWh\", \"Percentage\", \"USD\")),\n    ndraws = 1000, \n    re_formula = NA\n  )\n\n# Conditional predictions (including random effects)\npred_probs_conditional &lt;- ordinal_model_s1 |&gt;\n  epred_draws(\n    newdata = newdata_pred,\n    ndraws = 1000, \n    re_formula = NULL\n  )\n\n# Compare the two approaches\nsummary_comparison &lt;- bind_rows(\n    pred_probs_marginal |&gt; \n        group_by(refClass, .category) |&gt;\n        summarise(\n        mean_prob = mean(.epred),\n        sd_prob = sd(.epred),\n        lower_ci = quantile(.epred, 0.025),\n        upper_ci = quantile(.epred, 0.975),\n        .groups = 'drop'\n        ) |&gt;\n        mutate(type = \"Marginal\"),\n    \n    pred_probs_conditional |&gt; \n        group_by(refClass, .category) |&gt;\n        summarise(\n        mean_prob = mean(.epred),\n        sd_prob = sd(.epred),\n        lower_ci = quantile(.epred, 0.025),\n        upper_ci = quantile(.epred, 0.975),\n        .groups = 'drop'\n        ) |&gt;\n        mutate(type = \"Conditional\")\n)\n\n# View the comparison\nsummary_comparison |&gt;\n  arrange(type, refClass, .category) |&gt;\n  kable(digits = 3)\n\n\n\n\n\n\n\n\n\n\n\n\nrefClass\n.category\nmean_prob\nsd_prob\nlower_ci\nupper_ci\ntype\n\n\n\nPercentage\nExact match\n0.254\n0.344\n0.000\n0.995\nConditional\n\n\nPercentage\n0.01-2% error\n0.175\n0.165\n0.000\n0.487\nConditional\n\n\nPercentage\n2.01-15% error\n0.266\n0.212\n0.000\n0.593\nConditional\n\n\nPercentage\nOver 15% error\n0.305\n0.344\n0.000\n0.993\nConditional\n\n\nUSD\nExact match\n0.144\n0.274\n0.000\n0.966\nConditional\n\n\nUSD\n0.01-2% error\n0.125\n0.154\n0.000\n0.476\nConditional\n\n\nUSD\n2.01-15% error\n0.240\n0.205\n0.001\n0.589\nConditional\n\n\nUSD\nOver 15% error\n0.490\n0.383\n0.000\n0.999\nConditional\n\n\nkWh\nExact match\n0.301\n0.361\n0.000\n0.997\nConditional\n\n\nkWh\n0.01-2% error\n0.191\n0.168\n0.000\n0.491\nConditional\n\n\nkWh\n2.01-15% error\n0.259\n0.213\n0.000\n0.592\nConditional\n\n\nkWh\nOver 15% error\n0.250\n0.320\n0.000\n0.986\nConditional\n\n\nPercentage\nExact match\n0.088\n0.051\n0.028\n0.212\nMarginal\n\n\nPercentage\n0.01-2% error\n0.319\n0.085\n0.158\n0.482\nMarginal\n\n\nPercentage\n2.01-15% error\n0.486\n0.085\n0.282\n0.603\nMarginal\n\n\nPercentage\nOver 15% error\n0.107\n0.053\n0.032\n0.239\nMarginal\n\n\nUSD\nExact match\n0.015\n0.010\n0.004\n0.039\nMarginal\n\n\nUSD\n0.01-2% error\n0.090\n0.045\n0.032\n0.194\nMarginal\n\n\nUSD\n2.01-15% error\n0.484\n0.076\n0.307\n0.599\nMarginal\n\n\nUSD\nOver 15% error\n0.411\n0.120\n0.186\n0.654\nMarginal\n\n\nkWh\nExact match\n0.151\n0.070\n0.053\n0.318\nMarginal\n\n\nkWh\n0.01-2% error\n0.408\n0.066\n0.266\n0.519\nMarginal\n\n\nkWh\n2.01-15% error\n0.383\n0.096\n0.198\n0.547\nMarginal\n\n\nkWh\nOver 15% error\n0.059\n0.030\n0.018\n0.132\nMarginal\n\n\n\n\n# Visualize the comparison\nggplot(summary_comparison, \n        aes(x = .category, y = mean_prob, fill = refClass)) +\n    geom_col(position = position_dodge()) +\n    geom_errorbar(aes(ymin = lower_ci, ymax = upper_ci), \n            position = position_dodge(width = 0.8)) +\n    facet_wrap(~type) +\n    theme_minimal() +\n    theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n    labs(title = \"Comparing Marginal vs Conditional Predictions\",\n        x = \"Accuracy Level\",\n        y = \"Predicted Probability\")",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Ordinal Models"
    ]
  },
  {
    "objectID": "misc/ordinal.html#individual-differences-in-predictions",
    "href": "misc/ordinal.html#individual-differences-in-predictions",
    "title": "Ordinal Models",
    "section": "Individual Differences in Predictions",
    "text": "Individual Differences in Predictions\n\n# Extract random effects for subjects with corrected ID handling\nranef_draws &lt;- ordinal_model_s1 |&gt;\n  spread_draws(r_id[id,term]) |&gt;\n  mutate(id = as.integer(as.character(id))) # Convert factor to integer\n\n# Get subject-specific adjustments\nsubject_adjustments &lt;- ranef_draws |&gt;\n  group_by(id) |&gt;\n  summarise(\n    mean_adj = mean(r_id),\n    lower = quantile(r_id, 0.025),\n    upper = quantile(r_id, 0.975)\n  )\n\n# Get reference class for each subject\nsubject_refclass &lt;- s1_agg |&gt;\n  group_by(id) |&gt;\n  summarise(refClass = first(refClass))\n\n# Combine adjustments with reference class\nsubject_plot_data &lt;- subject_adjustments |&gt;\n  left_join(subject_refclass, by = \"id\")\n\n# Create caterpillar plot\nggplot(subject_plot_data, \n       aes(x = reorder(factor(id), mean_adj), \n           y = mean_adj, \n           color = refClass)) +\n  geom_point() +\n  geom_errorbar(aes(ymin = lower, ymax = upper), alpha = 0.5) +\n  coord_flip() +\n  facet_wrap(~refClass, scales = \"free_y\") +\n  theme_minimal() +\n  labs(title = \"Subject-Level Random Effects by Reference Class\",\n       y = \"Subject-Specific Adjustment\",\n       x = \"Subject ID\") +\n  theme(legend.position = \"none\")\n\n\n\n\n\n\n# Density plot of random effects by condition\nggplot(subject_plot_data, \n       aes(x = mean_adj, fill = refClass)) +\n  geom_density(alpha = 0.5) +\n  theme_minimal() +\n  labs(title = \"Distribution of Subject-Level Random Effects by Reference Class\",\n       x = \"Subject-Specific Adjustment\",\n       y = \"Density\")\n\n\n\n\n\n\n# Summary statistics by condition\nrandom_effects_summary &lt;- subject_plot_data |&gt;\n  group_by(refClass) |&gt;\n  summarise(\n    n = n(),\n    mean_adjustment = mean(mean_adj),\n    sd_adjustment = sd(mean_adj),\n    median_adjustment = median(mean_adj),\n    q25 = quantile(mean_adj, 0.25),\n    q75 = quantile(mean_adj, 0.75)\n  )\n\nprint(random_effects_summary)\n\n# A tibble: 3 × 7\n  refClass       n mean_adjustment sd_adjustment median_adjustment   q25   q75\n  &lt;chr&gt;      &lt;int&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Percentage    68          0.0957          3.21            0.711  -1.68  2.13\n2 USD           89          0.205           3.00            0.447  -1.39  1.69\n3 kWh           78         -0.221           3.95           -0.0170 -5.11  2.76\n\npop_preds &lt;- ordinal_model_s1 |&gt;\n    epred_draws(\n        newdata = data.frame(refClass = c(\"kWh\", \"Percentage\", \"USD\")),\n        ndraws = 1000, \n        re_formula = NA\n    ) |&gt;\n    group_by(refClass, .category) |&gt;\n    summarise(\n        pop_mean = mean(.epred),\n        pop_lower = quantile(.epred, 0.025),\n        pop_upper = quantile(.epred, 0.975)\n    )\n\n# Get subject-specific predictions\nsubject_preds &lt;- ordinal_model_s1 |&gt;\n    epred_draws(\n        newdata = s1_agg,\n        ndraws = 100  # fewer draws for computational efficiency\n    ) |&gt;\n    group_by(id, refClass, .category) |&gt;\n    summarise(\n        subj_mean = mean(.epred)\n    )\n\n\n# Plot 1: Population effects with subject-specific points\nggplot() +\n    # Add subject-specific points\n    geom_jitter(data = subject_preds,\n                aes(x = .category, y = subj_mean, color = refClass),\n                alpha = 0.2, width = 0.2, height = 0) +\n    # Add population-level effects\n    geom_point(data = pop_preds,\n                aes(x = .category, y = pop_mean, fill = refClass),\n                size = 3, shape = 21, color = \"black\") +\n    geom_errorbar(data = pop_preds,\n                aes(x = .category, ymin = pop_lower, ymax = pop_upper),\n                width = 0.2) +\n    facet_wrap(~refClass) +\n    theme_minimal() +\n    theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n    labs(title = \"Population-Level Effects with Subject-Specific Predictions\",\n        x = \"Accuracy Level\",\n        y = \"Predicted Probability\")\n\n\n\n\n\n\n# Plot 2: Violin plot with population effects\nggplot() +\n    # Add violin plot of subject-specific effects\n    geom_violin(data = subject_preds,\n                aes(x = .category, y = subj_mean, fill = refClass),\n                alpha = 0.3) +\n    # Add population-level points\n    geom_point(data = pop_preds,\n                aes(x = .category, y = pop_mean),\n                size = 3, color = \"black\") +\n    geom_errorbar(data = pop_preds,\n                aes(x = .category, ymin = pop_lower, ymax = pop_upper),\n                width = 0.2) +\n    facet_wrap(~refClass) +\n    theme_minimal() +\n    theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n    labs(title = \"Distribution of Subject-Specific Effects with Population Estimates\",\n        x = \"Accuracy Level\",\n        y = \"Predicted Probability\")\n\n\n\n\n\n\n# Plot 3: Subject deviations from population mean\nsubject_deviations &lt;- subject_preds |&gt;\n    left_join(pop_preds, by = c(\"refClass\", \".category\")) |&gt;\n    mutate(deviation = subj_mean - pop_mean)\n\nggplot(subject_deviations,\n        aes(x = deviation, fill = refClass)) +\n    geom_density(alpha = 0.5) +\n    geom_vline(xintercept = 0, linetype = \"dashed\") +\n    facet_grid(refClass ~ .category) +\n    theme_minimal() +\n    labs(title = \"Subject Deviations from Population Mean\",\n        x = \"Deviation from Population Mean\",\n        y = \"Density\")\n\n\n\n\n\n\n# Plot 4: Ridgeline plot of subject effects\nlibrary(ggridges)\nggplot(subject_preds,\n        aes(x = subj_mean, y = .category, fill = refClass)) +\n    geom_density_ridges(alpha = 0.5) +\n    geom_vline(data = pop_preds,\n                aes(xintercept = pop_mean),\n                linetype = \"dashed\") +\n    facet_wrap(~refClass) +\n    theme_minimal() +\n    labs(title = \"Distribution of Subject-Specific Effects by Accuracy Level\",\n        x = \"Predicted Probability\",\n        y = \"Accuracy Level\")",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Ordinal Models"
    ]
  },
  {
    "objectID": "misc/ordinal.html#alt-s1-visual-of-predicted-probs",
    "href": "misc/ordinal.html#alt-s1-visual-of-predicted-probs",
    "title": "Ordinal Models",
    "section": "Alt s1 visual of predicted probs",
    "text": "Alt s1 visual of predicted probs\n\npredicted_probs_s1 &lt;- ordinal_model_s1 %&gt;%\n    # gather draws that contain refClass (\"b_refClassPercentage\"    \"b_refClassUSD\"  )\n    gather_draws(b_refClassPercentage, b_refClassUSD) %&gt;%\n    mutate(refClass = case_when(\n    str_detect(.variable, \"Percentage\") ~ \"Percentage\",\n    str_detect(.variable, \"USD\") ~ \"USD\",\n    TRUE ~ \"kWh\"\n  )) %&gt;%\n    group_by(refClass) %&gt;%\n    summarise(effect = mean(.value)) %&gt;%\n    mutate(\n        group = refClass,\n        prob_exact = plogis(effect + (-1.85)),\n        prob_0_2 = plogis(effect + 0.22) - plogis(effect + (-1.85)),\n        prob_2_15 = plogis(effect + 2.86) - plogis(effect + 0.22),\n        prob_over15 = 1 - plogis(effect + 2.86)\n    ) %&gt;%\n    pivot_longer(\n        cols = starts_with(\"prob\"),\n        names_to = \"Accuracy_Level\",\n        values_to = \"Probability\"\n    ) %&gt;%\n    mutate(\n        Accuracy_Level = recode(Accuracy_Level,\n                                \"prob_exact\" = \"Exact match\",\n                                \"prob_0_2\" = \"0.01-2% error\",\n                                \"prob_2_15\" = \"2.01-15% error\",\n                                \"prob_over15\" = \"Over 15% error\")\n    )\n\n\n\nggplot(predicted_probs_s1, aes(x = Accuracy_Level, y = Probability, fill = refClass)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Predicted Probabilities of Accuracy Levels by Reference Class\",\n       x = \"Accuracy Level\",\n       y = \"Probability\",\n       fill = \"Reference Class\") +\n  theme_minimal()",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Ordinal Models"
    ]
  },
  {
    "objectID": "misc/ordinal.html#s1-probit",
    "href": "misc/ordinal.html#s1-probit",
    "title": "Ordinal Models",
    "section": "s1 probit",
    "text": "s1 probit\n\nordinal_model_s1_prb &lt;- brm(\n  accuracy_level ~ refClass + (1|id) + (1|state),\n  data = s1_agg,\n  family = cumulative(\"probit\"),\n  cores = 4,\n  iter = 2000,\n  control = list(adapt_delta = 0.99), # Recommended for ordinal models\n  prior = c(prior(normal(0, 3), class = \"Intercept\"),  # Priors for thresholds\n            prior(normal(0, 2), class = \"b\")), # Priors for predictors\n  file = paste0(here::here(\"data/model_cache\",'s1_ordinal_probit1.rds')) # Cache for efficiency\n)\n\nsummary(ordinal_model_s1_prb)\n\n Family: cumulative \n  Links: mu = probit; disc = identity \nFormula: accuracy_level ~ refClass + (1 | id) + (1 | state) \n   Data: s1_agg (Number of observations: 940) \n  Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;\n         total post-warmup draws = 4000\n\nMultilevel Hyperparameters:\n~id (Number of levels: 235) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     2.12      0.16     1.83     2.46 1.01      746     1694\n\n~state (Number of levels: 4) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     0.48      0.38     0.14     1.51 1.00     1061     1725\n\nRegression Coefficients:\n                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nIntercept[1]          -0.96      0.38    -1.71    -0.21 1.00      571      965\nIntercept[2]           0.22      0.38    -0.53     0.96 1.00      583     1025\nIntercept[3]           1.73      0.38     0.99     2.51 1.00      589     1036\nrefClassPercentage     0.54      0.38    -0.17     1.29 1.00      461      893\nrefClassUSD            1.66      0.37     0.94     2.37 1.00      345      573\n\nFurther Distributional Parameters:\n     Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\ndisc     1.00      0.00     1.00     1.00   NA       NA       NA\n\nDraws were sampled using sampling(NUTS). For each parameter, Bulk_ESS\nand Tail_ESS are effective sample size measures, and Rhat is the potential\nscale reduction factor on split chains (at convergence, Rhat = 1).\n\npp_check(ordinal_model_s1_prb, type = \"bars_grouped\", group=\"refClass\", fatten = 2) +\n    scale_x_continuous(\"y\", breaks = 1:7) +\n    scale_y_continuous(NULL, breaks = NULL, expand = expansion(mult = c(0, 0.05))) +\n    ggtitle(\"Data with posterior predictions\",\n            subtitle = expression(list(italic(N[A])==44, italic(N[B])==44))) +\n    theme(legend.background = element_blank(),\n            legend.position = c(.9, .75))\n\n\n\n\n\n\nloo_logit &lt;- loo(ordinal_model_s1)\nloo_probit &lt;- loo(ordinal_model_s1_prb)\nloo_compare(loo_logit, loo_probit)\n\n                     elpd_diff se_diff\nordinal_model_s1_prb   0.0       0.0  \nordinal_model_s1     -11.7       2.1  \n\nwaic(ordinal_model_s1)\n\n\nComputed from 4000 by 940 log-likelihood matrix.\n\n          Estimate   SE\nelpd_waic   -782.2 23.1\np_waic       182.8  7.9\nwaic        1564.5 46.2\n\n139 (14.8%) p_waic estimates greater than 0.4. We recommend trying loo instead. \n\nwaic(ordinal_model_s1_prb)\n\n\nComputed from 4000 by 940 log-likelihood matrix.\n\n          Estimate   SE\nelpd_waic   -767.0 22.1\np_waic       161.6  7.1\nwaic        1533.9 44.3\n\n117 (12.4%) p_waic estimates greater than 0.4. We recommend trying loo instead. \n\n# compare\nrstanarm::loo_compare(loo_logit, loo_probit)\n\n                     elpd_diff se_diff\nordinal_model_s1_prb   0.0       0.0  \nordinal_model_s1     -11.7       2.1  \n\n# Obtain predicted probabilities\npredicted_probs_s1 &lt;- ordinal_model_s1_prb %&gt;%\n    gather_draws(b_refClassPercentage, b_refClassUSD) %&gt;%\n    mutate(refClass = case_when(\n        str_detect(.variable, \"Percentage\") ~ \"Percentage\",\n        str_detect(.variable, \"USD\") ~ \"USD\",\n        TRUE ~ \"kWh\"\n    )) %&gt;%\n    group_by(refClass) %&gt;%\n    summarise(effect = mean(.value)) %&gt;%\n    mutate(\n        group = refClass,\n        prob_exact = plogis(effect + (-1.85)),\n        prob_0_2 = plogis(effect + 0.22) - plogis(effect + (-1.85)),\n        prob_2_15 = plogis(effect + 2.86) - plogis(effect + 0.22),\n        prob_over15 = 1 - plogis(effect + 2.86)\n    ) %&gt;%\n    pivot_longer(\n        cols = starts_with(\"prob\"),\n        names_to = \"Accuracy_Level\",\n        values_to = \"Probability\"\n    ) %&gt;%\n    mutate(\n        Accuracy_Level = recode(Accuracy_Level,\n                                \"prob_exact\" = \"Exact match\",\n                                \"prob_0_2\" = \"0.01-2% error\",\n                                \"prob_2_15\" = \"2.01-15% error\",\n                                \"prob_over15\" = \"Over 15% error\")\n    )\n\n    # Plot predicted probabilities\n    ggplot(predicted_probs_s1, aes(x = Accuracy_Level, y = Probability, fill = refClass)) +\n    geom_bar(stat = \"identity\", position = \"dodge\") +\n    labs(title = \"Predicted Probabilities of Accuracy Levels by Reference Class\",\n        x = \"Accuracy Level\",\n        y = \"Probability\",\n        fill = \"Reference Class\") +\n    theme_minimal()\n\n\n\n\n\n\npred_data &lt;- data.frame(\n  refClass = c(\"kWh\", \"Percentage\", \"USD\"),\n  id = unique(s1_agg$id)[1],      # Take first id\n  state = unique(s1_agg$state)[1] # Take first state\n)\n\n# Predicted probabilities from logit model\npred_probs_logit &lt;- posterior_epred(ordinal_model_s1, newdata = pred_data, re_formula = NA)\n\n# Predicted probabilities from probit model\npred_probs_probit &lt;- posterior_epred(ordinal_model_s1_prb, newdata = pred_data, re_formula = NA)\n\n# Compare predicted probabilities\nmean_pred_logit &lt;- apply(pred_probs_logit, 2, mean)\nmean_pred_probit &lt;- apply(pred_probs_probit, 2, mean)\n\ncomparison &lt;- data.frame(\n  Reference_Class = pred_data$refClass,\n  Mean_Prob_Logit = mean_pred_logit,\n  Mean_Prob_Probit = mean_pred_probit\n)\n\nprint(comparison)\n\n  Reference_Class Mean_Prob_Logit Mean_Prob_Probit\n1             kWh            0.25             0.25\n2      Percentage            0.25             0.25\n3             USD            0.25             0.25",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Ordinal Models"
    ]
  },
  {
    "objectID": "misc/ordinal.html#interaction-model",
    "href": "misc/ordinal.html#interaction-model",
    "title": "Ordinal Models",
    "section": "Interaction model",
    "text": "Interaction model\n\n# Fit the full model with interactions\nordinal_model_s2 &lt;- brm(\n  accuracy_level ~ refClass * rounded * pct_goal + (1|id) + (1|state),\n  data = s2_agg1,\n  family = cumulative(\"logit\"),\n  cores = 4,\n  iter = 2000,\n  control = list(adapt_delta = 0.99),\n  prior = c(\n    prior(normal(0, 2), class = \"Intercept\"),\n    prior(normal(0, 2), class = \"b\")\n  ),\n  file = paste0(here::here(\"data/model_cache\",\"s2_ordinal_full6.rds\"))\n)\n\n\n\n\n\n\npred_summary_s2 &lt;- ordinal_model_s2 %&gt;%\n  epred_draws(newdata = s2_agg1, re_formula = NA) %&gt;%\n  group_by(refClass, rounded, pct_goal, .category) %&gt;%\n  summarise(\n    mean_prob = mean(.epred),\n    lower_ci = quantile(.epred, 0.025),\n    upper_ci = quantile(.epred, 0.975),\n    .groups = \"drop\"\n  )\n\n# |refClass   |rounded     |pct_goal |.category      | mean_prob| lower_ci| upper_ci|\n# |:----------|:-----------|:--------|:--------------|---------:|--------:|--------:|\n# |kWh        |Not Rounded |10%      |Exact match    |      0.09|     0.02|     0.25|\n# |kWh        |Not Rounded |10%      |0.01-2% error  |      0.20|     0.06|     0.36|\n# |kWh        |Not Rounded |10%      |2.01-15% error |      0.64|     0.38|     0.77|\n# |kWh        |Not Rounded |10%      |Over 15% error |      0.07|     0.01|     0.19|\n# |kWh        |Not Rounded |15%      |Exact match    |      0.19|     0.05|     0.44|\n# |kWh        |Not Rounded |15%      |0.01-2% error  |      0.29|     0.14|     0.41|\n# |kWh        |Not Rounded |15%      |2.01-15% error |      0.49|     0.22|     0.73|\n# |kWh        |Not Rounded |15%      |Over 15% error |      0.03|     0.01|     0.09|\n# |kWh        |Rounded     |10%      |Exact match    |      0.22|     0.06|     0.49|\n# |kWh        |Rounded     |10%      |0.01-2% error  |      0.31|     0.16|     0.41|\n# |kWh        |Rounded     |10%      |2.01-15% error |      0.45|     0.18|     0.71|\n# |kWh        |Rounded     |10%      |Over 15% error |      0.02|     0.00|     0.07|\n# |kWh        |Rounded     |15%      |Exact match    |      0.28|     0.07|     0.61|\n# |kWh        |Rounded     |15%      |0.01-2% error  |      0.32|     0.18|     0.42|\n# |kWh        |Rounded     |15%      |2.01-15% error |      0.38|     0.11|     0.68|\n# |kWh        |Rounded     |15%      |Over 15% error |      0.02|     0.00|     0.06|\n# |Percentage |Not Rounded |10%      |Exact match    |      0.04|     0.01|     0.13|\n# |Percentage |Not Rounded |10%      |0.01-2% error  |      0.12|     0.03|     0.28|\n# |Percentage |Not Rounded |10%      |2.01-15% error |      0.70|     0.53|     0.78|\n# |Percentage |Not Rounded |10%      |Over 15% error |      0.14|     0.03|     0.38|\n# |Percentage |Not Rounded |15%      |Exact match    |      0.10|     0.02|     0.29|\n# |Percentage |Not Rounded |15%      |0.01-2% error  |      0.21|     0.06|     0.37|\n# |Percentage |Not Rounded |15%      |2.01-15% error |      0.63|     0.34|     0.77|\n# |Percentage |Not Rounded |15%      |Over 15% error |      0.07|     0.01|     0.20|\n# |Percentage |Rounded     |10%      |Exact match    |      0.15|     0.03|     0.40|\n# |Percentage |Rounded     |10%      |0.01-2% error  |      0.26|     0.09|     0.39|\n# |Percentage |Rounded     |10%      |2.01-15% error |      0.55|     0.24|     0.75|\n# |Percentage |Rounded     |10%      |Over 15% error |      0.04|     0.01|     0.13|\n# |Percentage |Rounded     |15%      |Exact match    |      0.13|     0.03|     0.35|\n# |Percentage |Rounded     |15%      |0.01-2% error  |      0.25|     0.09|     0.39|\n# |Percentage |Rounded     |15%      |2.01-15% error |      0.57|     0.28|     0.76|\n# |Percentage |Rounded     |15%      |Over 15% error |      0.05|     0.01|     0.14|\n# |USD        |Not Rounded |10%      |Exact match    |      0.02|     0.00|     0.07|\n# |USD        |Not Rounded |10%      |0.01-2% error  |      0.07|     0.01|     0.19|\n# |USD        |Not Rounded |10%      |2.01-15% error |      0.67|     0.42|     0.78|\n# |USD        |Not Rounded |10%      |Over 15% error |      0.24|     0.06|     0.56|\n# |USD        |Not Rounded |15%      |Exact match    |      0.06|     0.01|     0.18|\n# |USD        |Not Rounded |15%      |0.01-2% error  |      0.14|     0.03|     0.32|\n# |USD        |Not Rounded |15%      |2.01-15% error |      0.68|     0.47|     0.78|\n# |USD        |Not Rounded |15%      |Over 15% error |      0.13|     0.02|     0.37|\n# |USD        |Rounded     |10%      |Exact match    |      0.05|     0.01|     0.18|\n# |USD        |Rounded     |10%      |0.01-2% error  |      0.13|     0.03|     0.32|\n# |USD        |Rounded     |10%      |2.01-15% error |      0.68|     0.47|     0.78|\n# |USD        |Rounded     |10%      |Over 15% error |      0.13|     0.02|     0.37|\n# |USD        |Rounded     |15%      |Exact match    |      0.04|     0.01|     0.14|\n# |USD        |Rounded     |15%      |0.01-2% error  |      0.11|     0.02|     0.28|\n# |USD        |Rounded     |15%      |2.01-15% error |      0.69|     0.50|     0.78|\n# |USD        |Rounded     |15%      |Over 15% error |      0.15|     0.03|     0.41|\n\n\n\n# Extract posterior samples\nposterior_samples_s2 &lt;- as.data.frame(ordinal_model_s2)\n\n\nodds_ratios_s2 &lt;- posterior_samples_s2 %&gt;%\n    transmute(\n        refClass_Percentage_vs_kWh = exp(b_refClassPercentage),\n        refClass_USD_vs_kWh = exp(b_refClassUSD),\n        rounded_Yes_vs_No = exp(b_roundedRounded),\n        pct_goal_15_vs_10 = exp(`b_pct_goal15%`)  # Note the backticks here\n    )\n# Calculate summary statistics\nodds_ratio_summary_s2 &lt;- data.frame(\n    comparison = c(\"Percentage vs kWh\", \"USD vs kWh\", \"Rounded vs Not\", \"15% Goal vs 10% Goal\"),\n    odds_ratio = c(\n        mean(odds_ratios_s2$refClass_Percentage_vs_kWh),\n        mean(odds_ratios_s2$refClass_USD_vs_kWh),\n        mean(odds_ratios_s2$rounded_Yes_vs_No),\n        mean(odds_ratios_s2$pct_goal_15_vs_10)\n    ),\n    ci_lower = c(\n        quantile(odds_ratios_s2$refClass_Percentage_vs_kWh, 0.025),\n        quantile(odds_ratios_s2$refClass_USD_vs_kWh, 0.025),\n        quantile(odds_ratios_s2$rounded_Yes_vs_No, 0.025),\n        quantile(odds_ratios_s2$pct_goal_15_vs_10, 0.025)\n    ),\n    ci_upper = c(\n        quantile(odds_ratios_s2$refClass_Percentage_vs_kWh, 0.975),\n        quantile(odds_ratios_s2$refClass_USD_vs_kWh, 0.975),\n        quantile(odds_ratios_s2$rounded_Yes_vs_No, 0.975),\n        quantile(odds_ratios_s2$pct_goal_15_vs_10, 0.975)\n    )\n)\n\n#  odds_ratio_summary_s2\n#             comparison odds_ratio ci_lower ci_upper\n# 1    Percentage vs kWh       3.31     0.43     11.3\n# 2           USD vs kWh       6.64     0.84     25.2\n# 3       Rounded vs Not       0.41     0.09      1.1\n# 4 15% Goal vs 10% Goal       0.51     0.12      1.5\n\n\nodds_ratio_summary_s2 |&gt; kable()\n\n\n\ncomparison\nodds_ratio\nci_lower\nci_upper\n\n\n\nPercentage vs kWh\n3.31\n0.43\n11.2\n\n\nUSD vs kWh\n6.64\n0.84\n25.2\n\n\nRounded vs Not\n0.41\n0.09\n1.1\n\n\n15% Goal vs 10% Goal\n0.51\n0.12\n1.5\n\n\n\n\ns2_agg1 &lt;- s2_agg1 %&gt;%\n  mutate(\n    refClass = factor(refClass, levels = c(\"kWh\", \"Percentage\", \"USD\")),\n    rounded = factor(rounded, levels = c(\"Not Rounded\", \"Rounded\")),\n    pct_goal = factor(pct_goal, levels = c(\"10%\", \"15%\"))\n  )\n\n# Fit the full model with interactions\nordinal_model_s2 &lt;- brm(\n  accuracy_level ~ refClass * rounded * pct_goal + (1|id) + (1|state),\n  data = s2_agg1,\n  family = cumulative(\"logit\"),\n  cores = 4,\n  iter = 2000,\n  control = list(adapt_delta = 0.99),\n  prior = c(\n    prior(normal(0, 2), class = \"Intercept\"),\n    prior(normal(0, 2), class = \"b\")\n  ),\n  file = paste0(here::here(\"data/model_cache\",\"s2_ordinal_full6.rds\"))\n)\n\n\n\npred_summary_s2 &lt;- ordinal_model_s2 %&gt;%\n  epred_draws(newdata = s2_agg1, re_formula = NA) %&gt;%\n  group_by(refClass, rounded, pct_goal, .category) %&gt;%\n  summarise(\n    mean_prob = mean(.epred),\n    lower_ci = quantile(.epred, 0.025),\n    upper_ci = quantile(.epred, 0.975),\n    .groups = \"drop\"\n  )\n\n# Extract posterior samples\nposterior_samples_s2 &lt;- as.data.frame(ordinal_model_s2)\n\n# Compute odds ratios for the predictors\nodds_ratios_s2 &lt;- posterior_samples_s2 %&gt;%\n  transmute(\n    refClass_Percentage_vs_kWh = exp(b_refClassPercentage),\n    refClass_USD_vs_kWh = exp(b_refClassUSD),\n    rounded_Yes_vs_No = exp(b_roundedRounded),\n    pct_goal_15_vs_10 = exp(`b_pct_goal15%`)  # Note the backticks here\n  )\n\n# Summarize odds ratios\nodds_ratio_summary_s2 &lt;- odds_ratios_s2 %&gt;%\n  summarise(\n    Percentage_vs_kWh = mean(refClass_Percentage_vs_kWh),\n    USD_vs_kWh = mean(refClass_USD_vs_kWh),\n    Rounded_vs_Not = mean(rounded_Yes_vs_No),\n    Goal15_vs_Goal10 = mean(pct_goal_15_vs_10)\n  )\n\nodds_ratio_summary_s2\n#   Percentage_vs_kWh USD_vs_kWh Rounded_vs_Not Goal15_vs_Goal10\n# 1               3.3        6.6           0.41             0.51",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Ordinal Models"
    ]
  },
  {
    "objectID": "misc/discrep.html",
    "href": "misc/discrep.html",
    "title": "Discrep_Patterns",
    "section": "",
    "text": "library(pacman)\npacman::p_load(dplyr,purrr,tidyr,here,tibble, haven,\n               ggplot2,gt,knitr,kableExtra,ggh4x,ggdist,gghalves,patchwork,lme4,flextable)\noptions(digits=2, scipen=999, dplyr.summarise.inform=FALSE)\nwalk(c(\"fun_plot\"), ~ source(here::here(paste0(\"scripts/\", .x, \".R\"))))\ntheme_set(theme_nice())\n\ns1 &lt;- readRDS(here::here(\"data/s1_processed.rds\"))\ns2_long &lt;- readRDS(here::here(\"data/s2_processed.rds\"))\n\n\ns1 %&gt;%\n  filter(appliance != \"Total kWh\", plan == \"plan1\") %&gt;%\n  group_by(appliance, state, refClass) %&gt;%\n  mutate(distinct_state_avg = n_distinct(state_avg)) %&gt;%\n  ungroup() %&gt;%\n  filter(distinct_state_avg &gt; 1) %&gt;%\n  group_by(appliance, state_avg, state, refClass) |&gt; arrange(id)\n\n# A tibble: 180 × 22\n# Groups:   appliance, state_avg, state, refClass [8]\n      id state1     state2        refClass calc       edu   modality state id2  \n   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;         &lt;chr&gt;    &lt;chr&gt;      &lt;fct&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;\n 1    11 California Colorado      kWh      Used Calc… Grad… A        COL   R_26…\n 2    12 Colorado   Texas         kWh      Used Calc… Grad… A        COL   R_ab…\n 3    13 Colorado   California    kWh      Used Calc… Grad… A        COL   R_2x…\n 4    14 Colorado   Texas         USD      No Calcul… Coll… D        COL   R_2V…\n 5    14 Colorado   Texas         USD      No Calcul… Coll… D        TEX   R_2V…\n 6    15 California Massachusetts USD      Used Calc… Coll… D        CAL   R_1L…\n 7    16 Texas      Massachusetts USD      Used Calc… Coll… D        TEX   R_3g…\n 8    17 Texas      Colorado      USD      No Calcul… Grad… D        TEX   R_2W…\n 9    17 Texas      Colorado      USD      No Calcul… Grad… D        COL   R_2W…\n10    18 California Colorado      USD      Used Calc… Grad… D        CAL   R_vB…\n# ℹ 170 more rows\n# ℹ 13 more variables: Duration__in_seconds_ &lt;dbl&gt;, appliance &lt;chr&gt;,\n#   family &lt;dbl&gt;, state_avg &lt;dbl+lbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;, block &lt;dbl&gt;,\n#   pct_goal &lt;dbl&gt;, change &lt;dbl&gt;, state_p_dif &lt;dbl&gt;, state_f_dif &lt;dbl&gt;,\n#   less_avg &lt;lgl&gt;, distinct_state_avg &lt;int&gt;\n\ns1 |&gt; group_by(state,appliance,refClass) |&gt; \n  mutate(state_avg=as.numeric(state_avg)) |&gt; \n  mutate(n_distinct_family=n_distinct(family),\n            n_distinct_state_avg=n_distinct(state_avg), \n            # paste a string of each distinct value, separated by a comma\n            distinct_family=paste(unique(family),collapse=\",\"),\n            distinct_state_avg=paste(unique(state_avg),collapse=\",\")) |&gt;\n  filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) \n\n# A tibble: 974 × 25\n# Groups:   state, appliance, refClass [11]\n      id state1   state2 refClass   calc            edu     modality state id2  \n   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;           &lt;fct&gt;   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;\n 1     1 Colorado Texas  Percentage Used Calculator Gradua… P        TEX   R_2Q…\n 2     1 Colorado Texas  Percentage Used Calculator Gradua… P        TEX   R_2Q…\n 3     2 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_2t…\n 4     2 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_2t…\n 5     3 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_3G…\n 6     3 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_3G…\n 7     4 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_Dj…\n 8     4 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_Dj…\n 9     5 Colorado Texas  Percentage No Calculator   Gradua… P        TEX   R_3f…\n10     5 Colorado Texas  Percentage No Calculator   Gradua… P        TEX   R_3f…\n# ℹ 964 more rows\n# ℹ 16 more variables: Duration__in_seconds_ &lt;dbl&gt;, appliance &lt;chr&gt;,\n#   family &lt;dbl&gt;, state_avg &lt;dbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;, block &lt;dbl&gt;,\n#   pct_goal &lt;dbl&gt;, change &lt;dbl&gt;, state_p_dif &lt;dbl&gt;, state_f_dif &lt;dbl&gt;,\n#   less_avg &lt;lgl&gt;, n_distinct_family &lt;int&gt;, n_distinct_state_avg &lt;int&gt;,\n#   distinct_family &lt;chr&gt;, distinct_state_avg &lt;chr&gt;\n\ns1 %&gt;%\n  filter(appliance != \"Total kWh\", plan == \"plan1\") %&gt;%\n  group_by(appliance, state, refClass) %&gt;%\n  mutate(\n    distinct_families = n_distinct(family),\n    distinct_state_avgs = n_distinct(state_avg),\n  ) %&gt;%\n  ungroup() %&gt;%\n  filter(distinct_families &gt; 1 | distinct_state_avgs&gt;1) %&gt;%\n  group_by(appliance, family, state, refClass) %&gt;%\n  summarise(n = n(), .groups = \"drop\") |&gt; gt()\n\n\n\n\n\nappliance\nfamily\nstate\nrefClass\nn\n\n\n\nHeating\n1.0\nTEX\nUSD\n1\n\n\nHeating\n340.0\nCOL\nkWh\n1\n\n\nHeating\n6118.0\nTEX\nUSD\n51\n\n\nHeating\n11441.0\nCOL\nkWh\n1\n\n\nHeating\n18052.0\nCOL\nkWh\n36\n\n\nOther Appliance\n5987.0\nTEX\nUSD\n1\n\n\nOther Appliance\n8459.0\nTEX\nUSD\n51\n\n\nRefrigerator\n1370.0\nCOL\nkWh\n37\n\n\nRefrigerator\n5600.0\nCOL\nkWh\n1\n\n\nWater Heating\n1.0\nMASS\nUSD\n1\n\n\nWater Heating\n5.3\nTEX\nPercentage\n10\n\n\nWater Heating\n5061.0\nCAL\nUSD\n41\n\n\nWater Heating\n5124.0\nCAL\nUSD\n1\n\n\nWater Heating\n5257.0\nTEX\nPercentage\n29\n\n\nWater Heating\n5257.0\nTEX\nUSD\n50\n\n\nWater Heating\n5600.0\nTEX\nUSD\n1\n\n\nWater Heating\n10543.0\nMASS\nUSD\n45\n\n\nWater Heating\n11667.0\nCOL\nUSD\n48\n\n\nWater Heating\n34265.0\nTEX\nUSD\n1\n\n\n\n\n\n\n\nstate_code_map &lt;- c(\n  \"CAL\" = \"California\",\n  \"TEX\" = \"Texas\",\n  \"COL\" = \"Colorado\",\n  \"MASS\" = \"Massachusetts\"\n)\n\n\nstate_to_code &lt;- state_code_map\ncode_to_state &lt;- setNames(names(state_code_map), state_code_map)\nlookup_code &lt;- function(state) {\n  if (state %in% names(state_to_code)) {\n    return(state_to_code[[state]])\n  } else if (state %in% names(code_to_state)) {\n    return(code_to_state[[state]])\n  } else {\n    return(NA)  # Return NA if not found in either mapping\n  }\n}\n\n\ncorrect_values &lt;- tribble(\n  ~state, ~appliance, ~family, ~state_avg,\n  # Texas values\n  \"Texas\", \"Cooling\", 6573, 4249,\n  \"Texas\", \"Heating\", 6118, 5099,\n  \"Texas\", \"Water Heating\", 5257, 4396,\n  \"Texas\", \"Refrigerator\", 2639, 1318,\n  \"Texas\", \"Other Appliance\", 8459, 7883,\n  \"Texas\", \"Total kWh\", 29046, 22945,\n  \n  # California values\n  \"California\", \"Cooling\", 2581, 1289,\n  \"California\", \"Heating\", 6157, 5597,\n  \"California\", \"Water Heating\", 5061, 4601,\n  \"California\", \"Refrigerator\", 1266, 1055,\n  \"California\", \"Other Appliance\", 7608, 6916,\n  \"California\", \"Total kWh\", 22673, 19458,\n  \n  # Colorado values\n  \"Colorado\", \"Cooling\", 697, 498,\n  \"Colorado\", \"Heating\", 18052, 16411,\n  \"Colorado\", \"Water Heating\", 11667, 5832,\n  \"Colorado\", \"Refrigerator\", 1370, 1142,\n  \"Colorado\", \"Other Appliance\", 7982, 6652,\n  \"Colorado\", \"Total kWh\", 39768, 30535,\n  \n  # Massachusetts values\n  \"Massachusetts\", \"Cooling\", 419, 322,\n  \"Massachusetts\", \"Heating\", 26751, 19108,\n  \"Massachusetts\", \"Water Heating\", 10543, 5070,\n  \"Massachusetts\", \"Refrigerator\", 1230, 1025,\n  \"Massachusetts\", \"Other Appliance\", 7350, 6682,\n  \"Massachusetts\", \"Total kWh\", 46293, 32207\n) |&gt; \n  rowwise() |&gt;\n  mutate(state_abrv=lookup_code(state))\n\n\n\n\n s1 |&gt; \n       filter(#appliance != \"Total kWh\", \n       plan == \"plan1\") %&gt;%\n        group_by(state, appliance, refClass) |&gt; \n        mutate(n_distinct_family = n_distinct(family),\n               n_distinct_state_avg = n_distinct(state_avg), \n               distinct_family = paste(unique(family), collapse = \",\"),\n               distinct_state_avg = paste(unique(state_avg), collapse = \",\")) |&gt;\n        filter(n_distinct_family &gt; 1 | n_distinct_state_avg &gt; 1) |&gt; \n        group_by(state, appliance, refClass, family, state_avg) |&gt; \n        mutate(state_avg_count = n_distinct(state_avg),\n               family_count = n()) |&gt; \n        ungroup() |&gt; \n        group_by(state, appliance, refClass, state_avg) |&gt; \n        mutate(state_avg_count = n()) |&gt; \n        distinct(state, appliance, refClass, family, state_avg, family_count, state_avg_count) |&gt; \n      arrange(state,appliance,refClass,-family_count) |&gt; \n      rowwise() |&gt; \n      mutate(fam_in = family %in% correct_values$family,\n             state_in = state_avg %in% correct_values$state_avg) |&gt;\n       kable() # print(n=25)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nstate\nappliance\nrefClass\nfamily\nstate_avg\nfamily_count\nstate_avg_count\nfam_in\nstate_in\n\n\n\nCAL\nWater Heating\nUSD\n5061.0\n4601\n41\n41\nTRUE\nTRUE\n\n\nCAL\nWater Heating\nUSD\n5124.0\n4534\n1\n1\nFALSE\nFALSE\n\n\nCOL\nHeating\nkWh\n18052.0\n16411\n36\n37\nTRUE\nTRUE\n\n\nCOL\nHeating\nkWh\n340.0\n587\n1\n1\nFALSE\nFALSE\n\n\nCOL\nHeating\nkWh\n11441.0\n16411\n1\n37\nFALSE\nTRUE\n\n\nCOL\nRefrigerator\nkWh\n1370.0\n1142\n37\n38\nTRUE\nTRUE\n\n\nCOL\nRefrigerator\nkWh\n5600.0\n1142\n1\n38\nFALSE\nTRUE\n\n\nCOL\nTotal kWh\nkWh\n39768.0\n30535\n37\n38\nTRUE\nTRUE\n\n\nCOL\nTotal kWh\nkWh\n1500.0\n30535\n1\n38\nFALSE\nTRUE\n\n\nCOL\nWater Heating\nUSD\n11667.0\n5832\n47\n47\nTRUE\nTRUE\n\n\nCOL\nWater Heating\nUSD\n11667.0\n4000\n1\n1\nTRUE\nFALSE\n\n\nMASS\nWater Heating\nUSD\n10543.0\n5070\n45\n46\nTRUE\nTRUE\n\n\nMASS\nWater Heating\nUSD\n1.0\n5070\n1\n46\nFALSE\nTRUE\n\n\nTEX\nHeating\nUSD\n6118.0\n5099\n51\n52\nTRUE\nTRUE\n\n\nTEX\nHeating\nUSD\n1.0\n5099\n1\n52\nFALSE\nTRUE\n\n\nTEX\nOther Appliance\nUSD\n8459.0\n7883\n51\n52\nTRUE\nTRUE\n\n\nTEX\nOther Appliance\nUSD\n5987.0\n7883\n1\n52\nFALSE\nTRUE\n\n\nTEX\nTotal kWh\nkWh\n29046.0\n22945\n41\n41\nTRUE\nTRUE\n\n\nTEX\nTotal kWh\nkWh\n29046.0\n29046\n1\n1\nTRUE\nFALSE\n\n\nTEX\nWater Heating\nPercentage\n5257.0\n4396\n29\n39\nTRUE\nTRUE\n\n\nTEX\nWater Heating\nPercentage\n5.3\n4396\n10\n39\nFALSE\nTRUE\n\n\nTEX\nWater Heating\nUSD\n5257.0\n4396\n49\n51\nTRUE\nTRUE\n\n\nTEX\nWater Heating\nUSD\n5257.0\n400\n1\n1\nTRUE\nFALSE\n\n\nTEX\nWater Heating\nUSD\n34265.0\n4396\n1\n51\nFALSE\nTRUE\n\n\nTEX\nWater Heating\nUSD\n5600.0\n4396\n1\n51\nFALSE\nTRUE\n\n\n\n\n# Function to check values\ncheck_values &lt;- function(data, reference) {\n  # Join the datasets\n  data %&gt;%\n    left_join(reference |&gt; rename(family_true=family,state_true=state_avg), by = c(\"state\" = \"state_abrv\", \"appliance\" = \"appliance\")) %&gt;%\n    mutate(\n      # Convert to numeric to ensure proper comparison\n      family_numeric = as.numeric(family),\n      state_avg_numeric = as.numeric(state_avg),\n      # Flag discrepancies (using a small tolerance for floating point differences)\n      family_discrepant =family_numeric != family_true,\n      state_avg_discrepant = state_avg_numeric != state_true\n    )\n}\n\n\ndiscrepant_counts &lt;- s1 %&gt;%\n  # Remove total kWh as specified\n  #filter(appliance != \"Total kWh\") %&gt;%\n  # Use only one plan to avoid duplicates\n  filter(plan == \"plan1\") %&gt;%\n  # Check against correct values\n  check_values(correct_values) %&gt;%\n  select(id,id2,starts_with(\"sta\"),starts_with(\"fam\"),appliance,refClass) |&gt; \n  # Filter to show only discrepant cases\n  filter(family_discrepant | state_avg_discrepant) %&gt;%\n  # Get unique subject IDs and their discrepancies\n  group_by(refClass,state) %&gt;%\n  summarise(\n    discrepant_states = paste(unique(state), collapse = \", \"),\n    discrepant_appliances = paste(unique(appliance), collapse = \", \"),\n    n_family_discrepancies = sum(family_discrepant),\n    n_state_avg_discrepancies = sum(state_avg_discrepant),\n    .groups = 'drop'\n  )\n\n\n# Identify discrepant subjects\ndiscrepant_subjects &lt;- s1 %&gt;%\n  # Remove total kWh as specified\n  #filter(appliance != \"Total kWh\") %&gt;%\n  # Use only one plan to avoid duplicates\n  filter(plan == \"plan1\") %&gt;%\n  # Check against correct values\n  check_values(correct_values) %&gt;%\n  select(id,id2,refClass,starts_with(\"sta\"),starts_with(\"fam\"),appliance) |&gt; \n  # Filter to show only discrepant cases\n  filter(family_discrepant | state_avg_discrepant) %&gt;%\n  # Get unique subject IDs and their discrepancies\n  group_by(id, id2,refClass) %&gt;%\n  summarise(\n    discrepant_states = paste(unique(state), collapse = \", \"),\n    discrepant_appliances = paste(unique(appliance), collapse = \", \"),\n    n_family_discrepancies = sum(family_discrepant),\n    n_state_avg_discrepancies = sum(state_avg_discrepant),\n    .groups = 'drop'\n  )\n\n\ndiscrepant_counts |&gt; gt()\n\n\n\n\n\nrefClass\nstate\ndiscrepant_states\ndiscrepant_appliances\nn_family_discrepancies\nn_state_avg_discrepancies\n\n\n\nPercentage\nTEX\nTEX\nWater Heating\n10\n0\n\n\nUSD\nCAL\nCAL\nWater Heating\n1\n1\n\n\nUSD\nCOL\nCOL\nWater Heating\n0\n1\n\n\nUSD\nMASS\nMASS\nWater Heating\n1\n0\n\n\nUSD\nTEX\nTEX\nHeating, Water Heating, Other Appliance\n4\n1\n\n\nkWh\nCOL\nCOL\nHeating, Refrigerator, Total kWh\n4\n1\n\n\nkWh\nTEX\nTEX\nTotal kWh\n0\n1\n\n\n\n\n\ndiscrepant_subjects |&gt; gt()\n\n\n\n\n\nid\nid2\nrefClass\ndiscrepant_states\ndiscrepant_appliances\nn_family_discrepancies\nn_state_avg_discrepancies\n\n\n\n1\nR_2QMsYuHS385pTj1\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n2\nR_2tzIyZavpl1RZBY\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n3\nR_3Gm1Y4QzSlyrEWo\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n4\nR_Djh2q728ibyNWjD\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n5\nR_3fAXNbIZ7kFieSu\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n6\nR_1JECzl10KgckJXg\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n7\nR_C2IQAZim25sij4d\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n8\nR_5bbi3tpMOhuGBIR\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n9\nR_2BsVSAOpehXW9Cr\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n10\nR_325F8wRln52w1QN\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n11\nR_263zmNZDB4Pqn9h\nkWh\nCOL\nHeating, Refrigerator, Total kWh\n3\n1\n\n\n12\nR_abEpO6g4xKOlwwF\nkWh\nTEX\nTotal kWh\n0\n1\n\n\n13\nR_2xY1jXZrszORkvQ\nkWh\nCOL\nHeating\n1\n0\n\n\n14\nR_2VsaxwvgHXasQx3\nUSD\nCOL, TEX\nWater Heating, Heating\n1\n2\n\n\n15\nR_1LComHHwPJcvlen\nUSD\nMASS\nWater Heating\n1\n0\n\n\n16\nR_3gNKA8IQr0uOSh3\nUSD\nTEX\nWater Heating, Other Appliance\n2\n0\n\n\n17\nR_2WZ0olQKqnuoe4y\nUSD\nTEX\nWater Heating\n1\n0\n\n\n18\nR_vB56XspT1LqhrkB\nUSD\nCAL\nWater Heating\n1\n1\n\n\n\n\n\ns1_discrep_ids &lt;- discrepant_subjects |&gt; pull(id) |&gt; unique()\n\ns1_discrep_ids\n\n [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18\n\n#saveRDS(s1_discrep_ids,here::here(\"data/s1_discrep_ids.rds\"))\n\n# for every combination of state, appliance, and refClass, calculate the number of distinct values of family, and of state_avg\ns1 |&gt; group_by(state,appliance,refClass) |&gt; \n  filter(appliance != \"Total kWh\") %&gt;%\n  filter(!(id %in% s1_discrep_ids)) |&gt;\n  mutate(state_avg=as.numeric(state_avg)) |&gt; \n  summarise(n_distinct_family=n_distinct(family),\n            n_distinct_state_avg=n_distinct(state_avg), \n            # paste a string of each distinct value, separated by a comma\n            distinct_family=paste(unique(family),collapse=\",\"),\n            distinct_state_avg=paste(unique(state_avg),collapse=\",\")) |&gt;\n  filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) \n\n# A tibble: 0 × 7\n# Groups:   state, appliance [0]\n# ℹ 7 variables: state &lt;chr&gt;, appliance &lt;chr&gt;, refClass &lt;chr&gt;,\n#   n_distinct_family &lt;int&gt;, n_distinct_state_avg &lt;int&gt;, distinct_family &lt;chr&gt;,\n#   distinct_state_avg &lt;chr&gt;\n\n# &lt;!-- issue in slides where colorado cooling is shown as 489 in a few cases instead of 498 - all of the data has 498. 498 corresponds with total value as well  --&gt;\ns1 |&gt; filter(state==\"COL\",appliance==\"Cooling\") |&gt; pull(state_avg) |&gt; unique() #498\n\n&lt;labelled&lt;double&gt;[1]&gt;: Which of these action plans that you created would you prefer to implement?\n[1] 498\n\nLabels:\n value         label\n     1 Action Plan 1\n     2 Action Plan 2\n\ns2_long |&gt; filter(state==\"Colorado\",appliance==\"AC\") |&gt; pull(state_avg) |&gt; unique() #498\n\n[1] 498\n\ns1 |&gt; select(id,id2,starts_with(\"sta\"),starts_with(\"fam\"),appliance,refClass,plan,value) |&gt; check_values(correct_values) %&gt;% \nfilter(plan==\"plan1\") |&gt; \nselect(-state_f_dif,-state_p_dif,-plan,-state.y,-state_avg) |&gt; ungroup() |&gt; as_tibble() |&gt; \nrelocate(id,state, appliance,value,family_numeric,family_true,state_avg_numeric,state_true, family_discrepant,state_avg_discrepant) |&gt;\n# mutate to turn applilance, state and id columns into factors\nmutate(across(c(appliance,state,id),factor)) |&gt;\n#reactable::reactable()\n  DT::datatable(extensions = 'Buttons',\n    options = list(\n       dom = 'Blfrtip',\n       buttons = list('copy', 'csv', 'excel', 'pdf', 'print'),\n      pageLength = 25,\n      autoWidth = TRUE\n    ),\n    filter = 'top') \n\n\n\n\n\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\")) |&gt; select(P3TEX15) |&gt; unique()\n\n# A tibble: 2 × 1\n  P3TEX15\n    &lt;dbl&gt;\n1    5.26\n2   NA   \n\ns1 |&gt; filter(id==18,plan==\"plan1\")\n\n# A tibble: 12 × 21\n# Groups:   id [1]\n      id state1     state2   refClass calc            edu   modality state id2  \n   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;           &lt;fct&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;\n 1    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 2    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 3    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 4    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 5    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 6    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 7    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n 8    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n 9    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n10    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n11    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n12    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n# ℹ 12 more variables: Duration__in_seconds_ &lt;dbl&gt;, appliance &lt;chr&gt;,\n#   family &lt;dbl&gt;, state_avg &lt;dbl+lbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;, block &lt;dbl&gt;,\n#   pct_goal &lt;dbl&gt;, change &lt;dbl&gt;, state_p_dif &lt;dbl&gt;, state_f_dif &lt;dbl&gt;,\n#   less_avg &lt;lgl&gt;\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\")) |&gt;\n  filter(ResponseId == \"R_vB56XspT1LqhrkB\") |&gt;\n  # Select columns with non-NA values and not empty strings, handling character and numeric columns separately\n  select(\n    where(~ is.numeric(.) && !all(is.na(.))),\n    where(~ is.character(.) && !all(is.na(.)) && !all(. == \"\"))\n  ) |&gt;\n  # Remove columns that start with \"AIN\"\n  select(-starts_with(\"AIN\"))\n\n# A tibble: 1 × 108\n  Progress Duration__in_seconds_ Finished  Consent       D1CAL01 D1CAL02 D1CAL03\n     &lt;dbl&gt;                 &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;dbl+lbl&gt;     &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt;\n1      100                  1379 1 [True]  1 [Yes I agr… 3 [Wat… 1 [1]   3 [3]  \n# ℹ 101 more variables: D1CAL04 &lt;dbl+lbl&gt;, D1CAL05 &lt;dbl+lbl&gt;,\n#   D1CAL06 &lt;dbl+lbl&gt;, D1CAL07 &lt;dbl&gt;, D1CAL08 &lt;dbl&gt;, D1CAL09 &lt;dbl&gt;,\n#   D1CAL10 &lt;dbl&gt;, D1CAL11 &lt;dbl&gt;, D1CAL12 &lt;dbl&gt;, D1CAL13 &lt;dbl&gt;, D1CAL14 &lt;dbl&gt;,\n#   D1CAL15 &lt;dbl&gt;, D1CAL16 &lt;dbl&gt;, D1CAL17 &lt;dbl&gt;, D1CAL18 &lt;dbl&gt;, D1CAL19 &lt;dbl&gt;,\n#   D1CAL20 &lt;dbl&gt;, D1CAL21 &lt;dbl&gt;, D1CAL22 &lt;dbl&gt;, D1CAL23 &lt;dbl&gt;, D1CAL24 &lt;dbl&gt;,\n#   D1CAL25 &lt;dbl&gt;, D1CAL26 &lt;dbl&gt;, D1CAL27 &lt;dbl&gt;, D1CAL28 &lt;dbl&gt;, D1CAL29 &lt;dbl&gt;,\n#   D1CAL30 &lt;dbl&gt;, D1CAL31 &lt;dbl+lbl&gt;, D1CAL34 &lt;dbl+lbl&gt;, D1CAL35 &lt;dbl+lbl&gt;, …\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\"))  |&gt; select_if(~any(. ==5124)) |&gt; \n  # filter out any NAs from any column that is left (we don't know the column names)\n  filter_all(any_vars(!is.na(.)))\n\n# A tibble: 10 × 1\n   D1CAL15\n     &lt;dbl&gt;\n 1    5124\n 2    5061\n 3    5061\n 4    5061\n 5    5061\n 6    5061\n 7    5061\n 8    5061\n 9    5061\n10    5061",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Discrep_Patterns"
    ]
  },
  {
    "objectID": "misc/discrep.html#study-1",
    "href": "misc/discrep.html#study-1",
    "title": "Discrep_Patterns",
    "section": "",
    "text": "library(pacman)\npacman::p_load(dplyr,purrr,tidyr,here,tibble, haven,\n               ggplot2,gt,knitr,kableExtra,ggh4x,ggdist,gghalves,patchwork,lme4,flextable)\noptions(digits=2, scipen=999, dplyr.summarise.inform=FALSE)\nwalk(c(\"fun_plot\"), ~ source(here::here(paste0(\"scripts/\", .x, \".R\"))))\ntheme_set(theme_nice())\n\ns1 &lt;- readRDS(here::here(\"data/s1_processed.rds\"))\ns2_long &lt;- readRDS(here::here(\"data/s2_processed.rds\"))\n\n\ns1 %&gt;%\n  filter(appliance != \"Total kWh\", plan == \"plan1\") %&gt;%\n  group_by(appliance, state, refClass) %&gt;%\n  mutate(distinct_state_avg = n_distinct(state_avg)) %&gt;%\n  ungroup() %&gt;%\n  filter(distinct_state_avg &gt; 1) %&gt;%\n  group_by(appliance, state_avg, state, refClass) |&gt; arrange(id)\n\n# A tibble: 180 × 22\n# Groups:   appliance, state_avg, state, refClass [8]\n      id state1     state2        refClass calc       edu   modality state id2  \n   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;         &lt;chr&gt;    &lt;chr&gt;      &lt;fct&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;\n 1    11 California Colorado      kWh      Used Calc… Grad… A        COL   R_26…\n 2    12 Colorado   Texas         kWh      Used Calc… Grad… A        COL   R_ab…\n 3    13 Colorado   California    kWh      Used Calc… Grad… A        COL   R_2x…\n 4    14 Colorado   Texas         USD      No Calcul… Coll… D        COL   R_2V…\n 5    14 Colorado   Texas         USD      No Calcul… Coll… D        TEX   R_2V…\n 6    15 California Massachusetts USD      Used Calc… Coll… D        CAL   R_1L…\n 7    16 Texas      Massachusetts USD      Used Calc… Coll… D        TEX   R_3g…\n 8    17 Texas      Colorado      USD      No Calcul… Grad… D        TEX   R_2W…\n 9    17 Texas      Colorado      USD      No Calcul… Grad… D        COL   R_2W…\n10    18 California Colorado      USD      Used Calc… Grad… D        CAL   R_vB…\n# ℹ 170 more rows\n# ℹ 13 more variables: Duration__in_seconds_ &lt;dbl&gt;, appliance &lt;chr&gt;,\n#   family &lt;dbl&gt;, state_avg &lt;dbl+lbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;, block &lt;dbl&gt;,\n#   pct_goal &lt;dbl&gt;, change &lt;dbl&gt;, state_p_dif &lt;dbl&gt;, state_f_dif &lt;dbl&gt;,\n#   less_avg &lt;lgl&gt;, distinct_state_avg &lt;int&gt;\n\ns1 |&gt; group_by(state,appliance,refClass) |&gt; \n  mutate(state_avg=as.numeric(state_avg)) |&gt; \n  mutate(n_distinct_family=n_distinct(family),\n            n_distinct_state_avg=n_distinct(state_avg), \n            # paste a string of each distinct value, separated by a comma\n            distinct_family=paste(unique(family),collapse=\",\"),\n            distinct_state_avg=paste(unique(state_avg),collapse=\",\")) |&gt;\n  filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) \n\n# A tibble: 974 × 25\n# Groups:   state, appliance, refClass [11]\n      id state1   state2 refClass   calc            edu     modality state id2  \n   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;           &lt;fct&gt;   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;\n 1     1 Colorado Texas  Percentage Used Calculator Gradua… P        TEX   R_2Q…\n 2     1 Colorado Texas  Percentage Used Calculator Gradua… P        TEX   R_2Q…\n 3     2 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_2t…\n 4     2 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_2t…\n 5     3 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_3G…\n 6     3 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_3G…\n 7     4 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_Dj…\n 8     4 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_Dj…\n 9     5 Colorado Texas  Percentage No Calculator   Gradua… P        TEX   R_3f…\n10     5 Colorado Texas  Percentage No Calculator   Gradua… P        TEX   R_3f…\n# ℹ 964 more rows\n# ℹ 16 more variables: Duration__in_seconds_ &lt;dbl&gt;, appliance &lt;chr&gt;,\n#   family &lt;dbl&gt;, state_avg &lt;dbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;, block &lt;dbl&gt;,\n#   pct_goal &lt;dbl&gt;, change &lt;dbl&gt;, state_p_dif &lt;dbl&gt;, state_f_dif &lt;dbl&gt;,\n#   less_avg &lt;lgl&gt;, n_distinct_family &lt;int&gt;, n_distinct_state_avg &lt;int&gt;,\n#   distinct_family &lt;chr&gt;, distinct_state_avg &lt;chr&gt;\n\ns1 %&gt;%\n  filter(appliance != \"Total kWh\", plan == \"plan1\") %&gt;%\n  group_by(appliance, state, refClass) %&gt;%\n  mutate(\n    distinct_families = n_distinct(family),\n    distinct_state_avgs = n_distinct(state_avg),\n  ) %&gt;%\n  ungroup() %&gt;%\n  filter(distinct_families &gt; 1 | distinct_state_avgs&gt;1) %&gt;%\n  group_by(appliance, family, state, refClass) %&gt;%\n  summarise(n = n(), .groups = \"drop\") |&gt; gt()\n\n\n\n\n\nappliance\nfamily\nstate\nrefClass\nn\n\n\n\nHeating\n1.0\nTEX\nUSD\n1\n\n\nHeating\n340.0\nCOL\nkWh\n1\n\n\nHeating\n6118.0\nTEX\nUSD\n51\n\n\nHeating\n11441.0\nCOL\nkWh\n1\n\n\nHeating\n18052.0\nCOL\nkWh\n36\n\n\nOther Appliance\n5987.0\nTEX\nUSD\n1\n\n\nOther Appliance\n8459.0\nTEX\nUSD\n51\n\n\nRefrigerator\n1370.0\nCOL\nkWh\n37\n\n\nRefrigerator\n5600.0\nCOL\nkWh\n1\n\n\nWater Heating\n1.0\nMASS\nUSD\n1\n\n\nWater Heating\n5.3\nTEX\nPercentage\n10\n\n\nWater Heating\n5061.0\nCAL\nUSD\n41\n\n\nWater Heating\n5124.0\nCAL\nUSD\n1\n\n\nWater Heating\n5257.0\nTEX\nPercentage\n29\n\n\nWater Heating\n5257.0\nTEX\nUSD\n50\n\n\nWater Heating\n5600.0\nTEX\nUSD\n1\n\n\nWater Heating\n10543.0\nMASS\nUSD\n45\n\n\nWater Heating\n11667.0\nCOL\nUSD\n48\n\n\nWater Heating\n34265.0\nTEX\nUSD\n1\n\n\n\n\n\n\n\nstate_code_map &lt;- c(\n  \"CAL\" = \"California\",\n  \"TEX\" = \"Texas\",\n  \"COL\" = \"Colorado\",\n  \"MASS\" = \"Massachusetts\"\n)\n\n\nstate_to_code &lt;- state_code_map\ncode_to_state &lt;- setNames(names(state_code_map), state_code_map)\nlookup_code &lt;- function(state) {\n  if (state %in% names(state_to_code)) {\n    return(state_to_code[[state]])\n  } else if (state %in% names(code_to_state)) {\n    return(code_to_state[[state]])\n  } else {\n    return(NA)  # Return NA if not found in either mapping\n  }\n}\n\n\ncorrect_values &lt;- tribble(\n  ~state, ~appliance, ~family, ~state_avg,\n  # Texas values\n  \"Texas\", \"Cooling\", 6573, 4249,\n  \"Texas\", \"Heating\", 6118, 5099,\n  \"Texas\", \"Water Heating\", 5257, 4396,\n  \"Texas\", \"Refrigerator\", 2639, 1318,\n  \"Texas\", \"Other Appliance\", 8459, 7883,\n  \"Texas\", \"Total kWh\", 29046, 22945,\n  \n  # California values\n  \"California\", \"Cooling\", 2581, 1289,\n  \"California\", \"Heating\", 6157, 5597,\n  \"California\", \"Water Heating\", 5061, 4601,\n  \"California\", \"Refrigerator\", 1266, 1055,\n  \"California\", \"Other Appliance\", 7608, 6916,\n  \"California\", \"Total kWh\", 22673, 19458,\n  \n  # Colorado values\n  \"Colorado\", \"Cooling\", 697, 498,\n  \"Colorado\", \"Heating\", 18052, 16411,\n  \"Colorado\", \"Water Heating\", 11667, 5832,\n  \"Colorado\", \"Refrigerator\", 1370, 1142,\n  \"Colorado\", \"Other Appliance\", 7982, 6652,\n  \"Colorado\", \"Total kWh\", 39768, 30535,\n  \n  # Massachusetts values\n  \"Massachusetts\", \"Cooling\", 419, 322,\n  \"Massachusetts\", \"Heating\", 26751, 19108,\n  \"Massachusetts\", \"Water Heating\", 10543, 5070,\n  \"Massachusetts\", \"Refrigerator\", 1230, 1025,\n  \"Massachusetts\", \"Other Appliance\", 7350, 6682,\n  \"Massachusetts\", \"Total kWh\", 46293, 32207\n) |&gt; \n  rowwise() |&gt;\n  mutate(state_abrv=lookup_code(state))\n\n\n\n\n s1 |&gt; \n       filter(#appliance != \"Total kWh\", \n       plan == \"plan1\") %&gt;%\n        group_by(state, appliance, refClass) |&gt; \n        mutate(n_distinct_family = n_distinct(family),\n               n_distinct_state_avg = n_distinct(state_avg), \n               distinct_family = paste(unique(family), collapse = \",\"),\n               distinct_state_avg = paste(unique(state_avg), collapse = \",\")) |&gt;\n        filter(n_distinct_family &gt; 1 | n_distinct_state_avg &gt; 1) |&gt; \n        group_by(state, appliance, refClass, family, state_avg) |&gt; \n        mutate(state_avg_count = n_distinct(state_avg),\n               family_count = n()) |&gt; \n        ungroup() |&gt; \n        group_by(state, appliance, refClass, state_avg) |&gt; \n        mutate(state_avg_count = n()) |&gt; \n        distinct(state, appliance, refClass, family, state_avg, family_count, state_avg_count) |&gt; \n      arrange(state,appliance,refClass,-family_count) |&gt; \n      rowwise() |&gt; \n      mutate(fam_in = family %in% correct_values$family,\n             state_in = state_avg %in% correct_values$state_avg) |&gt;\n       kable() # print(n=25)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nstate\nappliance\nrefClass\nfamily\nstate_avg\nfamily_count\nstate_avg_count\nfam_in\nstate_in\n\n\n\nCAL\nWater Heating\nUSD\n5061.0\n4601\n41\n41\nTRUE\nTRUE\n\n\nCAL\nWater Heating\nUSD\n5124.0\n4534\n1\n1\nFALSE\nFALSE\n\n\nCOL\nHeating\nkWh\n18052.0\n16411\n36\n37\nTRUE\nTRUE\n\n\nCOL\nHeating\nkWh\n340.0\n587\n1\n1\nFALSE\nFALSE\n\n\nCOL\nHeating\nkWh\n11441.0\n16411\n1\n37\nFALSE\nTRUE\n\n\nCOL\nRefrigerator\nkWh\n1370.0\n1142\n37\n38\nTRUE\nTRUE\n\n\nCOL\nRefrigerator\nkWh\n5600.0\n1142\n1\n38\nFALSE\nTRUE\n\n\nCOL\nTotal kWh\nkWh\n39768.0\n30535\n37\n38\nTRUE\nTRUE\n\n\nCOL\nTotal kWh\nkWh\n1500.0\n30535\n1\n38\nFALSE\nTRUE\n\n\nCOL\nWater Heating\nUSD\n11667.0\n5832\n47\n47\nTRUE\nTRUE\n\n\nCOL\nWater Heating\nUSD\n11667.0\n4000\n1\n1\nTRUE\nFALSE\n\n\nMASS\nWater Heating\nUSD\n10543.0\n5070\n45\n46\nTRUE\nTRUE\n\n\nMASS\nWater Heating\nUSD\n1.0\n5070\n1\n46\nFALSE\nTRUE\n\n\nTEX\nHeating\nUSD\n6118.0\n5099\n51\n52\nTRUE\nTRUE\n\n\nTEX\nHeating\nUSD\n1.0\n5099\n1\n52\nFALSE\nTRUE\n\n\nTEX\nOther Appliance\nUSD\n8459.0\n7883\n51\n52\nTRUE\nTRUE\n\n\nTEX\nOther Appliance\nUSD\n5987.0\n7883\n1\n52\nFALSE\nTRUE\n\n\nTEX\nTotal kWh\nkWh\n29046.0\n22945\n41\n41\nTRUE\nTRUE\n\n\nTEX\nTotal kWh\nkWh\n29046.0\n29046\n1\n1\nTRUE\nFALSE\n\n\nTEX\nWater Heating\nPercentage\n5257.0\n4396\n29\n39\nTRUE\nTRUE\n\n\nTEX\nWater Heating\nPercentage\n5.3\n4396\n10\n39\nFALSE\nTRUE\n\n\nTEX\nWater Heating\nUSD\n5257.0\n4396\n49\n51\nTRUE\nTRUE\n\n\nTEX\nWater Heating\nUSD\n5257.0\n400\n1\n1\nTRUE\nFALSE\n\n\nTEX\nWater Heating\nUSD\n34265.0\n4396\n1\n51\nFALSE\nTRUE\n\n\nTEX\nWater Heating\nUSD\n5600.0\n4396\n1\n51\nFALSE\nTRUE\n\n\n\n\n# Function to check values\ncheck_values &lt;- function(data, reference) {\n  # Join the datasets\n  data %&gt;%\n    left_join(reference |&gt; rename(family_true=family,state_true=state_avg), by = c(\"state\" = \"state_abrv\", \"appliance\" = \"appliance\")) %&gt;%\n    mutate(\n      # Convert to numeric to ensure proper comparison\n      family_numeric = as.numeric(family),\n      state_avg_numeric = as.numeric(state_avg),\n      # Flag discrepancies (using a small tolerance for floating point differences)\n      family_discrepant =family_numeric != family_true,\n      state_avg_discrepant = state_avg_numeric != state_true\n    )\n}\n\n\ndiscrepant_counts &lt;- s1 %&gt;%\n  # Remove total kWh as specified\n  #filter(appliance != \"Total kWh\") %&gt;%\n  # Use only one plan to avoid duplicates\n  filter(plan == \"plan1\") %&gt;%\n  # Check against correct values\n  check_values(correct_values) %&gt;%\n  select(id,id2,starts_with(\"sta\"),starts_with(\"fam\"),appliance,refClass) |&gt; \n  # Filter to show only discrepant cases\n  filter(family_discrepant | state_avg_discrepant) %&gt;%\n  # Get unique subject IDs and their discrepancies\n  group_by(refClass,state) %&gt;%\n  summarise(\n    discrepant_states = paste(unique(state), collapse = \", \"),\n    discrepant_appliances = paste(unique(appliance), collapse = \", \"),\n    n_family_discrepancies = sum(family_discrepant),\n    n_state_avg_discrepancies = sum(state_avg_discrepant),\n    .groups = 'drop'\n  )\n\n\n# Identify discrepant subjects\ndiscrepant_subjects &lt;- s1 %&gt;%\n  # Remove total kWh as specified\n  #filter(appliance != \"Total kWh\") %&gt;%\n  # Use only one plan to avoid duplicates\n  filter(plan == \"plan1\") %&gt;%\n  # Check against correct values\n  check_values(correct_values) %&gt;%\n  select(id,id2,refClass,starts_with(\"sta\"),starts_with(\"fam\"),appliance) |&gt; \n  # Filter to show only discrepant cases\n  filter(family_discrepant | state_avg_discrepant) %&gt;%\n  # Get unique subject IDs and their discrepancies\n  group_by(id, id2,refClass) %&gt;%\n  summarise(\n    discrepant_states = paste(unique(state), collapse = \", \"),\n    discrepant_appliances = paste(unique(appliance), collapse = \", \"),\n    n_family_discrepancies = sum(family_discrepant),\n    n_state_avg_discrepancies = sum(state_avg_discrepant),\n    .groups = 'drop'\n  )\n\n\ndiscrepant_counts |&gt; gt()\n\n\n\n\n\nrefClass\nstate\ndiscrepant_states\ndiscrepant_appliances\nn_family_discrepancies\nn_state_avg_discrepancies\n\n\n\nPercentage\nTEX\nTEX\nWater Heating\n10\n0\n\n\nUSD\nCAL\nCAL\nWater Heating\n1\n1\n\n\nUSD\nCOL\nCOL\nWater Heating\n0\n1\n\n\nUSD\nMASS\nMASS\nWater Heating\n1\n0\n\n\nUSD\nTEX\nTEX\nHeating, Water Heating, Other Appliance\n4\n1\n\n\nkWh\nCOL\nCOL\nHeating, Refrigerator, Total kWh\n4\n1\n\n\nkWh\nTEX\nTEX\nTotal kWh\n0\n1\n\n\n\n\n\ndiscrepant_subjects |&gt; gt()\n\n\n\n\n\nid\nid2\nrefClass\ndiscrepant_states\ndiscrepant_appliances\nn_family_discrepancies\nn_state_avg_discrepancies\n\n\n\n1\nR_2QMsYuHS385pTj1\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n2\nR_2tzIyZavpl1RZBY\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n3\nR_3Gm1Y4QzSlyrEWo\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n4\nR_Djh2q728ibyNWjD\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n5\nR_3fAXNbIZ7kFieSu\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n6\nR_1JECzl10KgckJXg\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n7\nR_C2IQAZim25sij4d\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n8\nR_5bbi3tpMOhuGBIR\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n9\nR_2BsVSAOpehXW9Cr\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n10\nR_325F8wRln52w1QN\nPercentage\nTEX\nWater Heating\n1\n0\n\n\n11\nR_263zmNZDB4Pqn9h\nkWh\nCOL\nHeating, Refrigerator, Total kWh\n3\n1\n\n\n12\nR_abEpO6g4xKOlwwF\nkWh\nTEX\nTotal kWh\n0\n1\n\n\n13\nR_2xY1jXZrszORkvQ\nkWh\nCOL\nHeating\n1\n0\n\n\n14\nR_2VsaxwvgHXasQx3\nUSD\nCOL, TEX\nWater Heating, Heating\n1\n2\n\n\n15\nR_1LComHHwPJcvlen\nUSD\nMASS\nWater Heating\n1\n0\n\n\n16\nR_3gNKA8IQr0uOSh3\nUSD\nTEX\nWater Heating, Other Appliance\n2\n0\n\n\n17\nR_2WZ0olQKqnuoe4y\nUSD\nTEX\nWater Heating\n1\n0\n\n\n18\nR_vB56XspT1LqhrkB\nUSD\nCAL\nWater Heating\n1\n1\n\n\n\n\n\ns1_discrep_ids &lt;- discrepant_subjects |&gt; pull(id) |&gt; unique()\n\ns1_discrep_ids\n\n [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18\n\n#saveRDS(s1_discrep_ids,here::here(\"data/s1_discrep_ids.rds\"))\n\n# for every combination of state, appliance, and refClass, calculate the number of distinct values of family, and of state_avg\ns1 |&gt; group_by(state,appliance,refClass) |&gt; \n  filter(appliance != \"Total kWh\") %&gt;%\n  filter(!(id %in% s1_discrep_ids)) |&gt;\n  mutate(state_avg=as.numeric(state_avg)) |&gt; \n  summarise(n_distinct_family=n_distinct(family),\n            n_distinct_state_avg=n_distinct(state_avg), \n            # paste a string of each distinct value, separated by a comma\n            distinct_family=paste(unique(family),collapse=\",\"),\n            distinct_state_avg=paste(unique(state_avg),collapse=\",\")) |&gt;\n  filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) \n\n# A tibble: 0 × 7\n# Groups:   state, appliance [0]\n# ℹ 7 variables: state &lt;chr&gt;, appliance &lt;chr&gt;, refClass &lt;chr&gt;,\n#   n_distinct_family &lt;int&gt;, n_distinct_state_avg &lt;int&gt;, distinct_family &lt;chr&gt;,\n#   distinct_state_avg &lt;chr&gt;\n\n# &lt;!-- issue in slides where colorado cooling is shown as 489 in a few cases instead of 498 - all of the data has 498. 498 corresponds with total value as well  --&gt;\ns1 |&gt; filter(state==\"COL\",appliance==\"Cooling\") |&gt; pull(state_avg) |&gt; unique() #498\n\n&lt;labelled&lt;double&gt;[1]&gt;: Which of these action plans that you created would you prefer to implement?\n[1] 498\n\nLabels:\n value         label\n     1 Action Plan 1\n     2 Action Plan 2\n\ns2_long |&gt; filter(state==\"Colorado\",appliance==\"AC\") |&gt; pull(state_avg) |&gt; unique() #498\n\n[1] 498\n\ns1 |&gt; select(id,id2,starts_with(\"sta\"),starts_with(\"fam\"),appliance,refClass,plan,value) |&gt; check_values(correct_values) %&gt;% \nfilter(plan==\"plan1\") |&gt; \nselect(-state_f_dif,-state_p_dif,-plan,-state.y,-state_avg) |&gt; ungroup() |&gt; as_tibble() |&gt; \nrelocate(id,state, appliance,value,family_numeric,family_true,state_avg_numeric,state_true, family_discrepant,state_avg_discrepant) |&gt;\n# mutate to turn applilance, state and id columns into factors\nmutate(across(c(appliance,state,id),factor)) |&gt;\n#reactable::reactable()\n  DT::datatable(extensions = 'Buttons',\n    options = list(\n       dom = 'Blfrtip',\n       buttons = list('copy', 'csv', 'excel', 'pdf', 'print'),\n      pageLength = 25,\n      autoWidth = TRUE\n    ),\n    filter = 'top') \n\n\n\n\n\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\")) |&gt; select(P3TEX15) |&gt; unique()\n\n# A tibble: 2 × 1\n  P3TEX15\n    &lt;dbl&gt;\n1    5.26\n2   NA   \n\ns1 |&gt; filter(id==18,plan==\"plan1\")\n\n# A tibble: 12 × 21\n# Groups:   id [1]\n      id state1     state2   refClass calc            edu   modality state id2  \n   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;           &lt;fct&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;\n 1    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 2    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 3    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 4    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 5    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 6    18 California Colorado USD      Used Calculator Grad… D        CAL   R_vB…\n 7    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n 8    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n 9    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n10    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n11    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n12    18 California Colorado USD      Used Calculator Grad… D        COL   R_vB…\n# ℹ 12 more variables: Duration__in_seconds_ &lt;dbl&gt;, appliance &lt;chr&gt;,\n#   family &lt;dbl&gt;, state_avg &lt;dbl+lbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;, block &lt;dbl&gt;,\n#   pct_goal &lt;dbl&gt;, change &lt;dbl&gt;, state_p_dif &lt;dbl&gt;, state_f_dif &lt;dbl&gt;,\n#   less_avg &lt;lgl&gt;\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\")) |&gt;\n  filter(ResponseId == \"R_vB56XspT1LqhrkB\") |&gt;\n  # Select columns with non-NA values and not empty strings, handling character and numeric columns separately\n  select(\n    where(~ is.numeric(.) && !all(is.na(.))),\n    where(~ is.character(.) && !all(is.na(.)) && !all(. == \"\"))\n  ) |&gt;\n  # Remove columns that start with \"AIN\"\n  select(-starts_with(\"AIN\"))\n\n# A tibble: 1 × 108\n  Progress Duration__in_seconds_ Finished  Consent       D1CAL01 D1CAL02 D1CAL03\n     &lt;dbl&gt;                 &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;dbl+lbl&gt;     &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt;\n1      100                  1379 1 [True]  1 [Yes I agr… 3 [Wat… 1 [1]   3 [3]  \n# ℹ 101 more variables: D1CAL04 &lt;dbl+lbl&gt;, D1CAL05 &lt;dbl+lbl&gt;,\n#   D1CAL06 &lt;dbl+lbl&gt;, D1CAL07 &lt;dbl&gt;, D1CAL08 &lt;dbl&gt;, D1CAL09 &lt;dbl&gt;,\n#   D1CAL10 &lt;dbl&gt;, D1CAL11 &lt;dbl&gt;, D1CAL12 &lt;dbl&gt;, D1CAL13 &lt;dbl&gt;, D1CAL14 &lt;dbl&gt;,\n#   D1CAL15 &lt;dbl&gt;, D1CAL16 &lt;dbl&gt;, D1CAL17 &lt;dbl&gt;, D1CAL18 &lt;dbl&gt;, D1CAL19 &lt;dbl&gt;,\n#   D1CAL20 &lt;dbl&gt;, D1CAL21 &lt;dbl&gt;, D1CAL22 &lt;dbl&gt;, D1CAL23 &lt;dbl&gt;, D1CAL24 &lt;dbl&gt;,\n#   D1CAL25 &lt;dbl&gt;, D1CAL26 &lt;dbl&gt;, D1CAL27 &lt;dbl&gt;, D1CAL28 &lt;dbl&gt;, D1CAL29 &lt;dbl&gt;,\n#   D1CAL30 &lt;dbl&gt;, D1CAL31 &lt;dbl+lbl&gt;, D1CAL34 &lt;dbl+lbl&gt;, D1CAL35 &lt;dbl+lbl&gt;, …\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\"))  |&gt; select_if(~any(. ==5124)) |&gt; \n  # filter out any NAs from any column that is left (we don't know the column names)\n  filter_all(any_vars(!is.na(.)))\n\n# A tibble: 10 × 1\n   D1CAL15\n     &lt;dbl&gt;\n 1    5124\n 2    5061\n 3    5061\n 4    5061\n 5    5061\n 6    5061\n 7    5061\n 8    5061\n 9    5061\n10    5061",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Discrep_Patterns"
    ]
  },
  {
    "objectID": "misc/discrep.html#study-2",
    "href": "misc/discrep.html#study-2",
    "title": "Discrep_Patterns",
    "section": "Study 2",
    "text": "Study 2\nCounts per unique value of family prior year, and state average\n\ncorrect_values_s2 &lt;- tribble(\n  ~state, ~appliance, ~family_exact, ~family_rounded, ~state_avg,\n  # Texas values (Smith Family)\n  \"Texas\", \"Cooling\", 6573, 7000, 4249,\n  \"Texas\", \"Heating\", 6118, 6000, 5099,\n  \"Texas\", \"Water Heating\", 5257, 5000, 4396,\n  \"Texas\", \"Refrigerator\", 2639, 3000, 1318,\n  \"Texas\", \"Other Appliance\", 8459, 8000, 7883,\n  \"Texas\", \"Total kWh\", 29046, 29000, 22945,\n  \n  # California values (Adams Family)\n  \"California\", \"Cooling\", 2581, 3000, 1289,\n  \"California\", \"Heating\", 6157, 6000, 5597,\n  \"California\", \"Water Heating\", 5061, 5000, 4601,\n  \"California\", \"Refrigerator\", 1266, 1000, 1055,\n  \"California\", \"Other Appliance\", 7608, 8000, 6916,\n  \"California\", \"Total kWh\", 22673, 23000, 19458,\n  \n  # Colorado values (Wells Family)\n  \"Colorado\", \"Cooling\", 697, 1000, 498,\n  \"Colorado\", \"Heating\", 18052, 18000, 16411,\n  \"Colorado\", \"Water Heating\", 11667, 12000, 5832,\n  \"Colorado\", \"Refrigerator\", 1370, 1000, 1142,\n  \"Colorado\", \"Other Appliance\", 7982, 8000, 6652,\n  \"Colorado\", \"Total kWh\", 39768, 40000, 30535,\n  \n  # Massachusetts values (Davis Family)\n  \"Massachusetts\", \"Cooling\", 419, 0, 322,\n  \"Massachusetts\", \"Heating\", 26751, 27000, 19108,\n  \"Massachusetts\", \"Water Heating\", 10543, 11000, 5070,\n  \"Massachusetts\", \"Refrigerator\", 1230, 1000, 1025,\n  \"Massachusetts\", \"Other Appliance\", 7350, 7000, 6682,\n  \"Massachusetts\", \"Total kWh\", 46293, 46000, 32207\n) %&gt;%\n  rowwise() %&gt;%\n  mutate(\n    state_abrv = case_when(\n      state == \"Texas\" ~ \"TEX\",\n      state == \"California\" ~ \"CAL\",\n      state == \"Colorado\" ~ \"COL\",\n      state == \"Massachusetts\" ~ \"MASS\"\n    ),\n    app_abrv = case_when(\n      appliance == \"Cooling\" ~ \"AC\",\n      appliance == \"Heating\" ~ \"HEAT\",\n      appliance == \"Water Heating\" ~ \"WATER\",\n      appliance == \"Refrigerator\" ~ \"REFRIG\",\n      appliance == \"Other Appliance\" ~ \"OTHER\",\n      appliance == \"Total kWh\" ~ \"TOTAL\"\n    ),\n    family_name = case_when(\n      state == \"Texas\" ~ \"Smith Family\",\n      state == \"California\" ~ \"Adams Family\",\n      state == \"Colorado\" ~ \"Wells Family\",\n      state == \"Massachusetts\" ~ \"Davis Family\"\n    ))\n\n\n\n\n\n\ns2_long %&gt;%\n  filter( plan == \"plan1\") %&gt;%\n  group_by(appliance, rounded, state,pct_goal) %&gt;%\n  mutate(\n    distinct_families = n_distinct(family),\n    distinct_state_avg = n_distinct(state_avg),\n  ) %&gt;% \n  filter(distinct_families &gt; 1 | distinct_state_avg &gt; 1)  |&gt; \n   group_by(appliance, rounded, state,pct_goal, family) |&gt;\n   mutate(family_count = n()) |&gt;\n   group_by(appliance, rounded, state,pct_goal, state_avg) |&gt;\n    mutate(state_avg_count = n()) |&gt;\n  distinct(rounded,state,refClass,appliance,family,state_avg,state_avg_count,family_count) |&gt; \n     rowwise() |&gt; \n  mutate(\n    fam_in = if (rounded == \"Rounded\") {\n      family %in% correct_values_s2$family_rounded\n    } else {\n      family %in% correct_values_s2$family_exact\n    },\n    state_in = state_avg %in% correct_values_s2$state_avg\n  ) |&gt; arrange(rounded,refClass,state,appliance,family_count) |&gt; \n  relocate(rounded,pct_goal,refClass,state,appliance,family,family_count,state_avg,state_avg_count,fam_in,state_in) |&gt; \n  kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nrounded\npct_goal\nrefClass\nstate\nappliance\nfamily\nfamily_count\nstate_avg\nstate_avg_count\nfam_in\nstate_in\n\n\n\nNot Rounded\n10%\nPercentage\nCalifornia\nHEAT\n6157.0\n30\n5597\n31\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nColorado\nWATER\n11667.0\n22\n1142\n1\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nColorado\nWATER\n11667.0\n22\n5832\n21\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nTexas\nHEAT\n5.0\n1\n5099\n26\nFALSE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nTexas\nHEAT\n6118.0\n24\n5099\n26\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nTexas\nWATER\n5.3\n4\n4396\n26\nFALSE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nTexas\nWATER\n5257.0\n22\n4396\n26\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nUSD\nCalifornia\nHEAT\n6157.0\n30\n5597\n31\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nUSD\nColorado\nWATER\n11667.0\n22\n5832\n21\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nUSD\nTexas\nHEAT\n6118.0\n24\n5099\n26\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nUSD\nTexas\nWATER\n5257.0\n22\n4396\n26\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nCalifornia\nHEAT\n3000.0\n1\n5597\n31\nFALSE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nCalifornia\nHEAT\n6157.0\n30\n5597\n31\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nColorado\nWATER\n11667.0\n22\n5832\n21\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nTexas\nHEAT\n8539.0\n1\n5099\n26\nFALSE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nTexas\nHEAT\n6118.0\n24\n5099\n26\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nTexas\nWATER\n5257.0\n22\n4396\n26\nTRUE\nTRUE\n\n\nRounded\n15%\nPercentage\nMassachusetts\nAC\n1.0\n1\n322\n25\nFALSE\nTRUE\n\n\nRounded\n15%\nPercentage\nMassachusetts\nAC\n0.0\n24\n322\n25\nTRUE\nTRUE\n\n\nRounded\n10%\nPercentage\nMassachusetts\nAC\n0.0\n26\n322\n27\nTRUE\nTRUE\n\n\nRounded\n10%\nUSD\nMassachusetts\nAC\n1.0\n1\n322\n27\nFALSE\nTRUE\n\n\nRounded\n15%\nUSD\nMassachusetts\nAC\n0.0\n24\n322\n25\nTRUE\nTRUE\n\n\nRounded\n10%\nUSD\nMassachusetts\nAC\n0.0\n26\n322\n27\nTRUE\nTRUE\n\n\nRounded\n15%\nkWh\nMassachusetts\nAC\n0.0\n24\n322\n25\nTRUE\nTRUE\n\n\nRounded\n10%\nkWh\nMassachusetts\nAC\n0.0\n26\n322\n27\nTRUE\nTRUE\n\n\n\n\n  # ungroup() %&gt;%\n  # group_by(appliance, family, rounded, state) %&gt;%\n  # summarise(n = n(), .groups = \"drop\") \n\nDiscrepant Subjects\n\ns2_long %&gt;%\n  filter(plan == \"plan1\",\n  id !=\"s2_208\") %&gt;% # s2_208 is just missing a value for a total column - but has all their app values\n  group_by(appliance, rounded, state, pct_goal) %&gt;%\n  mutate(\n    distinct_families = n_distinct(family),\n    distinct_state_avg = n_distinct(state_avg),\n  ) %&gt;% \n  filter(distinct_families &gt; 1 | distinct_state_avg &gt; 1) %&gt;%\n  group_by(appliance, rounded, state, pct_goal, family) %&gt;%\n  mutate(family_count = n()) %&gt;%\n  group_by(appliance, rounded, state, pct_goal, state_avg) %&gt;%\n  mutate(state_avg_count = n()) %&gt;%\n  distinct(rounded, state, refClass, appliance, family, state_avg, \n          state_avg_count, family_count) %&gt;%\n  mutate(\n    # Check family values\n    fam_in = map2_lgl(rounded, family, ~ {\n      if (.x == \"Rounded\") {\n        .y %in% correct_values_s2$family_rounded\n      } else {\n        .y %in% correct_values_s2$family_exact\n      }\n    }),\n    # Check state averages\n    state_in = pmap_lgl(list(state, appliance, state_avg), function(s, a, sa) {\n      correct_row &lt;- correct_values_s2 %&gt;%\n        filter(state == s, app_abrv == a)\n        #print(nrow(correct_row))  \n      if(nrow(correct_row) == 0) FALSE else sa == correct_row$state_avg\n    })\n  ) %&gt;%\n  arrange(rounded, refClass, state, appliance, family_count) %&gt;%\n  relocate(rounded, pct_goal, refClass, state, appliance, family, \n          family_count, state_avg, state_avg_count, fam_in, state_in) |&gt; kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nrounded\npct_goal\nrefClass\nstate\nappliance\nfamily\nfamily_count\nstate_avg\nstate_avg_count\nfam_in\nstate_in\n\n\n\nNot Rounded\n10%\nPercentage\nCalifornia\nHEAT\n6157.0\n30\n5597\n31\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nColorado\nWATER\n11667.0\n22\n1142\n1\nTRUE\nFALSE\n\n\nNot Rounded\n10%\nPercentage\nColorado\nWATER\n11667.0\n22\n5832\n21\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nTexas\nHEAT\n5.0\n1\n5099\n26\nFALSE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nTexas\nHEAT\n6118.0\n24\n5099\n26\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nTexas\nWATER\n5.3\n4\n4396\n26\nFALSE\nTRUE\n\n\nNot Rounded\n10%\nPercentage\nTexas\nWATER\n5257.0\n22\n4396\n26\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nUSD\nCalifornia\nHEAT\n6157.0\n30\n5597\n31\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nUSD\nColorado\nWATER\n11667.0\n22\n5832\n21\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nUSD\nTexas\nHEAT\n6118.0\n24\n5099\n26\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nUSD\nTexas\nWATER\n5257.0\n22\n4396\n26\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nCalifornia\nHEAT\n3000.0\n1\n5597\n31\nFALSE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nCalifornia\nHEAT\n6157.0\n30\n5597\n31\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nColorado\nWATER\n11667.0\n22\n5832\n21\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nTexas\nHEAT\n8539.0\n1\n5099\n26\nFALSE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nTexas\nHEAT\n6118.0\n24\n5099\n26\nTRUE\nTRUE\n\n\nNot Rounded\n10%\nkWh\nTexas\nWATER\n5257.0\n22\n4396\n26\nTRUE\nTRUE\n\n\nRounded\n15%\nPercentage\nMassachusetts\nAC\n1.0\n1\n322\n25\nFALSE\nTRUE\n\n\nRounded\n15%\nPercentage\nMassachusetts\nAC\n0.0\n24\n322\n25\nTRUE\nTRUE\n\n\nRounded\n10%\nPercentage\nMassachusetts\nAC\n0.0\n26\n322\n27\nTRUE\nTRUE\n\n\nRounded\n10%\nUSD\nMassachusetts\nAC\n1.0\n1\n322\n27\nFALSE\nTRUE\n\n\nRounded\n15%\nUSD\nMassachusetts\nAC\n0.0\n24\n322\n25\nTRUE\nTRUE\n\n\nRounded\n10%\nUSD\nMassachusetts\nAC\n0.0\n26\n322\n27\nTRUE\nTRUE\n\n\nRounded\n15%\nkWh\nMassachusetts\nAC\n0.0\n24\n322\n25\nTRUE\nTRUE\n\n\nRounded\n10%\nkWh\nMassachusetts\nAC\n0.0\n26\n322\n27\nTRUE\nTRUE\n\n\n\n\ndiscrepant_subjects_s2 &lt;- s2_long |&gt; \n  filter(plan == \"plan1\") |&gt;\n  group_by(id, rounded, refClass) |&gt; \n  mutate(\n    # Compute state_in based on exact match for state, appliance abbreviation, and state_avg\n    state_in = pmap_lgl(list(state, appliance, state_avg), function(s, a, sa) {\n      correct_row &lt;- correct_values_s2 %&gt;%\n        filter(state == s, app_abrv == a)\n      if (nrow(correct_row) == 0) FALSE else sa == correct_row$state_avg\n    }),\n    # Compute fam_in based on `rounded` value and appropriate family column in `correct_values_s2`\n    fam_in = pmap_lgl(list(state, appliance, family, rounded), function(s, a, fam, rnd) {\n      correct_row &lt;- correct_values_s2 %&gt;%\n        filter(state == s, app_abrv == a)\n      if (nrow(correct_row) == 0) {\n        FALSE\n      } else if (rnd == \"Rounded\") {\n        fam == correct_row$family_rounded\n      } else {\n        fam == correct_row$family_exact\n      }\n    })\n  )\n\ndiscrepant_subjects_s2 |&gt; filter(state_in==FALSE | fam_in==FALSE) |&gt;  arrange(state, appliance,refClass,pct_goal,rounded) |&gt; select(-calc,-edu, -plan,-state_dif) |&gt; kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nid\nblock\nrefClass\nappliance\npct_goal\nrounded\nstate\npct\nfamily\nstate_avg\nvalue\nchange\nstate_in\nfam_in\n\n\n\ns2_11\n1\nkWh\nHEAT\n10%\nNot Rounded\nCalifornia\n0.10\n3000.0\n5597\n4000\n1000\nTRUE\nFALSE\n\n\ns2_12\n2\nPercentage\nWATER\n10%\nNot Rounded\nColorado\n0.10\n11667.0\n1142\n600\n-11067\nFALSE\nTRUE\n\n\ns2_8\n1\nPercentage\nAC\n15%\nRounded\nMassachusetts\n0.15\n1.0\n322\n1\n0\nTRUE\nFALSE\n\n\ns2_9\n2\nUSD\nAC\n10%\nRounded\nMassachusetts\n0.10\n1.0\n322\n1\n0\nTRUE\nFALSE\n\n\ns2_13\n1\nPercentage\nHEAT\n10%\nNot Rounded\nTexas\n0.10\n5.0\n5099\n5500\n5495\nTRUE\nFALSE\n\n\ns2_10\n1\nkWh\nHEAT\n10%\nNot Rounded\nTexas\n0.10\n8539.0\n5099\n1\n-8538\nTRUE\nFALSE\n\n\ns2_1\n2\nPercentage\nWATER\n10%\nNot Rounded\nTexas\n0.10\n5.3\n4396\n5000\n4995\nTRUE\nFALSE\n\n\ns2_2\n2\nPercentage\nWATER\n10%\nNot Rounded\nTexas\n0.10\n5.3\n4396\n4396\n4391\nTRUE\nFALSE\n\n\ns2_3\n2\nPercentage\nWATER\n10%\nNot Rounded\nTexas\n0.10\n5.3\n4396\n3527\n3522\nTRUE\nFALSE\n\n\ns2_4\n2\nPercentage\nWATER\n10%\nNot Rounded\nTexas\n0.10\n5.3\n4396\n4800\n4795\nTRUE\nFALSE\n\n\n\n\ns2_discrep_ids &lt;- discrepant_subjects_s2 |&gt; filter(state_in==FALSE | fam_in==FALSE) |&gt; pull(id) |&gt; unique()\ns2_discrep_ids\n\n [1] \"s2_1\"  \"s2_10\" \"s2_11\" \"s2_12\" \"s2_13\" \"s2_2\"  \"s2_3\"  \"s2_4\"  \"s2_8\" \n[10] \"s2_9\" \n\n# saveRDS(s2_discrep_ids,here::here(\"data/s2_discrep_ids.rds\"))\n\n\n# mutate(\n#   fam_in = if_else(rounded == \"Rounded\",\n#                   family %in% correct_values_s2$family_rounded,\n#                   family %in% correct_values_s2$family_exact),\n# # Use `map_lgl` to evaluate each row individually\n#   state_in = map_lgl(\n#     seq_along(appliance),\n#     ~ any(correct_values_s2$appliance[correct_values_s2$state_avg == state_avg[.x]] == appliance[.x])\n#   ) )\n\n\n# 3 s2_185     2 USD      HEAT      10%      Rounded Colorado Calculator    Some graduate school   0.1  18000     16411 plan1 17000  -1000       589\n# 4 s2_196     2 USD      HEAT      10%      Rounded Colorado Calculator    College degree         0.1  18000        NA plan1 17000  -1000        NA\n# 5 s2_197     2 USD      HEAT      10%      Rounded Colorado Calculator    Some college           0.1  18000     16411 plan1 17000  -1000       589\n\n#  s2 |&gt;\n#   mutate(id=paste0(\"s2_\",row_number())) |&gt; relocate(id) |&gt; filter(id==\"s2_196\") |&gt; \n#    select(-starts_with(\"AIN\")) |&gt; select(starts_with(\"HEAT\"))\n\n\n# s2 |&gt; filter(id==\"s2_196\") |&gt; select(starts_with(\"HEAT\"))\n\n\ns2_long |&gt; filter(state==\"Colorado\",state_avg==1142,appliance==\"WATER\")\n\n# A tibble: 2 × 16\n# Groups:   id, block [1]\n  id    block refClass appliance pct_goal rounded state calc  edu     pct family\n  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;fct&gt; &lt;dbl&gt;  &lt;dbl&gt;\n1 s2_12     2 Percent… WATER     10%      Not Ro… Colo… Calc… Grad…   0.1  11667\n2 s2_12     2 Percent… WATER     10%      Not Ro… Colo… Calc… Grad…   0.1  11667\n# ℹ 5 more variables: state_avg &lt;dbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;, change &lt;dbl&gt;,\n#   state_dif &lt;dbl&gt;\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 2 - 3-24-19.sav\")) |&gt;\n  mutate(id=paste0(\"s2_\",row_number())) |&gt; \n  relocate(id) |&gt; filter(id==\"s2_196\") |&gt; \n   select(-starts_with(\"AIN\")) |&gt; select(starts_with(\"HEAT\"))\n\n# A tibble: 1 × 12\n  HEATRANK1 HEATFAMILY1 HEATSTATE1 HEATAPONE1 HEATAPTWO1 HEATREDUCTWO1 HEATRANK2\n      &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;         &lt;dbl&gt;     &lt;dbl&gt;\n1         2        6157       5597       6000       5600             1         1\n# ℹ 5 more variables: HEATFAMILY2 &lt;dbl&gt;, HEATSTATE2 &lt;dbl&gt;, HEATAPONE2 &lt;dbl&gt;,\n#   HEATAPTWO2 &lt;dbl&gt;, HEATREDUCTWO2 &lt;dbl&gt;\n\n#s2 |&gt; filter(id==\"s2_208\") |&gt; select(starts_with(\"T\"))\ns2_long |&gt; filter_all(any_vars(is.na(.)))\n\n# A tibble: 2 × 16\n# Groups:   id, block [1]\n  id    block refClass appliance pct_goal rounded state calc  edu     pct family\n  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;fct&gt; &lt;dbl&gt;  &lt;dbl&gt;\n1 s2_2…     1 Percent… TOTAL     15%      Not Ro… Cali… No C… Coll…  0.15  22673\n2 s2_2…     1 Percent… TOTAL     15%      Not Ro… Cali… No C… Coll…  0.15  22673\n# ℹ 5 more variables: state_avg &lt;dbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;, change &lt;dbl&gt;,\n#   state_dif &lt;dbl&gt;",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Discrep_Patterns"
    ]
  },
  {
    "objectID": "misc/discrep.html#data-after-exclusions",
    "href": "misc/discrep.html#data-after-exclusions",
    "title": "Discrep_Patterns",
    "section": "Data after exclusions",
    "text": "Data after exclusions\nStudy 1 - Subject counts\n\n# number of unique ids per condition\ns1 |&gt; group_by(refClass) |&gt; \nfilter(!(id %in% s1_discrep_ids)) |&gt;\nrename(\"Reference Class\" = refClass) |&gt;\nsummarise(n=n_distinct(id)) |&gt; gt() |&gt; tab_header(title=\"Study 1: Number of unique IDs per condition\")\n\n\n\n\n\n\nStudy 1: Number of unique IDs per condition\n\n\nReference Class\nn\n\n\n\n\nPercentage\n68\n\n\nUSD\n89\n\n\nkWh\n77\n\n\n\n\n\ns1 |&gt; group_by(refClass,state) |&gt; \n  filter(!(id %in% s1_discrep_ids)) |&gt;\n  rename(\"Reference Class\" = refClass) |&gt;\n  summarise(n=n_distinct(id)) |&gt; \n  rowwise() |&gt; \n  mutate(state=lookup_code(state)) |&gt; \n  pivot_wider(names_from=state,values_from=n) |&gt;\n  gt() |&gt; tab_header(title=\"Study 1: Number of unique IDs per condition by state\") \n\n\n\n\n\n\nStudy 1: Number of unique IDs per condition by state\n\n\nReference Class\nCalifornia\nColorado\nMassachusetts\nTexas\n\n\n\n\nPercentage\n39\n26\n42\n29\n\n\nUSD\n40\n45\n44\n49\n\n\nkWh\n36\n35\n42\n41\n\n\n\n\n\ns1 |&gt; group_by(refClass,calc) |&gt; \n  filter(!(id %in% s1_discrep_ids)) |&gt;\n  rename(\"Reference Class\" = refClass) |&gt;\n  summarise(n=n_distinct(id)) |&gt; \n  pivot_wider(names_from=calc,values_from=n) |&gt;\n  gt() |&gt; tab_header(title=\"Study 1: Number of unique IDs per condition by calculation\")\n\n\n\n\n\n\nStudy 1: Number of unique IDs per condition by calculation\n\n\nNo Calculator\nUsed Calculator\n\n\n\n\nPercentage\n\n\n12\n56\n\n\nUSD\n\n\n25\n64\n\n\nkWh\n\n\n20\n57\n\n\n\n\n\nprop.table(xtabs(~refClass,s1)) |&gt; kable()\n\n\n\nrefClass\nFreq\n\n\n\nkWh\n0.32\n\n\nPercentage\n0.31\n\n\nUSD\n0.37\n\n\n\n\nprop.table(xtabs(~refClass+calc,s1)) |&gt; kable()\n\n\n\n\nNo Calculator\nUsed Calculator\n\n\n\nkWh\n0.08\n0.24\n\n\nPercentage\n0.06\n0.25\n\n\nUSD\n0.11\n0.27\n\n\n\n\nprop.table(xtabs(~refClass+state,s1)) |&gt; kable()\n\n\n\n\nCAL\nCOL\nMASS\nTEX\n\n\n\nkWh\n0.08\n0.08\n0.08\n0.08\n\n\nPercentage\n0.08\n0.07\n0.08\n0.08\n\n\nUSD\n0.08\n0.10\n0.09\n0.10\n\n\n\n\n# s2_long |&gt; group_by(id) |&gt; summarise(nrc=n_distinct(refClass),npct=n_distinct(pct_goal),nround=n_distinct(rounded))\n\nStudy 2 - Subject counts\n\ns2_long |&gt; group_by(refClass) |&gt;\nfilter(!(id %in% s2_discrep_ids)) |&gt;\nrename(\"Reference Class\" = refClass) |&gt;\nsummarise(n=n_distinct(id)) |&gt; gt() |&gt; tab_header(title=\"Study 2: Number of unique IDs per condition\")\n\n\n\n\n\n\nStudy 2: Number of unique IDs per condition\n\n\nReference Class\nn\n\n\n\n\nPercentage\n69\n\n\nUSD\n58\n\n\nkWh\n69\n\n\n\n\n\ns2_long |&gt; group_by(refClass,calc) |&gt;\nfilter(!(id %in% s2_discrep_ids)) |&gt;\nrename(\"Reference Class\" = refClass) |&gt;\nmutate(calc=case_when(calc==\"Calculator\" ~ \"Used Calculator\",\n                      calc==\"No Calculator\" ~ \"No Calculator\")) |&gt;\nsummarise(n=n_distinct(id)) |&gt;\npivot_wider(names_from=calc,values_from=n) |&gt;\ngt() |&gt; tab_header(title=\"Study 2: Number of unique IDs per condition by calculation\")\n\n\n\n\n\n\nStudy 2: Number of unique IDs per condition by calculation\n\n\nNo Calculator\nUsed Calculator\n\n\n\n\nPercentage\n\n\n11\n58\n\n\nUSD\n\n\n12\n46\n\n\nkWh\n\n\n12\n57\n\n\n\n\n\nprop.table(xtabs(~refClass,s2_long)) |&gt; kable()\n\n\n\nrefClass\nFreq\n\n\n\nkWh\n0.34\n\n\nPercentage\n0.37\n\n\nUSD\n0.29\n\n\n\n\nprop.table(xtabs(~refClass+state,s2_long))\n\n            state\nrefClass     California Colorado Massachusetts Texas\n  kWh             0.087    0.097         0.075 0.085\n  Percentage      0.090    0.095         0.090 0.095\n  USD             0.075    0.066         0.078 0.068\n\nprop.table(xtabs(~refClass+calc,\ns2_long |&gt; mutate(calc=case_when(calc==\"Calculator\" ~ \"Used Calculator\",\n                      calc==\"No Calculator\" ~ \"No Calculator\")))) |&gt; kable()\n\n\n\n\nNo Calculator\nUsed Calculator\n\n\n\nkWh\n0.07\n0.28\n\n\nPercentage\n0.06\n0.31\n\n\nUSD\n0.06\n0.22",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Discrep_Patterns"
    ]
  },
  {
    "objectID": "misc/discrep.html#performance-before-and-after-exclusions",
    "href": "misc/discrep.html#performance-before-and-after-exclusions",
    "title": "Discrep_Patterns",
    "section": "Performance before and after exclusions",
    "text": "Performance before and after exclusions\nPerformance before and after exclusions - Study 1\n\ns1_agg &lt;- s1 |&gt; \n  filter(appliance !=\"Total kWh\") |&gt; \n  group_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \n  summarise(total_kWh = sum(value),orig_kWh=sum(family), \n            pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n            n_change = sum(value!=family),\n            state_p_dif=mean(state_p_dif),\n            state_f_dif=mean(state_f_dif),\n            n_less_avg = sum(less_avg),\n            duration=first(Duration__in_seconds_)) |&gt; \n  mutate(matched_goal = (pct_change == pct_goal), \n             error = pct_change - pct_goal,\n            abs_error = abs(error),\n            close_match = abs_error &lt;= 0.02)\n\ns1_agg4 &lt;- s1_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) \n\n\n# s1_agg4 |&gt; group_by(refClass) |&gt; \n#   summarise(mean=mean(pct),sd=sd(pct),n=n()) |&gt; \n#   gt() |&gt; tab_header(title=\"Study 1: Performance before exclusions\")\n\n# s1_agg4 |&gt; \n#   filter(!(id %in% s1_discrep_ids)) |&gt; \n#   group_by(refClass) |&gt; \n#   summarise(mean=mean(pct),sd=sd(pct),n=n()) |&gt; \n#   gt() |&gt; tab_header(title=\"Study 1: Performance after exclusions\")\n\n\n\nbind_rows(\n  s1_agg4 |&gt; \n    group_by(refClass) |&gt; \n    summarise(\n      mean = mean(pct),\n      sd = sd(pct),\n      n = n(),\n      se=sd(pct)/sqrt(n),\n      dataset = \"Before exclusions\"\n    ),\n  s1_agg4 |&gt; \n    filter(!(id %in% s1_discrep_ids)) |&gt; \n    group_by(refClass) |&gt; \n    summarise(\n      mean = mean(pct),\n      sd = sd(pct),\n      n = n(),\n      se=sd(pct)/sqrt(n),\n      dataset = \"After exclusions\"\n    )\n) |&gt;\n  pivot_wider(\n    names_from = dataset,\n    values_from = c(mean, sd, se,n),\n    names_glue = \"{dataset}_{.value}\"\n  ) |&gt;\n  gt() |&gt;\n  tab_header(\n    title = \"Study 1: Performance Before and After Exclusions\"\n  ) |&gt;\n  fmt_number(\n    columns = contains(\"mean\"),\n    decimals = 2\n  ) |&gt;\n  fmt_number(\n    columns = contains(\"sd\"),\n    decimals = 2\n  ) |&gt;\n  cols_label(\n    refClass = \"Reference Class\",\n    `Before exclusions_mean` = \"Mean\",\n    `Before exclusions_sd` = \"SD\",\n    `Before exclusions_se` = \"SE\",\n    `Before exclusions_n` = \"N\",\n    `After exclusions_mean` = \"Mean\",\n    `After exclusions_sd` = \"SD\",\n    `After exclusions_se` = \"SE\",\n    `After exclusions_n` = \"N\"\n  ) |&gt;\n  tab_spanner(\n    label = \"Before Exclusions\",\n    columns = starts_with(\"Before\")\n  ) |&gt;\n  tab_spanner(\n    label = \"After Exclusions\",\n    columns = starts_with(\"After\")\n  )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStudy 1: Performance Before and After Exclusions\n\n\nReference Class\n\nBefore Exclusions\n\n\nAfter Exclusions\n\n\n\nMean\nSD\nSE\nN\nMean\nSD\nSE\nN\n\n\n\n\nPercentage\n0.21\n0.35\n0.040\n78\n0.22\n0.37\n0.045\n68\n\n\nUSD\n0.09\n0.27\n0.028\n94\n0.10\n0.27\n0.029\n89\n\n\nkWh\n0.37\n0.44\n0.050\n80\n0.38\n0.45\n0.051\n77\n\n\n\n\n\nsp1b &lt;- s1_agg4 |&gt; \n  ggplot(aes(x=refClass,y=pct,fill=refClass)) +\n  stat_summary(fun=mean, geom=\"bar\") +\n  stat_summary(fun.data=mean_cl_normal, geom=\"errorbar\", width=0.2) +\n  labs(title=\"Mean % meeting goal - Before Exclusions\",\n       x=\"Reference Class\",\n       y=\"% of trials meeting goal\",\n       fill=\"Reference Class\") \n\nsp1a &lt;- s1_agg4 |&gt; \n  filter(!(id %in% s1_discrep_ids)) |&gt;\n  ggplot(aes(x=refClass,y=pct,fill=refClass)) +\n  stat_summary(fun=mean, geom=\"bar\") +\n  stat_summary(fun.data=mean_cl_normal, geom=\"errorbar\", width=0.2) +\n    labs(title=\"Mean % meeting goal - After Exclusions\",\n       x=\"Reference Class\",\n       y=\"% of trials meeting goal\",\n       fill=\"Reference Class\") \n\n\nsp2b &lt;- s1_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n  ggplot(aes(x=pct)) +\n  geom_bar(aes(fill=refClass)) +\n  ggdist::stat_halfeye() +\n  geom_rug(alpha=0.1) +\n  stat_boxplot(width=0.5, alpha=0.6) +\n  facet_wrap(~refClass) +\n  labs(title=\"Distributions of % of trials that matched goal - Before Exclusions\",\n       x=\"% of trials (out of 4) that matched goal\",\n       y=\"Number of Participants\",\n       fill=\"Reference Class\") +\n  scale_y_continuous(limits=c(0,85),breaks=seq(0,85,5)) + scale_x_continuous(breaks=seq(0,1,.25),labels=scales::percent_format(accuracy=1)) \n\n\nsp2a &lt;- s1_agg |&gt; \n  filter(!(id %in% s1_discrep_ids)) |&gt; \n  group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n  ggplot(aes(x=pct)) +\n  geom_bar(aes(fill=refClass)) +\n  ggdist::stat_halfeye() +\n  geom_rug(alpha=0.1) +\n  stat_boxplot(width=0.5, alpha=0.6) +\n  facet_wrap(~refClass) +\n  labs(title=\"Distributions of % of trials that matched goal - After Exclusions\",\n       x=\"% of trials (out of 4) that matched goal\",\n       y=\"Number of Participants\",\n       fill=\"Reference Class\") +\n  scale_y_continuous(limits=c(0,85),breaks=seq(0,85,5)) + scale_x_continuous(breaks=seq(0,1,.25),labels=scales::percent_format(accuracy=1))\n\nsp1b + sp1a\n\n\n\n\n\n\nsp2b + sp2a\n\n\n\n\n\n\n\nAfter Exclusions - Study 2\n\ns2_agg1 &lt;- s2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt; \n  group_by(id, refClass,pct,plan) |&gt; \n  summarise(\n    total_kWh = sum(value),\n    orig_kWh = sum(family),\n    pct_change = round((orig_kWh - total_kWh) / orig_kWh, 3),\n    state_dif = mean(state_dif),\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(matched_goal = (pct_change == pct),\n  matched_goal2 = abs(pct_change-pct)&lt;.03)\n\ns2_agg4 &lt;- s2_agg1|&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) \n\n\nbind_rows(\n  s2_agg4 |&gt; \n    group_by(refClass) |&gt; \n    summarise(\n      mean = mean(pct),\n      sd = sd(pct),\n      n = n(),\n      se=sd(pct)/sqrt(n),\n      dataset = \"Before exclusions\"\n    ),\n  s2_agg4 |&gt; \n    filter(!(id %in% s2_discrep_ids)) |&gt; \n    group_by(refClass) |&gt; \n    summarise(\n      mean = mean(pct),\n      sd = sd(pct),\n      n = n(),\n      se=sd(pct)/sqrt(n),\n      dataset = \"After exclusions\"\n    )) |&gt; \n    pivot_wider(names_from = dataset,\n    values_from = c(mean, sd,se, n),\n    names_glue = \"{dataset}_{.value}\") |&gt; gt() |&gt;\n    tab_header(title = \"Study 2: Performance Before and After Exclusions\") |&gt;\n    cols_label(\n    refClass = \"Reference Class\",\n    `Before exclusions_mean` = \"Mean\",\n    `Before exclusions_sd` = \"SD\",\n    `Before exclusions_se` = \"SE\",\n    `Before exclusions_n` = \"N\",\n    `After exclusions_mean` = \"Mean\",\n    `After exclusions_sd` = \"SD\",\n    `After exclusions_se` = \"SE\",\n    `After exclusions_n` = \"N\"\n  ) |&gt;\n  tab_spanner(\n    label = \"Before Exclusions\",\n    columns = starts_with(\"Before\")\n  ) |&gt;\n  tab_spanner(\n    label = \"After Exclusions\",\n    columns = starts_with(\"After\"))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStudy 2: Performance Before and After Exclusions\n\n\nReference Class\n\nBefore Exclusions\n\n\nAfter Exclusions\n\n\n\nMean\nSD\nSE\nN\nMean\nSD\nSE\nN\n\n\n\n\nPercentage\n0.27\n0.35\n0.040\n76\n0.27\n0.36\n0.044\n69\n\n\nUSD\n0.18\n0.37\n0.049\n59\n0.19\n0.38\n0.049\n58\n\n\nkWh\n0.42\n0.45\n0.053\n71\n0.43\n0.45\n0.054\n69\n\n\n\n\n\ns2p1b &lt;- s2_agg4 |&gt; \n  ggplot(aes(x=refClass,y=pct,fill=refClass)) +\n  stat_summary(fun=mean, geom=\"bar\") +\n  stat_summary(fun.data=mean_cl_normal, geom=\"errorbar\", width=0.2) +\n  labs(title=\"Mean % meeting goal - Before Exclusions\",\n       x=\"Reference Class\",\n       y=\"% of trials meeting goal\",\n       fill=\"Reference Class\")\n\ns2p1a &lt;- s2_agg4 |&gt; \n  filter(!(id %in% s2_discrep_ids)) |&gt;\n  ggplot(aes(x=refClass,y=pct,fill=refClass)) +\n  stat_summary(fun=mean, geom=\"bar\") +\n  stat_summary(fun.data=mean_cl_normal, geom=\"errorbar\", width=0.2) +\n  labs(title=\"Mean % meeting goal - After Exclusions\",\n       x=\"Reference Class\",\n       y=\"% of trials meeting goal\",\n       fill=\"Reference Class\")\n\n\ns2p2b &lt;- s2_agg1 |&gt; group_by(id,refClass) |&gt;\n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n  ggplot(aes(x=pct)) +\n  geom_bar(aes(fill=refClass)) +\n  ggdist::stat_halfeye() +\n  geom_rug(alpha=0.1) +\n  stat_boxplot(width=0.5, alpha=0.6) +\n  facet_wrap(~refClass) +\n  labs(title=\"Distributions of % of trials that matched goal - Before Exclusions\",\n       x=\"% of trials (out of 4) that matched goal\",\n       y=\"Number of Participants\",\n       fill=\"Reference Class\") + \n       # make title text smaller\n        theme(plot.title = element_text(size=10)) +\n  scale_y_continuous(limits=c(0,85),breaks=seq(0,85,5)) + scale_x_continuous(breaks=seq(0,1,.25),labels=scales::percent_format(accuracy=1))\n\ns2p2a &lt;- s2_agg1 |&gt; \n  filter(!(id %in% s2_discrep_ids)) |&gt; \n  group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n  ggplot(aes(x=pct)) +\n  geom_bar(aes(fill=refClass)) +\n  ggdist::stat_halfeye() +\n  geom_rug(alpha=0.1) +\n  stat_boxplot(width=0.5, alpha=0.6) +\n  facet_wrap(~refClass) +\n  labs(title=\"Distributions of % of trials that matched goal - After Exclusions\",\n       x=\"% of trials (out of 4) that matched goal\",\n       y=\"Number of Participants\",\n       fill=\"Reference Class\") +\n  scale_y_continuous(limits=c(0,85),breaks=seq(0,85,5)) + scale_x_continuous(breaks=seq(0,1,.25),labels=scales::percent_format(accuracy=1))\n\ns2p1b + s2p1a\n\n\n\n\n\n\ns2p2b + s2p2a",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Discrep_Patterns"
    ]
  },
  {
    "objectID": "background/bg.html",
    "href": "background/bg.html",
    "title": "Study Info",
    "section": "",
    "text": "Order By\n       Default\n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Title\n        \n         \n          Author\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\nDate\n\n\nTitle\n\n\nAuthor\n\n\n\n\n\n\nNov 20, 2024\n\n\nEnergy-Saving Decisions: Turning Goals into Appliance-Specific Allocations\n\n\n \n\n\n\n\nNov 20, 2024\n\n\nRelaunch of Frequency and Probability Study\n\n\n \n\n\n\n\nNov 20, 2024\n\n\nScenario 1\n\n\n \n\n\n\n\n \n\n\nStudy 1 codebook and dataset info\n\n\n \n\n\n\n\nNov 20, 2024\n\n\nStudy Stimulii and Design\n\n\n \n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Representation Project",
    "section": "",
    "text": "Order By\n       Default\n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Title\n        \n         \n          Author\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\nDate\n\n\nTitle\n\n\nAuthor\n\n\n\n\n\n\n \n\n\nAnalysis\n\n\n \n\n\n\n\n \n\n\nDiscrep_Patterns\n\n\n \n\n\n\n\n \n\n\nEffect of Reference Class on Planning to Conserve\n\n\nThomas E. Gorman\n\n\n\n\nNov 20, 2024\n\n\nEnergy-Saving Decisions: Turning Goals into Appliance-Specific Allocations\n\n\n \n\n\n\n\n \n\n\nOrdinal Models\n\n\n \n\n\n\n\n \n\n\nOutliers and discrepancies\n\n\n \n\n\n\n\nNov 20, 2024\n\n\nRelaunch of Frequency and Probability Study\n\n\n \n\n\n\n\n \n\n\nResponse Patterns\n\n\n \n\n\n\n\n \n\n\nResults\n\n\nThomas E. Gorman\n\n\n\n\nNov 20, 2024\n\n\nScenario 1\n\n\n \n\n\n\n\n \n\n\nStudy 1 Analysis\n\n\n \n\n\n\n\n \n\n\nStudy 1 codebook and dataset info\n\n\n \n\n\n\n\nNov 20, 2024\n\n\nStudy 2 Analysis\n\n\n \n\n\n\n\nNov 20, 2024\n\n\nStudy Stimulii and Design\n\n\n \n\n\n\n\n\nNo matching items",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "misc/indiv.html",
    "href": "misc/indiv.html",
    "title": "Response Patterns",
    "section": "",
    "text": "library(pacman)\npacman::p_load(dplyr,purrr,tidyr,here, haven,tibble,ggplot2,gt,ggh4x,lme4,flextable,ggdist)\n\n#https://arelbundock.com/posts/quarto_figures/index.html\nknitr::opts_chunk$set(\n    out.width = \"75%\", # enough room to breath\n    fig.width = 6,     # reasonable size\n    fig.asp = 0.618,   # golden ratio\n    fig.align = \"center\" # mostly what I want\n)\n\nout2fig = function(out.width, out.width.default = 0.7, fig.width.default = 6) {\n    fig.width.default * out.width / out.width.default \n}\n\n\n\ns1 &lt;- readRDS(here::here(\"data/s1_processed.rds\")) |&gt; filter(!(id %in% readRDS(here::here(\"data/s1_discrep_ids.rds\"))))\ns2_long &lt;- readRDS(here::here(\"data/s2_processed.rds\")) |&gt; filter(!(id %in% readRDS(here::here(\"data/s2_discrep_ids.rds\"))))\n\n\n\ns1_agg &lt;- s1 |&gt; \n  filter(appliance !=\"Total kWh\") |&gt; \n  group_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \n  summarise(total_kWh = sum(value),orig_kWh=sum(family), \n            pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n            n_change = sum(value!=family),\n            state_p_dif=mean(state_p_dif),\n            state_f_dif=mean(state_f_dif),\n            n_less_avg = sum(less_avg),\n            duration=first(Duration__in_seconds_)) |&gt; \n  mutate(matched_goal = (pct_change == pct_goal), \n             error = pct_change - pct_goal,\n            abs_error = abs(error))",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Response Patterns"
    ]
  },
  {
    "objectID": "misc/indiv.html#study-1---comparison-against-state-average",
    "href": "misc/indiv.html#study-1---comparison-against-state-average",
    "title": "Response Patterns",
    "section": "Study 1 - comparison against state average",
    "text": "Study 1 - comparison against state average\n\n#| \ns2_long |&gt; filter(id %in% unique(s2_long$id)[1:30]) |&gt; \n  filter(appliance!=\"TOTAL\",state==\"California\") |&gt; \n  ggplot(aes(x=appliance,y=value)) + geom_point(aes(shape=plan)) +\n  geom_point(aes(y=state_avg),color=\"red\") +\n  geom_point(aes(y=family),color=\"blue\") +\n  facet_wrap(~id) + theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\ns2_long |&gt; filter(id %in% unique(s2_long$id)[1:30]) |&gt; \n  filter(appliance!=\"TOTAL\",state==\"California\") |&gt; \n  ggplot(aes(x=appliance,y=value)) + geom_point(aes(shape=plan)) +\n  geom_point(aes(y=state_avg),color=\"red\") +\n  geom_point(aes(y=family),color=\"blue\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\ns1 |&gt; \nfilter(appliance !=\"Total kWh\") |&gt; \ngroup_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \nmutate(total_kWh = sum(value),orig_kWh=sum(family), \n        pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n        n_change = sum(value!=family),\n        state_p_dif=mean(state_p_dif),\n        state_f_dif=mean(state_f_dif),\n        n_less_avg = sum(less_avg),\n        duration=first(Duration__in_seconds_)) |&gt; \nmutate(matched_goal = (pct_change == pct_goal), \n            error = pct_change - pct_goal,\n        abs_error = abs(error)) |&gt; \n          filter(appliance!=\"TOTAL\",state==\"CAL\",value&lt;20000) |&gt; \n  ggplot(aes(x=appliance,y=value)) + geom_point(aes(shape=matched_goal)) +\n  geom_point(aes(y=state_avg),color=\"red\") +\n  geom_point(aes(y=family),color=\"blue\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\ns1 |&gt; \nfilter(appliance !=\"Total kWh\") |&gt; \ngroup_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \nmutate(total_kWh = sum(value),orig_kWh=sum(family), \n        pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n        n_change = sum(value!=family),\n        state_p_dif=mean(state_p_dif),\n        state_f_dif=mean(state_f_dif),\n        n_less_avg = sum(less_avg),\n        duration=first(Duration__in_seconds_)) |&gt; \nmutate(matched_goal = (pct_change == pct_goal), \n            error = pct_change - pct_goal,\n        abs_error = abs(error)) |&gt; \n          filter(appliance!=\"TOTAL\",state==\"CAL\",value&lt;20000) |&gt; \n  ggplot(aes(x=appliance,y=value)) + geom_point(aes(shape=matched_goal)) +\n  geom_point(aes(y=state_avg),color=\"red\") +\n  geom_point(aes(y=family),color=\"blue\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  facet_wrap(~matched_goal)\n\n\n\n\n\n\ns1 |&gt; \nfilter(appliance !=\"Total kWh\") |&gt; \ngroup_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \nmutate(total_kWh = sum(value),orig_kWh=sum(family), \n        pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n        n_change = sum(value!=family),\n        state_p_dif=mean(state_p_dif),\n        state_f_dif=mean(state_f_dif),\n        n_less_avg = sum(less_avg),\n        duration=first(Duration__in_seconds_)) |&gt; \nmutate(matched_goal = (pct_change == pct_goal), \n            error = pct_change - pct_goal,\n        abs_error = abs(error)) |&gt; \n          filter(appliance!=\"TOTAL\",state==\"CAL\",value&lt;20000) |&gt; \n  ggplot(aes(x=appliance,y=value)) + \n  geom_jitter(aes(color=matched_goal)) +\ngeom_point(aes(y=state_avg),color=\"red\",size=10) +\n  geom_point(aes(y=family),color=\"blue\",size=5) \n\n\n\n\n\n\ns1 |&gt; \nfilter(appliance !=\"Total kWh\") |&gt; \ngroup_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \nmutate(total_kWh = sum(value),orig_kWh=sum(family), \n        pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n        n_change = sum(value!=family),\n        state_p_dif=mean(state_p_dif),\n        state_f_dif=mean(state_f_dif),\n        n_less_avg = sum(less_avg),\n        duration=first(Duration__in_seconds_)) |&gt; \nmutate(matched_goal = (pct_change == pct_goal), \n            error = pct_change - pct_goal,\n        abs_error = abs(error)) |&gt; \n          filter(appliance!=\"TOTAL\",value&lt;20000,family&lt;25000) |&gt; \n  ggplot(aes(x=appliance,y=value)) + \n  geom_jitter(aes(color=matched_goal)) +\n # gghalves::geom_half_violin(aes(fill=matched_goal)) +\n  geom_boxplot(aes(fill=matched_goal),alpha=.5) +\ngeom_point(aes(y=state_avg),color=\"red\",size=7,shape=8) +\n  geom_point(aes(y=family),color=\"blue\",size=7,shape=17) +\n  facet_wrap(~state)\n\n\n\n\n\n\ns1 |&gt; \nfilter(appliance !=\"Total kWh\") |&gt; \ngroup_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \nmutate(total_kWh = sum(value),orig_kWh=sum(family), \n        pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n        n_change = sum(value!=family),\n        state_p_dif=mean(state_p_dif),\n        state_f_dif=mean(state_f_dif),\n        n_less_avg = sum(less_avg),\n        duration=first(Duration__in_seconds_)) |&gt; \nmutate(matched_goal = (pct_change == pct_goal), \n            error = pct_change - pct_goal,\n        abs_error = abs(error)) |&gt; \n          filter(appliance!=\"TOTAL\",value&lt;20000,family&lt;25000) |&gt; \n  ggplot(aes(x=appliance,y=state_p_dif)) + \n  geom_jitter(aes(color=matched_goal)) +\n  geom_point(aes(y=state_avg),color=\"red\",size=10) +\n  geom_point(aes(y=family),color=\"blue\",size=5)\n\n\n\n\n\n\ns1 |&gt; \nfilter(appliance !=\"Total kWh\") |&gt; \ngroup_by(id,refClass,state,block,plan,calc,edu,pct_goal,appliance) |&gt; \nsummarize(total_kWh = sum(value),orig_kWh=sum(family), \n            adjust=orig_kWh-total_kWh,\n        pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n        n_change = sum(value!=family),\n        state_p_dif=mean(state_p_dif),\n        state_f_dif=mean(state_f_dif),\n        n_less_avg = sum(less_avg),\n        duration=first(Duration__in_seconds_)) |&gt; \nmutate(matched_goal = (pct_change == pct_goal), \n            error = pct_change - pct_goal,\n        abs_error = abs(error)) |&gt; \n          filter(appliance!=\"TOTAL\") |&gt; \n  ggplot(aes(x=appliance,y=adjust)) + \n  geom_jitter(aes(color=matched_goal)) +\n  facet_wrap(~state)",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Response Patterns"
    ]
  },
  {
    "objectID": "misc/indiv.html#study-2---comparison-against-state-average",
    "href": "misc/indiv.html#study-2---comparison-against-state-average",
    "title": "Response Patterns",
    "section": "Study 2 - comparison against state average",
    "text": "Study 2 - comparison against state average\n\ns2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt; \n  group_by(id, refClass, appliance, state, pct_goal, pct, rounded, block, plan, calc, edu) |&gt; \n  mutate(\n    total_kWh = sum(value),\n    orig_kWh = sum(family),\n    pct_change = round((orig_kWh - total_kWh) / orig_kWh, 3),\n    state_dif = mean(state_dif),\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(matched_goal = (pct_change == pct),\n  matched_goal2 = abs(pct_change-pct)&lt;.03) |&gt; \n    ggplot(aes(x=appliance,y=value)) + geom_point(aes(shape=matched_goal)) +\n    geom_point(aes(y=state_avg),color=\"red\") +\n    geom_point(aes(y=family),color=\"blue\") +\n    theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n    facet_wrap(state~matched_goal,scales=\"free_y\")\n\n\n\n\n\n\ns2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt; \n  group_by(id, refClass, appliance, state, pct_goal, pct, rounded, block, plan, calc, edu) |&gt; \n  mutate(\n    total_kWh = sum(value),\n    orig_kWh = sum(family),\n    pct_change = round((orig_kWh - total_kWh) / orig_kWh, 3),\n    state_dif = mean(state_dif),\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(matched_goal = (pct_change == pct),\n  matched_goal2 = abs(pct_change-pct)&lt;.03) |&gt; \n    ggplot(aes(x=appliance,y=value)) + geom_point(aes(shape=matched_goal)) +\n    geom_point(aes(y=state_avg),color=\"red\") +\n    geom_point(aes(y=family),color=\"blue\") +\n    theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n    facet_wrap(refClass~state,scales=\"free_y\") +\n    labs(title=\"Study 2 - plans vs. state averages and prior year values\",subtitle=\"Blue points are prior year values, red points are state averages, and black points are current year values\")\n\n\n\n\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\ns2_long %&gt;%\n  filter(appliance != \"TOTAL\") %&gt;%\n  group_by(id, refClass, appliance, state, pct_goal, pct, rounded, block, plan, calc, edu) %&gt;%\n  mutate(\n    total_kWh = sum(value),\n    orig_kWh = sum(family),\n    pct_change = round((orig_kWh - total_kWh) / orig_kWh, 3),\n    state_dif = mean(state_dif),\n    .groups = \"drop\"\n  ) %&gt;%\n  mutate(\n    matched_goal = (pct_change == pct),\n    matched_goal2 = abs(pct_change - pct) &lt; 0.03\n  ) %&gt;%\n  ggplot(aes(x = appliance)) +\n  # Points for current plan, with conditional color and shape for matched goal\n  geom_point(aes(\n    y = value,\n    color = ifelse(matched_goal2, \"Matched Goal\", \"Current Plan\"),\n    shape = ifelse(matched_goal2, \"Matched Goal\", \"Current Plan\"),\n    size = ifelse(matched_goal2, 5, 2),  # Larger size for matched goal\n    alpha = ifelse(matched_goal2, 1, 0.6),  # Less transparency for matched goal\n    stroke = ifelse(matched_goal2, 1.5, 0)  # Outline for matched goal points\n  )) +\n  # Points for state average (red) with color mapped for legend\n  geom_point(aes(y = state_avg, color = \"State Average\"), shape = 17, size = 3) +\n  # Points for family prior year (blue) with color mapped for legend\n  geom_point(aes(y = family, color = \"Prior Year (Family)\"), shape = 15, size = 3) +\n  # Custom colors for each legend entry\n  scale_color_manual(\n    values = c(\n      \"Matched Goal\" = \"#00FF00\",  # Bright green for matched goal\n      \"Current Plan\" = \"black\",\n      \"State Average\" = \"red\",\n      \"Prior Year (Family)\" = \"blue\"\n    ),\n    name = \"Legend\"\n  ) +\n  scale_shape_manual(\n    values = c(\n      \"Matched Goal\" = 8,  # Star shape for matched goal\n      \"Current Plan\" = 16  # Default shape for current plan\n    )\n  ) +\n  scale_size_continuous(range = c(2, 1)) +  # Use continuous scale for size\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  facet_wrap(refClass ~ state, scales = \"free_y\") +\n  labs(\n    title = \"Study 2 - Plans vs. State Averages and Prior Year Values\",\n    subtitle = \"Blue points are prior year values, red points are state averages, black points are current plans, bright green star points indicate plans that match goal\"\n  )\n\n\n\n\n\n\n\n\ns2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt; \n  group_by(id, refClass, appliance, state, pct_goal, pct, rounded, block, plan, calc, edu) |&gt; \n  mutate(\n    total_kWh = sum(value),\n    orig_kWh = sum(family),\n    pct_change = round((orig_kWh - total_kWh) / orig_kWh, 3),\n    state_dif = mean(state_dif),\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(\n    matched_goal = (pct_change == pct),\n    matched_goal2 = abs(pct_change-pct) &lt; .03\n  ) |&gt; \n  ggplot(aes(x = appliance)) + \n    # Non-matching plans (plotted first, in background)\n    geom_point(data = . %&gt;% filter(!matched_goal2),\n               aes(y = value, color = \"Plan (Not Matching)\", shape = \"Plan\"), \n               size = 1, alpha = 0.4) +\n    # Matching plans\n    geom_point(data = . %&gt;% filter(matched_goal2),\n               aes(y = value, color = \"Plan (Matching Goal)\", shape = \"Plan\"), \n               size = 1.5) +\n    # Prior year values\n    geom_point(aes(y = family, color = \"Prior Year\", shape = \"Prior Year\"), \n               size = 2.5) +\n    # State averages with star shape, plotted last and largest\n    geom_point(aes(y = state_avg, color = \"State Average\", shape = \"State Average\"), \n               size = 2, stroke = 2) +\n    scale_color_manual(\n      name = \"Values\",\n      values = c(\n        \"State Average\" = \"#FF0000\",     # Bright red\n        \"Prior Year\" = \"#4169E1\",        # Royal blue\n        \"Plan (Matching Goal)\" = \"#228B22\",\n        \"Plan (Not Matching)\" = \"#CD5C5C\"\n      )\n    ) +\n    scale_shape_manual(\n      name = \"Type\",\n      values = c(\n        \"State Average\" = 8,    # Star\n        \"Prior Year\" = 17,      # Triangle\n        \"Plan\" = 16            # Circle\n      )\n    ) +\n    theme_minimal() +\n    theme(\n      axis.text.x = element_text(angle = 45, hjust = 1),\n      panel.grid.minor = element_blank(),\n      strip.background = element_rect(fill = \"lightgray\", color = NA),\n      strip.text = element_text(face = \"bold\"),\n      legend.position = \"bottom\",\n      legend.title = element_text(face = \"bold\")\n    ) +\n    facet_wrap(refClass ~ state, scales = \"free_y\") +\n    labs(\n      title = \"Study 2 - Plans vs. State Averages and Prior Year Values\",\n      x = \"Appliance\",\n      y = \"Value\"\n    )",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Response Patterns"
    ]
  },
  {
    "objectID": "misc/outlier.html",
    "href": "misc/outlier.html",
    "title": "Outliers and discrepancies",
    "section": "",
    "text": "library(pacman)\npacman::p_load(dplyr,purrr,tidyr,here, haven,tibble,ggplot2,gt,ggh4x,lme4,flextable,ggdist)\n\ns1 &lt;- readRDS(here::here(\"data/s1_processed.rds\"))\n\ns2_long &lt;- readRDS(here::here(\"data/s2_processed.rds\"))\n\ns1_agg &lt;- s1 |&gt; \n  filter(appliance !=\"Total kWh\") |&gt; \n  group_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \n  summarise(total_kWh = sum(value),orig_kWh=sum(family), \n            pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n            n_change = sum(value!=family),\n            state_p_dif=mean(state_p_dif),\n            state_f_dif=mean(state_f_dif),\n            n_less_avg = sum(less_avg),\n            duration=first(Duration__in_seconds_)) |&gt; \n  mutate(matched_goal = (pct_change == pct_goal), \n             error = pct_change - pct_goal,\n            abs_error = abs(error))\n\n# s1_agg |&gt; filter(matched_goal==FALSE, abs_error&lt;.02) |&gt; pull(abs_error)\n\n\ns1_agg4 &lt;- s1_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) \n\ns1_agg2 &lt;- s1_agg |&gt; group_by(id,refClass,state) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) \n\noutliers &lt;- s1_agg |&gt;  ungroup() |&gt; group_by(state) |&gt; mutate(change_mean=mean(pct_change,na.rm=TRUE),change_sd=sd(pct_change,na.rm=TRUE),\n                                     z_score=(pct_change-change_mean)/change_sd,\n                                     is_outlier=abs(z_score)&gt;3.0)\noutlier_id &lt;- outliers |&gt; filter(is_outlier) |&gt; pull(id) |&gt; unique()\n# quick summary of s1$Duration_in_seconds variable\nsummary(s1$Duration__in_seconds_)\n  #  Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  #   176     846    1184    1659    1688   47914 \n\ns1 |&gt; group_by(refClass) |&gt; \n  summarize(mean(Duration__in_seconds_),sd(Duration__in_seconds_),median(Duration__in_seconds_))\n\ns1 |&gt; ggplot(aes(x=Duration__in_seconds_)) + geom_histogram() + facet_wrap(~refClass)\n\ns1 |&gt;  mutate(id=reorder(id,Duration__in_seconds_)) |&gt; \n  ggplot(aes(y=id,x=Duration__in_seconds_)) + \n  geom_point(size=1,alpha=0.6,position = position_jitter(w=0, h=0.17)) +\n  ggh4x::facet_nested_wrap(~refClass,axes=\"all\",scales=\"free\",ncol=2)  \n\n\ns1_agg |&gt; filter(duration&lt;10000) |&gt;\n  ggplot(aes(x=duration,y=abs_error)) + geom_point() +\n  facet_wrap(~refClass)\n\n\ns1_agg |&gt; ggplot(aes(x=duration)) + geom_density() + facet_wrap(~refClass) + stat_halfeye()\n\n\n\ns2_long |&gt; filter(id==\"s2_10\") |&gt; head(20)\n\n\n\ns2_long |&gt; filter(id %in% unique(s2_long$id)[1:30]) |&gt; \n  filter(appliance!=\"TOTAL\",state==\"California\") |&gt; \n  ggplot(aes(x=appliance,y=value)) + geom_point(aes(shape=plan)) +\n  geom_point(aes(y=state_avg),color=\"red\") +\n  geom_point(aes(y=family),color=\"blue\") +\n  facet_wrap(~id) + theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\ns2_long |&gt; \n  filter(appliance!=\"TOTAL\",state==\"California\") |&gt; \n   ggplot(aes(x=appliance,y=family)) + geom_point() + facet_wrap(~rounded)\n\n\ns2_long |&gt; \n  filter(appliance!=\"TOTAL\",state==\"California\") |&gt; \n  group_by(appliance,family,rounded) |&gt; \n  # counts for each distinct value\n  summarise(n=n()) \n\ns2_long |&gt; \n  filter(appliance!=\"TOTAL\",state==\"California\",plan==\"plan1\") |&gt; \n  group_by(appliance,family,rounded) |&gt; \n  summarise(n=n()) |&gt;\n  ggplot(aes(x=appliance,y=family)) + geom_point(aes(size=n,alpha=.2)) + \n  geom_text(aes(label=n),vjust=1,size=8) +\n  facet_wrap(~rounded)\n\ns2_long |&gt; \n  filter(appliance!=\"TOTAL\",plan==\"plan1\") |&gt; \n  group_by(appliance,family,rounded,state) |&gt; \n  summarise(n=n()) |&gt;\n  ggplot(aes(x=appliance,y=family)) + geom_point(aes(size=n,alpha=.2)) + \n  geom_text(aes(label=n),vjust=1,size=7) +\n  facet_wrap(state~rounded)\n\n\n\n# bar plot version of the above\ns2_long |&gt; \n  filter(appliance!=\"TOTAL\",state==\"California\") |&gt; \n  group_by(appliance,family,rounded) |&gt; \n  summarise(n=n()) |&gt;\n  ggplot(aes(x=appliance,y=family,fill=rounded)) + geom_col() + facet_wrap(~rounded)\n\n\ns2_long %&gt;%\n  filter(appliance != \"TOTAL\", plan == \"plan1\") %&gt;%\n  group_by(appliance, rounded, state) %&gt;%\n  mutate(\n    distinct_families = n_distinct(family),\n    color_flag = distinct_families &gt; 1  # Flag as TRUE if more than 1 distinct value\n  ) %&gt;%\n  ungroup() %&gt;%\n  # Continue grouping for plotting\n  group_by(appliance, family, rounded, state,color_flag) %&gt;%\n  summarise(n = n(), .groups = \"drop\") %&gt;%\n  ggplot(aes(x = appliance, y = family,color = color_flag,fill=color_flag)) +\n geom_point(aes(alpha = .1, color = color_flag), position = position_jitter(width = 0.15)) +\n  geom_text(aes(label = n), size = 4, position = position_jitter(width = 0.45)) +\n  scale_color_manual(values = c(\"FALSE\" = \"black\", \"TRUE\" = \"blue\"), guide = \"none\") +\n  facet_wrap(state ~ rounded,scales=\"free_y\") +\n  labs(\n    x = \"Appliance\",\n    y = \"Family Value\",\n    size = \"Frequency (n)\"\n  ) \n\n\ns2_long %&gt;%\n  filter(appliance != \"TOTAL\", plan == \"plan1\") %&gt;%\n  group_by(appliance, rounded, state) %&gt;%\n  mutate(\n    distinct_families = n_distinct(state_avg),\n    color_flag = distinct_families &gt; 1  # Flag as TRUE if more than 1 distinct value\n  ) %&gt;%\n  ungroup() %&gt;%\n  # Continue grouping for plotting\n  group_by(appliance, state_avg, rounded, state,color_flag) %&gt;%\n  summarise(n = n(), .groups = \"drop\") %&gt;%\n  ggplot(aes(x = appliance, y = state_avg,color = color_flag,fill=color_flag)) +\n geom_point(aes(alpha = .1, color = color_flag), position = position_jitter(width = 0.15)) +\n  geom_text(aes(label = n), size = 4, position = position_jitter(width = 0.15)) +\n  scale_color_manual(values = c(\"FALSE\" = \"black\", \"TRUE\" = \"blue\"), guide = \"none\") +\n  facet_wrap(state ~ rounded,scales=\"free_y\") +\n  labs(\n    x = \"Appliance\",\n    y = \"Family Value\",\n    size = \"Frequency (n)\"\n  ) \n\n\n\ns1 %&gt;%\n  filter(appliance != \"Total kWh\", plan == \"plan1\") %&gt;%\n  group_by(appliance, state,refClass) %&gt;%\n  mutate(\n    distinct_families = n_distinct(family),\n    color_flag = distinct_families &gt; 1  # Flag as TRUE if more than 1 distinct value\n  ) %&gt;%\n  ungroup() %&gt;%\n  # Continue grouping for plotting\n  group_by(appliance, family, state,color_flag,refClass) %&gt;%\n  summarise(n = n(), .groups = \"drop\") %&gt;%\n  filter(color_flag) |&gt; \n  ggplot(aes(x = appliance, y = family,color = color_flag,fill=color_flag)) +\n #geom_point(aes(alpha = .1, color = color_flag), position = position_jitter(width = 0.15)) +\n  geom_text(aes(label = n), size = 4, position = position_jitter(width = 0.75,height=.1)) +\n  scale_color_manual(values = c(\"FALSE\" = \"black\", \"TRUE\" = \"blue\"), guide = \"none\") +\n  facet_wrap(refClass~state,scales=\"free_y\") +\n  labs(\n    x = \"Appliance\",\n    y = \"Family Value\",\n    size = \"Frequency (n)\"\n  )",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Outliers"
    ]
  },
  {
    "objectID": "misc/outlier.html#task-data-checks",
    "href": "misc/outlier.html#task-data-checks",
    "title": "Outliers and discrepancies",
    "section": "Task data checks",
    "text": "Task data checks\n\nlibrary(tidyverse)\nlibrary(haven)\n\n# for every combination of state, appliance, and refClass, calculate the number of distinct values of family, and of state_avg\ns1 |&gt; group_by(state,appliance,refClass) |&gt; \n  mutate(state_avg=as.numeric(state_avg)) |&gt; \n  summarise(n_distinct_family=n_distinct(family),\n            n_distinct_state_avg=n_distinct(state_avg), \n            # paste a string of each distinct value, separated by a comma\n            distinct_family=paste(unique(family),collapse=\",\"),\n            distinct_state_avg=paste(unique(state_avg),collapse=\",\")) |&gt;\n  filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) \n\n# A tibble: 11 × 7\n# Groups:   state, appliance [10]\n   state appliance       refClass   n_distinct_family n_distinct_state_avg\n   &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;                  &lt;int&gt;                &lt;int&gt;\n 1 CAL   Water Heating   USD                        2                    2\n 2 COL   Heating         kWh                        3                    2\n 3 COL   Refrigerator    kWh                        2                    1\n 4 COL   Total kWh       kWh                        2                    1\n 5 COL   Water Heating   USD                        1                    2\n 6 MASS  Water Heating   USD                        2                    1\n 7 TEX   Heating         USD                        2                    1\n 8 TEX   Other Appliance USD                        2                    1\n 9 TEX   Total kWh       kWh                        1                    2\n10 TEX   Water Heating   Percentage                 2                    1\n11 TEX   Water Heating   USD                        3                    2\n# ℹ 2 more variables: distinct_family &lt;chr&gt;, distinct_state_avg &lt;chr&gt;\n\ns2_long |&gt; group_by(state,appliance,refClass,rounded) |&gt; \n  mutate(state_avg=as.numeric(state_avg)) |&gt; \n  summarise(n_distinct_family=n_distinct(family),\n            n_distinct_state_avg=n_distinct(state_avg), \n            # paste a string of each distinct value, separated by a comma\n            distinct_family=paste(unique(family),collapse=\",\"),\n            distinct_state_avg=paste(unique(state_avg),collapse=\",\")) |&gt;\n  filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) \n\n# A tibble: 7 × 8\n# Groups:   state, appliance, refClass [7]\n  state        appliance refClass rounded n_distinct_family n_distinct_state_avg\n  &lt;chr&gt;        &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;               &lt;int&gt;                &lt;int&gt;\n1 California   HEAT      kWh      Not Ro…                 2                    1\n2 Colorado     WATER     Percent… Not Ro…                 1                    2\n3 Massachuset… AC        Percent… Rounded                 2                    1\n4 Massachuset… AC        USD      Rounded                 2                    1\n5 Texas        HEAT      Percent… Not Ro…                 2                    1\n6 Texas        HEAT      kWh      Not Ro…                 2                    1\n7 Texas        WATER     Percent… Not Ro…                 2                    1\n# ℹ 2 more variables: distinct_family &lt;chr&gt;, distinct_state_avg &lt;chr&gt;\n\ns1 |&gt; group_by(state,appliance,refClass) |&gt; \n  mutate(n_distinct_family=n_distinct(family),\n            n_distinct_state_avg=n_distinct(state_avg), \n            # paste a string of each distinct value, separated by a comma\n            distinct_family=paste(unique(family),collapse=\",\"),\n            distinct_state_avg=paste(unique(state_avg),collapse=\",\")) |&gt;\n  group_by(state,appliance,refClass,family,state_avg) |&gt;\n  select(-calc,-edu,-modality,-id2,-Duration__in_seconds_) |&gt; \n    filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) |&gt; head(20)\n\n# A tibble: 20 × 20\n# Groups:   state, appliance, refClass, family, state_avg [1]\n      id state1   state2 refClass   state appliance family state_avg plan  value\n   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;fct&gt; &lt;dbl&gt;\n 1     1 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan1   700\n 2     1 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan2  4500\n 3     2 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan1  4396\n 4     2 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan2  4396\n 5     3 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan1  4468\n 6     3 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan2  4400\n 7     4 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan1  1000\n 8     4 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan2  1000\n 9     5 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan1  3756\n10     5 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan2  2987\n11     6 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan1  5200\n12     6 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan2  4530\n13     7 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan1  4257\n14     7 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan2  3396\n15     8 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan1  5100\n16     8 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan2  4500\n17     9 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan1  5217\n18     9 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan2  4346\n19    10 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan1  4468\n20    10 Colorado Texas  Percentage TEX   Water He…   5.26 4396      plan2  4468\n# ℹ 10 more variables: block &lt;dbl&gt;, pct_goal &lt;dbl&gt;, change &lt;dbl&gt;,\n#   state_p_dif &lt;dbl&gt;, state_f_dif &lt;dbl&gt;, less_avg &lt;lgl&gt;,\n#   n_distinct_family &lt;int&gt;, n_distinct_state_avg &lt;int&gt;, distinct_family &lt;chr&gt;,\n#   distinct_state_avg &lt;chr&gt;\n\ns1 |&gt; \n    group_by(state, appliance, refClass) |&gt; \n    mutate(n_distinct_family = n_distinct(family),\n           n_distinct_state_avg = n_distinct(state_avg), \n           distinct_family = paste(unique(family), collapse = \",\"),\n           distinct_state_avg = paste(unique(state_avg), collapse = \",\")) |&gt;\n    filter(n_distinct_family &gt; 1 | n_distinct_state_avg &gt; 1) |&gt; \n    group_by(state, appliance, refClass, family, state_avg) |&gt; \n    mutate(state_avg_count = n_distinct(state_avg),\n           family_count = n()) |&gt; \n    ungroup() |&gt; \n    group_by(state, appliance, refClass, state_avg) |&gt; \n    mutate(state_avg_count = n()) |&gt; \n    distinct(state, appliance, refClass, family, state_avg, family_count, state_avg_count) |&gt; \n  arrange(state,appliance,refClass) |&gt; head(15)\n\n# A tibble: 15 × 7\n# Groups:   state, appliance, refClass, state_avg [10]\n   state appliance     refClass family state_avg family_count state_avg_count\n   &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;     &lt;dbl&gt; &lt;dbl+lbl&gt;        &lt;int&gt;           &lt;int&gt;\n 1 CAL   Water Heating USD        5061  4601               82              82\n 2 CAL   Water Heating USD        5124  4534                2               2\n 3 COL   Heating       kWh         340   587                2               2\n 4 COL   Heating       kWh       18052 16411               72              74\n 5 COL   Heating       kWh       11441 16411                2              74\n 6 COL   Refrigerator  kWh        5600  1142                2              76\n 7 COL   Refrigerator  kWh        1370  1142               74              76\n 8 COL   Total kWh     kWh        1500 30535                2              76\n 9 COL   Total kWh     kWh       39768 30535               74              76\n10 COL   Water Heating USD       11667  4000                2               2\n11 COL   Water Heating USD       11667  5832               94              94\n12 MASS  Water Heating USD           1  5070                2              92\n13 MASS  Water Heating USD       10543  5070               90              92\n14 TEX   Heating       USD           1  5099                2             104\n15 TEX   Heating       USD        6118  5099              102             104\n\nproblematic_ids &lt;- c(\"R_1kFwgoKAmNTwCs3\") # Add other IDs as needed\n\nraw_subset &lt;-  haven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\")) %&gt;%\n  filter(ResponseId %in% problematic_ids) %&gt;%\n  select(ResponseId, starts_with(\"P1\"), starts_with(\"P2\"), \n         starts_with(\"P3\"), starts_with(\"P4\"))\n\nprint(raw_subset)\n\n# A tibble: 1 × 593\n  ResponseId     P1TEX01 P1TEX02 P1TEX03 P1TEX04 P1TEX05 P1TEX06 P1TEX07 P1TEX08\n  &lt;chr&gt;          &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n1 R_1kFwgoKAmNT… NA      NA      NA      NA      NA      NA           NA      NA\n# ℹ 584 more variables: P1TEX09 &lt;dbl&gt;, P1TEX10 &lt;dbl&gt;, P1TEX11 &lt;dbl&gt;,\n#   P1TEX12 &lt;dbl&gt;, P1TEX13 &lt;dbl&gt;, P1TEX14 &lt;dbl&gt;, P1TEX15 &lt;dbl&gt;, P1TEX16 &lt;dbl&gt;,\n#   P1TEX17 &lt;dbl&gt;, P1TEX18 &lt;dbl&gt;, P1TEX19 &lt;dbl&gt;, P1TEX20 &lt;dbl&gt;, P1TEX21 &lt;dbl&gt;,\n#   P1TEX22 &lt;dbl&gt;, P1TEX23 &lt;dbl&gt;, P1TEX24 &lt;dbl&gt;, P1TEX25 &lt;dbl&gt;, P1TEX26 &lt;dbl&gt;,\n#   P1TEX27 &lt;dbl&gt;, P1TEX28 &lt;dbl&gt;, P1TEX29 &lt;dbl&gt;, P1TEX30 &lt;dbl&gt;,\n#   P1TEX31 &lt;dbl+lbl&gt;, P1TEX32 &lt;chr&gt;, P1TEX33 &lt;dbl+lbl&gt;, P1TEX34 &lt;dbl+lbl&gt;,\n#   P1TEX35 &lt;dbl+lbl&gt;, P1TEX36 &lt;dbl+lbl&gt;, P1TEX37 &lt;dbl+lbl&gt;, …\n\ns2_long |&gt; filter(state==\"Texas\",appliance==\"HEAT\", rounded==\"Not Rounded\",refClass==\"kWh\") |&gt; arrange(-family)\n\n# A tibble: 36 × 16\n# Groups:   id, block [18]\n   id     block refClass appliance pct_goal rounded     state calc   edu     pct\n   &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;  &lt;fct&gt; &lt;dbl&gt;\n 1 s2_10      1 kWh      HEAT      10%      Not Rounded Texas No Ca… Coll…  0.1 \n 2 s2_10      1 kWh      HEAT      10%      Not Rounded Texas No Ca… Coll…  0.1 \n 3 s2_100     2 kWh      HEAT      15%      Not Rounded Texas Calcu… High…  0.15\n 4 s2_100     2 kWh      HEAT      15%      Not Rounded Texas Calcu… High…  0.15\n 5 s2_101     2 kWh      HEAT      15%      Not Rounded Texas Calcu… Some…  0.15\n 6 s2_101     2 kWh      HEAT      15%      Not Rounded Texas Calcu… Some…  0.15\n 7 s2_137     1 kWh      HEAT      10%      Not Rounded Texas Calcu… Some…  0.1 \n 8 s2_137     1 kWh      HEAT      10%      Not Rounded Texas Calcu… Some…  0.1 \n 9 s2_138     1 kWh      HEAT      10%      Not Rounded Texas Calcu… Grad…  0.1 \n10 s2_138     1 kWh      HEAT      10%      Not Rounded Texas Calcu… Grad…  0.1 \n# ℹ 26 more rows\n# ℹ 6 more variables: family &lt;dbl&gt;, state_avg &lt;dbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;,\n#   change &lt;dbl&gt;, state_dif &lt;dbl&gt;\n\ns2_long |&gt; filter(id==\"s2_10\") |&gt; head(20) # no effort\n\n# A tibble: 20 × 16\n# Groups:   id, block [2]\n   id    block refClass appliance pct_goal rounded     state   calc  edu     pct\n   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;fct&gt; &lt;dbl&gt;\n 1 s2_10     1 kWh      AC        10%      Not Rounded Texas   No C… Coll…  0.1 \n 2 s2_10     1 kWh      AC        10%      Not Rounded Texas   No C… Coll…  0.1 \n 3 s2_10     1 kWh      HEAT      10%      Not Rounded Texas   No C… Coll…  0.1 \n 4 s2_10     1 kWh      HEAT      10%      Not Rounded Texas   No C… Coll…  0.1 \n 5 s2_10     1 kWh      WATER     10%      Not Rounded Texas   No C… Coll…  0.1 \n 6 s2_10     1 kWh      WATER     10%      Not Rounded Texas   No C… Coll…  0.1 \n 7 s2_10     1 kWh      REFRIG    10%      Not Rounded Texas   No C… Coll…  0.1 \n 8 s2_10     1 kWh      REFRIG    10%      Not Rounded Texas   No C… Coll…  0.1 \n 9 s2_10     1 kWh      OTHER     10%      Not Rounded Texas   No C… Coll…  0.1 \n10 s2_10     1 kWh      OTHER     10%      Not Rounded Texas   No C… Coll…  0.1 \n11 s2_10     1 kWh      TOTAL     10%      Not Rounded Texas   No C… Coll…  0.1 \n12 s2_10     1 kWh      TOTAL     10%      Not Rounded Texas   No C… Coll…  0.1 \n13 s2_10     2 kWh      AC        15%      Rounded     Massac… No C… Coll…  0.15\n14 s2_10     2 kWh      AC        15%      Rounded     Massac… No C… Coll…  0.15\n15 s2_10     2 kWh      HEAT      15%      Rounded     Massac… No C… Coll…  0.15\n16 s2_10     2 kWh      HEAT      15%      Rounded     Massac… No C… Coll…  0.15\n17 s2_10     2 kWh      WATER     15%      Rounded     Massac… No C… Coll…  0.15\n18 s2_10     2 kWh      WATER     15%      Rounded     Massac… No C… Coll…  0.15\n19 s2_10     2 kWh      REFRIG    15%      Rounded     Massac… No C… Coll…  0.15\n20 s2_10     2 kWh      REFRIG    15%      Rounded     Massac… No C… Coll…  0.15\n# ℹ 6 more variables: family &lt;dbl&gt;, state_avg &lt;dbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;,\n#   change &lt;dbl&gt;, state_dif &lt;dbl&gt;\n\n\nr$&gt; s1 |&gt; filter(family==34265) |&gt; select(id,state1,state2,refClass,id2,state,appliance,family,state_avg,plan,value,block,pct_goal) # A tibble: 2 × 13 # Groups: id [1] id state1 state2 refClass id2 state appliance family state_avg plan value block pct_goal  &lt;dbl+lbl&gt;  1 16 Texas Massachusetts USD R_3gNKA8IQr0uOSh3 TEX Water Heating 34265 4396 plan1 5486 1 0.15 2 16 Texas Massachusetts USD R_3gNKA8IQr0uOSh3 TEX Water Heating 34265 4396 plan2 6414 1 0.15\ns1 |&gt; filter(state_avg==29046) # A tibble: 2 × 21 # Groups: id [1] id state1 state2 refClass calc edu modality state id2 Duration_in_seconds appliance family state_avg plan value block  &lt;dbl+lbl&gt;  1 12 Colorado Texas kWh Used… Grad… A TEX R_ab… 644 Total kWh 29046 29046 plan1 29046 2 2 12 Colorado Texas kWh Used… Grad… A TEX R_ab… 644 Total kWh 29046 29046 plan2 29046 2 ℹ 5 more variables: pct_goal , change , state_p_dif , state_f_dif , less_avg \ns2_long |&gt; group_by(state,appliance,refClass,rounded) |&gt; mutate(state_avg=as.numeric(state_avg)) |&gt; summarise(n_distinct_family=n_distinct(family), n_distinct_state_avg=n_distinct(state_avg), # paste a string of each distinct value, separated by a comma distinct_family=paste(unique(family),collapse=“,”), distinct_state_avg=paste(unique(state_avg),collapse=“,”)) |&gt; filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) # A tibble: 8 × 8 # Groups: state, appliance, refClass [8] state appliance refClass rounded n_distinct_family n_distinct_state_avg distinct_family distinct_state_avg \n1 California HEAT kWh Not Rounded 2 1 3000,6157 5597\n2 Colorado HEAT USD Rounded 1 2 18000 16411,NA\n3 Colorado WATER Percentage Not Rounded 1 2 11667 1142,5832\n4 Massachusetts AC Percentage Rounded 2 1 0,1 322\n5 Massachusetts AC USD Rounded 2 1 0,1 322\n6 Texas HEAT Percentage Not Rounded 2 1 6118,5 5099\n7 Texas HEAT kWh Not Rounded 2 1 8539,6118 5099\n8 Texas WATER Percentage Not Rounded 2 1 5.257,5257 4396\nr$&gt; s2_long |&gt; filter(family==3000,state==“California”,appliance==“HEAT”) # A tibble: 2 × 16 # Groups: id, block [1] id block refClass appliance pct_goal rounded state calc edu pct family state_avg plan value change state_dif  1 s2_11 1 kWh HEAT 10% Not Rounded California No Calculator Some college 0.1 3000 5597 plan1 4000 1000 -1597 2 s2_11 1 kWh HEAT 10% Not Rounded California No Calculator Some college 0.1 3000 5597 plan2 5000 2000 -597\ns2_long |&gt; filter(family==1) id block refClass appliance pct_goal rounded state calc edu pct family state_avg plan value change state_dif  1 s2_8 1 Percentage AC 15% Rounded Massachusetts Calculator College degree 0.15 1 322 plan1 1 0 -321 2 s2_8 1 Percentage AC 15% Rounded Massachusetts Calculator College degree 0.15 1 322 plan2 1 0 -321 3 s2_9 2 USD AC 10% Rounded Massachusetts No Calculator College degree 0.1 1 322 plan1 1 0 -321 4 s2_9 2 USD AC 10% Rounded Massachusetts No Calculator College degree 0.1 1 322 plan2 1 0 -321",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Outliers"
    ]
  },
  {
    "objectID": "misc/outlier.html#wells-family-15-r-and-smith-family-10-e-percentage---5.257-for-texas-water-heating",
    "href": "misc/outlier.html#wells-family-15-r-and-smith-family-10-e-percentage---5.257-for-texas-water-heating",
    "title": "Outliers and discrepancies",
    "section": "Wells Family 15 R and Smith Family 10 E Percentage - 5.257 for Texas water heating",
    "text": "Wells Family 15 R and Smith Family 10 E Percentage - 5.257 for Texas water heating\ns2_long |&gt; filter(family==5.257) # A tibble: 8 × 16 # Groups: id, block [4] id block refClass appliance pct_goal rounded state calc edu pct family state_avg plan value change state_dif  1 s2_1 2 Percentage WATER 10% Not Rounded Texas Calculator Some college 0.1 5.26 4396 plan1 5000 4995. 604 2 s2_1 2 Percentage WATER 10% Not Rounded Texas Calculator Some college 0.1 5.26 4396 plan2 5000 4995. 604 3 s2_2 2 Percentage WATER 10% Not Rounded Texas No Calculator Graduate degree 0.1 5.26 4396 plan1 4396 4391. 0 4 s2_2 2 Percentage WATER 10% Not Rounded Texas No Calculator Graduate degree 0.1 5.26 4396 plan2 5257 5252. 861 5 s2_3 2 Percentage WATER 10% Not Rounded Texas Calculator Graduate degree 0.1 5.26 4396 plan1 3527 3522. -869 6 s2_3 2 Percentage WATER 10% Not Rounded Texas Calculator Graduate degree 0.1 5.26 4396 plan2 3027 3022. -1369 7 s2_4 2 Percentage WATER 10% Not Rounded Texas Calculator Graduate degree 0.1 5.26 4396 plan1 4800 4795. 404 8 s2_4 2 Percentage WATER 10% Not Rounded Texas Calculator Graduate degree 0.1 5.26 4396 plan2 5000 4995. 604",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Outliers"
    ]
  },
  {
    "objectID": "misc/outlier.html#inspects-counts-for-each-distinct-value-of-prior-year-family-use-and-state-average",
    "href": "misc/outlier.html#inspects-counts-for-each-distinct-value-of-prior-year-family-use-and-state-average",
    "title": "Outliers and discrepancies",
    "section": "Inspects counts for each distinct value of prior year family use, and state average",
    "text": "Inspects counts for each distinct value of prior year family use, and state average\n\nlibrary(dplyr)\nlibrary(flextable)\nlibrary(officer)\n\n\ncorrect_values &lt;- tribble(\n  ~state, ~appliance, ~family, ~state_avg,\n  # Texas values\n  \"Texas\", \"Cooling\", 6573, 4249,\n  \"Texas\", \"Heating\", 6118, 5099,\n  \"Texas\", \"Water Heating\", 5257, 4396,\n  \"Texas\", \"Refrigerator\", 2639, 1318,\n  \"Texas\", \"Other Appliance\", 8459, 7883,\n  \"Texas\", \"Total kWh\", 29046, 22945,\n  \n  # California values\n  \"California\", \"Cooling\", 2581, 1289,\n  \"California\", \"Heating\", 6157, 5597,\n  \"California\", \"Water Heating\", 5061, 4601,\n  \"California\", \"Refrigerator\", 1266, 1055,\n  \"California\", \"Other Appliance\", 7608, 6916,\n  \"California\", \"Total kWh\", 22673, 19458,\n  \n  # Colorado values\n  \"Colorado\", \"Cooling\", 697, 498,\n  \"Colorado\", \"Heating\", 18052, 16411,\n  \"Colorado\", \"Water Heating\", 11667, 5832,\n  \"Colorado\", \"Refrigerator\", 1370, 1142,\n  \"Colorado\", \"Other Appliance\", 7882, 6652,\n  \"Colorado\", \"Total kWh\", 39768, 30535,\n  \n  # Massachusetts values\n  \"Massachusetts\", \"Cooling\", 419, 322,\n  \"Massachusetts\", \"Heating\", 26751, 19108,\n  \"Massachusetts\", \"Water Heating\", 10543, 5070,\n  \"Massachusetts\", \"Refrigerator\", 1230, 1025,\n  \"Massachusetts\", \"Other Appliance\", 7350, 6682,\n  \"Massachusetts\", \"Total kWh\", 46293, 32207\n)\n\n\n# First, create a lookup table of correct values\ncorrect_lookup &lt;- correct_values %&gt;%\n  select(state, appliance, family) %&gt;%\n  mutate(state = case_when(\n    state == \"Texas\" ~ \"TEX\",\n    state == \"California\" ~ \"CAL\",\n    state == \"Colorado\" ~ \"COL\",\n    state == \"Massachusetts\" ~ \"MASS\",\n    TRUE ~ state\n  ))\n\n# Modify the main table\ns1 %&gt;%\n  filter(appliance != \"Total kWh\", plan == \"plan1\") %&gt;%\n  group_by(appliance, state, refClass) %&gt;%\n  mutate(\n    distinct_families = n_distinct(family),\n    color_flag = distinct_families &gt; 1\n  ) %&gt;%\n  ungroup() %&gt;%\n  filter(color_flag) %&gt;%\n  group_by(appliance, family, state, color_flag, refClass) %&gt;%\n  summarise(n = n(), .groups = \"drop\") %&gt;%\n  select(-color_flag) %&gt;%\n  # Join with correct values to create is_correct flag\n  left_join(correct_lookup, \n            by = c(\"state\", \"appliance\"),\n            suffix = c(\"\", \"_correct\")) %&gt;%\n  mutate(is_correct = abs(as.numeric(family) - family_correct) &lt; 0.1) %&gt;%\n  select(-family_correct) %&gt;%\n  # Reorganize and format\n  select(state, refClass, appliance, family, n, is_correct) %&gt;%  # Swapped order here\n  arrange(state, appliance, refClass, family) %&gt;%\n  flextable() %&gt;%\n  add_header_lines(values = \"Family prior year use per utility counts (green=most frequent)\") %&gt;%\n  bold(part = \"header\", i = 1) %&gt;%\n  # Merge cells\n  merge_v(j = \"state\") %&gt;%\n  merge_v(j = c(\"appliance\", \"refClass\")) %&gt;%\n  # Conditional formatting for both family and count\n  color(i = ~ is_correct == TRUE, j = c(\"family\", \"n\"), color = \"darkgreen\") %&gt;%\n  color(i = ~ is_correct == FALSE, j = c(\"family\", \"n\"), color = \"darkred\") %&gt;%\n  bg(i = ~ is_correct == TRUE, j = c(\"family\", \"n\"), bg = \"#e6ffe6\") %&gt;%\n  bg(i = ~ is_correct == FALSE, j = c(\"family\", \"n\"), bg = \"#ffe6e6\") %&gt;%\n  # Style improvements\n  theme_vanilla() %&gt;%\n  align(j = c(\"family\", \"n\"), align = \"right\") %&gt;%\n  border_outer() %&gt;%\n  border_inner() %&gt;%\n  fontsize(size = 11) %&gt;%\n  padding(padding = 4) %&gt;%\n  # Add section borders\n  hline(i = ~ state != lag(state, default = first(state)), \n        border = officer::fp_border(color = \"gray40\", width = 2)) %&gt;%\n  colformat_double(j = \"family\", digits = 1) %&gt;%\n  set_header_labels(\n    state = \"State\",\n    appliance = \"Appliance\",\n    family = \"Family\",\n    refClass = \"Reference Class\",\n    n = \"Count\",\n    is_correct = \"Correct Value\"\n  ) %&gt;%\n  autofit()\n\n\n\n\n\nFamily prior year use per utility counts (green=most frequent)\n\nState\nReference Class\nAppliance\nFamily\nCount\nCorrect Value\n\n\n\n\nCAL\nUSD\nWater Heating\n5,061.0\n41\nTRUE\n\n\n5,124.0\n1\nFALSE\n\n\nCOL\nkWh\nHeating\n340.0\n1\nFALSE\n\n\n11,441.0\n1\nFALSE\n\n\n18,052.0\n36\nTRUE\n\n\nRefrigerator\n1,370.0\n37\nTRUE\n\n\n5,600.0\n1\nFALSE\n\n\nMASS\nUSD\nWater Heating\n1.0\n1\nFALSE\n\n\n10,543.0\n45\nTRUE\n\n\nTEX\nHeating\n1.0\n1\nFALSE\n\n\n6,118.0\n51\nTRUE\n\n\nOther Appliance\n5,987.0\n1\nFALSE\n\n\n8,459.0\n51\nTRUE\n\n\nPercentage\nWater Heating\n5.3\n10\nFALSE\n\n\n5,257.0\n29\nTRUE\n\n\nUSD\n5,257.0\n50\nTRUE\n\n\n5,600.0\n1\nFALSE\n\n\n34,265.0\n1\nFALSE\n\n\n\n\n\nlibrary(dplyr)\nlibrary(flextable)\nlibrary(officer)\n\nlibrary(dplyr)\nlibrary(flextable)\nlibrary(officer)\n\ns1 %&gt;%\n  filter(appliance != \"Total kWh\", plan == \"plan1\") %&gt;%\n  group_by(appliance, state, refClass) %&gt;%\n  mutate(distinct_state_avg = n_distinct(state_avg)) %&gt;%\n  ungroup() %&gt;%\n  filter(distinct_state_avg &gt; 1) %&gt;%\n  group_by(appliance, state_avg, state, refClass) %&gt;%\n  summarise(n = n(), .groups = \"drop\") %&gt;%\n  # Identify outliers (rows where n is 1)\n  mutate(is_outlier = n == 1) %&gt;%\n  # Reorganize and format\n  select(state, refClass, appliance, state_avg, n) %&gt;%\n  arrange(state, appliance, refClass, state_avg) %&gt;%\n  flextable() %&gt;%\n  # Add title\n  add_header_lines(values = \"State Avg. per utility counts (green=most frequent)\") %&gt;%\n  bold(part = \"header\", i = 1) %&gt;%\n  # Merge cells\n  merge_v(j = \"state\") %&gt;%\n  merge_v(j = c(\"appliance\", \"refClass\")) %&gt;%\n  # Conditional formatting for outliers\n  color(i = ~ n == 1, j = c(\"state_avg\", \"n\"), color = \"darkred\") %&gt;%\n  color(i = ~ n &gt; 1, j = c(\"state_avg\", \"n\"), color = \"darkgreen\") %&gt;%\n  bg(i = ~ n == 1, j = c(\"state_avg\", \"n\"), bg = \"#ffe6e6\") %&gt;%\n  bg(i = ~ n &gt; 1, j = c(\"state_avg\", \"n\"), bg = \"#e6ffe6\") %&gt;%\n  # Style improvements\n  theme_vanilla() %&gt;%\n  align(j = c(\"state_avg\", \"n\"), align = \"right\") %&gt;%\n  border_outer() %&gt;%\n  border_inner() %&gt;%\n  fontsize(size = 11) %&gt;%\n  padding(padding = 4) %&gt;%\n  # Add section borders\n  hline(i = ~ state != lag(state, default = first(state)), \n        border = officer::fp_border(color = \"gray40\", width = 2)) %&gt;%\n  colformat_double(j = \"state_avg\", digits = 0) %&gt;%\n  set_header_labels(\n    state = \"State\",\n    appliance = \"Appliance\",\n    state_avg = \"State Average\",\n    refClass = \"Reference Class\",\n    n = \"Count\"\n  ) %&gt;%\n  autofit()\n\n\n\n\n\nState Avg. per utility counts (green=most frequent)\n\nState\nReference Class\nAppliance\nState Average\nCount\n\n\n\n\nCAL\nUSD\nWater Heating\n4,534\n1\n\n\n4,601\n41\n\n\nCOL\nkWh\nHeating\n587\n1\n\n\n16,411\n37\n\n\nUSD\nWater Heating\n4,000\n1\n\n\n5,832\n47\n\n\nTEX\n400\n1\n\n\n4,396\n51\n\n\n\n\n\n\nAlternate discrep frequency tables\n\nlibrary(dplyr)\nlibrary(gt)\n\ntable_data &lt;- s1 %&gt;%\n  filter(appliance != \"Total kWh\", plan == \"plan1\") %&gt;%\n  group_by(appliance, state, refClass) %&gt;%\n  mutate(distinct_families = n_distinct(family)) %&gt;%\n  ungroup() %&gt;%\n  filter(distinct_families &gt; 1) %&gt;%\n  group_by(appliance, family, state, refClass) %&gt;%\n  summarise(n = n(), .groups = \"drop\") %&gt;%\n  arrange(state, refClass, appliance)\n\n# Prepare the data with separate columns for Family and Frequency\ntable_data_compact &lt;- table_data %&gt;%\n  arrange(state, appliance, refClass, desc(n)) %&gt;%  # Sort by descending frequency\n  select(state, refClass, appliance, family, n) %&gt;%\n  group_by(state, refClass, appliance) %&gt;%\n  summarise(\n    Family = paste(family[order(-n)], collapse = \", \"),  # Order family values by descending frequency\n    Frequency = paste(n[order(-n)], collapse = \", \"),    # Order frequency values in descending order\n    .groups = \"drop\"\n  )\n\n# Create the GT table with the new format\ntable_data_compact %&gt;%\n  gt(rowname_col = \"state\") %&gt;%\n  tab_header(\n    title = \"Compact Frequency Table by State, RefClass, and Appliance\"\n  ) %&gt;%\n  # Label columns for clarity\n  cols_label(\n    refClass = \"Reference Class\",\n    appliance = \"Appliance\",\n    Family = \"Family last year\",\n    Frequency = \"Frequency (n)\"\n  ) %&gt;%\n  # Style the table headers\n  tab_style(\n    style = cell_text(weight = \"bold\"),\n    locations = cells_column_labels(columns = everything())\n  ) %&gt;%\n  # Center the row group headers for each state\n  tab_style(\n    style = list(cell_text(weight = \"bold\", align = \"center\")),\n    locations = cells_row_groups(groups = everything())\n  ) %&gt;%\n  # Style the appliance rows with lighter borders for each appliance within the state\n  tab_options(\n    row_group.border.bottom.color = \"grey\",\n    row_group.border.bottom.width = px(1),\n    table.font.size = px(13),\n    data_row.padding = px(3),  # Compact padding\n    row.striping.include_stub = TRUE,\n    row.striping.background_color = \"lightgrey\",\n    table.width = pct(100)\n  )\n\n\n\n\n\n\nCompact Frequency Table by State, RefClass, and Appliance\n\n\n\nReference Class\nAppliance\nFamily last year\nFrequency (n)\n\n\n\n\nCAL\nUSD\nWater Heating\n5061, 5124\n41, 1\n\n\nCOL\nkWh\nHeating\n18052, 340, 11441\n36, 1, 1\n\n\nCOL\nkWh\nRefrigerator\n1370, 5600\n37, 1\n\n\nMASS\nUSD\nWater Heating\n10543, 1\n45, 1\n\n\nTEX\nPercentage\nWater Heating\n5257, 5.257\n29, 10\n\n\nTEX\nUSD\nHeating\n6118, 1\n51, 1\n\n\nTEX\nUSD\nOther Appliance\n8459, 5987\n51, 1\n\n\nTEX\nUSD\nWater Heating\n5257, 5600, 34265\n50, 1, 1\n\n\n\n\n\n#######\n\nlibrary(dplyr)\nlibrary(gt)\n\n# Prepare the data, focusing on `state_avg` instead of `family`\ntable_data_state_avg &lt;- s1 %&gt;%\n  filter(appliance != \"Total kWh\", plan == \"plan1\") %&gt;%\n  group_by(appliance, state, refClass) %&gt;%\n  mutate(distinct_state_avg = n_distinct(state_avg)) %&gt;%\n  ungroup() %&gt;%\n  filter(distinct_state_avg &gt; 1) %&gt;%\n  group_by(appliance, state_avg, state, refClass) %&gt;%\n  summarise(n = n(), .groups = \"drop\") %&gt;%\n  arrange(state, refClass, appliance, desc(n)) %&gt;%  # Sort by descending frequency\n  select(state, refClass, appliance, state_avg, n) %&gt;%\n  group_by(state, refClass, appliance) %&gt;%\n  summarise(\n    State_Avg = paste(state_avg[order(-n)], collapse = \", \"),  # Order state_avg values by descending frequency\n    Frequency = paste(n[order(-n)], collapse = \", \"),          # Order frequency values in descending order\n    .groups = \"drop\"\n  )\n\n# Create the GT table with the new format\ntable_data_state_avg %&gt;%\n  gt(rowname_col = \"state\") %&gt;%\n  tab_header(\n    title = \"Compact Frequency Table by RefClass, Appliance, and State Average\"\n  ) %&gt;%\n  # Label columns for clarity\n  cols_label(\n    refClass = \"Reference Class\",\n    appliance = \"Appliance\",\n    State_Avg = \"State Avg\",\n    Frequency = \"Frequency (n)\"\n  ) %&gt;%\n  # Style the table headers\n  tab_style(\n    style = cell_text(weight = \"bold\"),\n    locations = cells_column_labels(columns = everything())\n  ) %&gt;%\n  # Center the row group headers for each state\n  tab_style(\n    style = list(cell_text(weight = \"bold\", align = \"center\")),\n    locations = cells_row_groups(groups = everything())\n  ) %&gt;%\n  # Style the appliance rows with lighter borders for each appliance within the state\n  tab_options(\n    row_group.border.bottom.color = \"grey\",\n    row_group.border.bottom.width = px(1),\n    table.font.size = px(13),\n    data_row.padding = px(3),  # Compact padding\n    row.striping.include_stub = TRUE,\n    row.striping.background_color = \"lightgrey\",\n    table.width = pct(100)\n  )\n\n\n\n\n\n\nCompact Frequency Table by RefClass, Appliance, and State Average\n\n\n\nReference Class\nAppliance\nState Avg\nFrequency (n)\n\n\n\n\nCAL\nUSD\nWater Heating\n4601, 4534\n41, 1\n\n\nCOL\nUSD\nWater Heating\n5832, 4000\n47, 1\n\n\nCOL\nkWh\nHeating\n16411, 587\n37, 1\n\n\nTEX\nUSD\nWater Heating\n4396, 400\n51, 1\n\n\n\n\n\n\n\nlibrary(dplyr)\nlibrary(purrr)\nlibrary(tidyr)\nlibrary(haven)\nlibrary(here)\n\n# Define a mapping between state codes and full state names\nstate_code_map &lt;- c(\n  \"CAL\" = \"California\",\n  \"TEX\" = \"Texas\",\n  \"COL\" = \"Colorado\",\n  \"MASS\" = \"Massachusetts\"\n)\n\n# Revised parse_action_plan function\nparse_action_plan &lt;- function(df) {\n  \n  # Extract participant-specific states\n  participant_states &lt;- c(unique(df$state1), unique(df$state2))\n  \n  # Select action plan columns based on state codes\n  action_plan_cols &lt;- df %&gt;% \n    select(matches(\"^[ADP]\\\\d+(CAL|MASS|COL|TEX)\\\\d{2,3}$\")) %&gt;%\n    select(-matches(\"32$\")) %&gt;%  # Exclude columns ending with '32'\n    names()\n  \n  # Pivot longer to reshape data\n  df_long &lt;- df %&gt;%\n    pivot_longer(\n      cols = all_of(action_plan_cols),\n      names_to = c(\"modality\", \"state_code\", \"item_num\"),\n      names_pattern = \"^([ADP])\\\\d+(CAL|MASS|COL|TEX)(\\\\d+)$\",\n      values_to = \"value\"\n    ) %&gt;%\n    mutate(\n      # Map state codes to full state names\n      state_full = state_code_map[state_code],\n      # Ensure that the state_full is one of the participant's assigned states\n      state_assigned = if_else(state_full %in% participant_states, state_full, NA_character_)\n    ) %&gt;%\n    filter(!is.na(state_assigned)) %&gt;%  # Keep only matching states\n    select(id, state1, state2, refClass, calc, edu, modality, state_assigned, item_num, value, id2, Duration__in_seconds_) \n  \n  # Assign appliance based on item_num\n  df_long &lt;- df_long %&gt;%\n    mutate(\n      appliance = case_when(\n        item_num %in% c(\"07\",\"08\",\"09\",\"10\") ~ \"Cooling\",\n        item_num %in% c(\"11\",\"12\",\"13\",\"14\") ~ \"Heating\",\n        item_num %in% c(\"15\",\"16\",\"17\",\"18\") ~ \"Water Heating\",\n        item_num %in% c(\"19\",\"20\",\"21\",\"22\") ~ \"Refrigerator\",\n        item_num %in% c(\"23\",\"24\",\"25\",\"26\") ~ \"Other Appliance\",\n        item_num %in% c(\"27\",\"28\",\"29\",\"30\") ~ \"Total kWh\",\n        item_num == \"31\" ~ \"Preferred Plan\",\n        item_num %in% c(\"33\",\"34\",\"35\",\"36\",\"37\") ~ \"Reduction Choices\",\n        TRUE ~ NA_character_\n      ),\n      # Assign item_type based on item_num\n      item_type = case_when(\n        item_num %in% c(\"07\",\"11\",\"15\",\"19\",\"23\",\"27\") ~ \"family\",\n        item_num %in% c(\"08\",\"12\",\"16\",\"20\",\"24\",\"28\") ~ \"state_avg\",\n        item_num %in% c(\"09\",\"13\",\"17\",\"21\",\"25\",\"29\") ~ \"plan1\",\n        item_num %in% c(\"10\",\"14\",\"18\",\"22\",\"26\",\"30\") ~ \"plan2\",\n        TRUE ~ \"other\"\n      )\n    )\n  \n  # Continue processing only relevant item_types\n  df_long &lt;- df_long %&gt;%\n    filter(item_type != \"other\") %&gt;%\n    select(-item_num) %&gt;%\n    pivot_wider(names_from = \"item_type\", values_from = \"value\") %&gt;%\n    pivot_longer(cols = c(\"plan1\", \"plan2\"), names_to = \"plan\", values_to = \"value\")\n  \n  return(df_long)\n}\n\n# Read and preprocess the raw data\ns1 &lt;- haven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\"))\n\ns1 &lt;- s1 %&gt;% \n  mutate(\n    state1 = case_when(\n      Colorado == 1 ~ \"Colorado\",\n      Massachusetts == 1 ~ \"Massachusetts\",\n      California == 1 ~ \"California\",\n      Texas == 1 ~ \"Texas\",\n      TRUE ~ NA_character_\n    ),\n    state2 = case_when(\n      Colorado == 2 ~ \"Colorado\",\n      Massachusetts == 2 ~ \"Massachusetts\",\n      California == 2 ~ \"California\",\n      Texas == 2 ~ \"Texas\",\n      TRUE ~ NA_character_\n    ),\n    refClass = case_when(\n      ReferenceClass == 1 ~ \"USD\",\n      ReferenceClass == 2 ~ \"kWh\",\n      ReferenceClass == 3 ~ \"Percentage\",\n      TRUE ~ NA_character_\n    ),\n    calc = factor(if_else(is.na(MATH01), 0, MATH01)),\n    id = row_number()\n  ) %&gt;%\n  rename(id2 = ResponseId, edu = DEM04) %&gt;%\n  mutate(\n    edu = factor(case_when(\n      edu == 1 ~ \"Some schooling, but no diploma or degree\",\n      edu == 2 ~ \"Highschool diploma or GED\",\n      edu == 3 ~ \"Some college\",\n      edu == 4 ~ \"College degree\",\n      edu == 5 ~ \"Some graduate school\",\n      edu == 6 ~ \"Graduate degree\",\n      edu == 7 ~ \"Choose not to answer\",\n      TRUE ~ NA_character_\n    ))\n  ) %&gt;%\n  relocate(id, edu, refClass, state1, state2, calc, .after = id2)\n\n# Function to trim NA and empty columns\ntrim_na_and_empty_columns &lt;- function(df) {\n  df %&gt;%\n    select(where(~ !(all(is.na(.)) | (is.character(.) && all(trimws(.) == \"\"))))) %&gt;% \n    select(-starts_with(\"AIND\"))\n}\n\n# Create a list of trimmed datasets for each unique ID\ndAll &lt;- s1 %&gt;%\n  group_by(id) %&gt;%\n  group_split() %&gt;%\n  map(trim_na_and_empty_columns) %&gt;%\n  set_names(unique(s1$id))\n\n# Apply the revised parse_action_plan function to all participants\ntest &lt;- dAll %&gt;%\n  map(parse_action_plan)\n\n# Combine all parsed data\ns1_processed &lt;- bind_rows(test)\n\n# Handle specific data corrections (e.g., participant \"R_1kFwgoKAmNTwCs3\")\ns1_processed &lt;- s1_processed %&gt;%\n  mutate(\n    family = if_else(id2 == \"R_1kFwgoKAmNTwCs3\" & state_assigned == \"Texas\" & appliance == \"Heating\", 6118, family)\n  )\n\n# Final mutations and calculations\ns1_processed &lt;- s1_processed %&gt;%\n  mutate(\n    value = as.numeric(value),\n    change = value - family,\n    state_p_dif = value - as.numeric(state_avg),\n    state_f_dif = family - as.numeric(state_avg),\n    less_avg = value &lt; as.numeric(state_avg),\n    calc = if_else(calc == 0, \"No Calculator\", \"Used Calculator\")\n  )\n\n\n\ns1_processed |&gt; group_by(state_assigned,appliance) |&gt; \n  mutate(state_avg=as.numeric(state_avg)) |&gt; \n  summarise(n_distinct_family=n_distinct(family),\n            n_distinct_state_avg=n_distinct(state_avg), \n            # paste a string of each distinct value, separated by a comma\n            distinct_family=paste(unique(family),collapse=\",\"),\n            distinct_state_avg=paste(unique(state_avg),collapse=\",\")) |&gt;\n  filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) \n\n\n\n# Convert family and state_avg to numeric\ns1_processed &lt;- s1_processed %&gt;%\n  mutate(\n    family_value = as.numeric(family),\n    state_avg_value = as.numeric(state_avg)\n  )\n\n# Identify discrepancies and include participant IDs\nduplicate_checks &lt;- s1_processed %&gt;%\n  group_by(state_assigned, appliance, refClass) %&gt;%\n  summarise(\n    n_unique_family = n_distinct(family_value),\n    n_unique_state_avg = n_distinct(state_avg_value),\n    families = paste(unique(family_value), collapse = \", \"),\n    state_avgs = paste(unique(state_avg_value), collapse = \", \"),\n    participant_ids = paste(unique(id[duplicated(family_value) | duplicated(state_avg_value)]), collapse = \", \"),\n    .groups = 'drop'\n  ) %&gt;%\n  filter(n_unique_family &gt; 1 | n_unique_state_avg &gt; 1)\n\nif(nrow(duplicate_checks) &gt; 0){\n  cat(\"Found inconsistencies in family or state_avg values:\\n\")\n  print(duplicate_checks)\n} else {\n  cat(\"No inconsistencies found in family or state_avg values.\\n\")\n}\n\n\ns1_processed &lt;- s1 |&gt; mutate(state_assigned=state)\n\n\n\ns1_check &lt;- s1_processed %&gt;% \n  mutate(\n    family_value = as.numeric(family),\n    state_avg_value = as.numeric(state_avg)\n  ) %&gt;% \n  select(id, id2, state_assigned, appliance, family_value, state_avg_value, refClass,state)\n\n\n# Rename columns in correct_values\ncorrect_values &lt;- correct_values %&gt;%\n  rename(\n    family_correct = family,\n    state_avg_correct = state_avg\n  )\n\n\nstate_code_map &lt;- c(\n  \"CAL\" = \"California\",\n  \"TEX\" = \"Texas\",\n  \"COL\" = \"Colorado\",\n  \"MASS\" = \"Massachusetts\"\n)\n\n\n# Join participant data with correct values\ncomparison &lt;- left_join(s1_check, correct_values, by = c(\"state\", \"appliance\"))\n\n# Compute differences between participant values and correct values\ncomparison &lt;- comparison %&gt;%\n  mutate(\n    family_diff = family_value - family_correct,\n    state_avg_diff = state_avg_value - state_avg_correct\n  )\n\n# Identify discrepancies\ndiscrepancies &lt;- comparison %&gt;%\n  filter(family_diff != 0 | state_avg_diff != 0)\n\n\n  if (nrow(discrepancies) &gt; 0) {\n  cat(\"Participants with discrepancies in family or state_avg values:\\n\")\n  print(\n    discrepancies %&gt;%\n      select(\n        id,\n        id2,\n        state,\n        appliance,\n        refClass,\n        family_value,\n        family_correct,\n        family_diff,\n        state_avg_value,\n        state_avg_correct,\n        state_avg_diff\n      )\n  )\n} else {\n  cat(\"No discrepancies found between participant values and correct values.\\n\")\n}\n\nNo discrepancies found between participant values and correct values.\n\n# Function to inspect a participant's data\ninspect_participant &lt;- function(participant_id) {\n  participant_data &lt;- comparison %&gt;%\n    filter(id == participant_id) %&gt;%\n    select(\n      id,\n      id2,\n      state,\n      appliance,\n      refClass,\n        family_value,\n        family_correct,\n        family_diff,\n        state_avg_value,\n        state_avg_correct,\n        state_avg_diff\n    )\n  \n print(participant_data, n=24)\n}\n\n# Example usage:\ninspect_participant(1)   # Replace with the participant ID you want to investigate\n\n# A tibble: 24 × 11\n# Groups:   id [1]\n      id id2    state appliance refClass family_value family_correct family_diff\n   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;          &lt;dbl&gt;       &lt;dbl&gt;\n 1     1 R_2QM… COL   Cooling   Percent…       697                NA          NA\n 2     1 R_2QM… COL   Cooling   Percent…       697                NA          NA\n 3     1 R_2QM… COL   Heating   Percent…     18052                NA          NA\n 4     1 R_2QM… COL   Heating   Percent…     18052                NA          NA\n 5     1 R_2QM… COL   Water He… Percent…     11667                NA          NA\n 6     1 R_2QM… COL   Water He… Percent…     11667                NA          NA\n 7     1 R_2QM… COL   Refriger… Percent…      1370                NA          NA\n 8     1 R_2QM… COL   Refriger… Percent…      1370                NA          NA\n 9     1 R_2QM… COL   Other Ap… Percent…      7982                NA          NA\n10     1 R_2QM… COL   Other Ap… Percent…      7982                NA          NA\n11     1 R_2QM… COL   Total kWh Percent…     39768                NA          NA\n12     1 R_2QM… COL   Total kWh Percent…     39768                NA          NA\n13     1 R_2QM… TEX   Cooling   Percent…      6573                NA          NA\n14     1 R_2QM… TEX   Cooling   Percent…      6573                NA          NA\n15     1 R_2QM… TEX   Heating   Percent…      6118                NA          NA\n16     1 R_2QM… TEX   Heating   Percent…      6118                NA          NA\n17     1 R_2QM… TEX   Water He… Percent…         5.26             NA          NA\n18     1 R_2QM… TEX   Water He… Percent…         5.26             NA          NA\n19     1 R_2QM… TEX   Refriger… Percent…      2639                NA          NA\n20     1 R_2QM… TEX   Refriger… Percent…      2639                NA          NA\n21     1 R_2QM… TEX   Other Ap… Percent…      8459                NA          NA\n22     1 R_2QM… TEX   Other Ap… Percent…      8459                NA          NA\n23     1 R_2QM… TEX   Total kWh Percent…     29046                NA          NA\n24     1 R_2QM… TEX   Total kWh Percent…     29046                NA          NA\n# ℹ 3 more variables: state_avg_value &lt;dbl&gt;, state_avg_correct &lt;dbl&gt;,\n#   state_avg_diff &lt;dbl&gt;\n\ninspect_participant(11) \n\n# A tibble: 24 × 11\n# Groups:   id [1]\n      id id2    state appliance refClass family_value family_correct family_diff\n   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;          &lt;dbl&gt;       &lt;dbl&gt;\n 1    11 R_263… CAL   Cooling   kWh              2581             NA          NA\n 2    11 R_263… CAL   Cooling   kWh              2581             NA          NA\n 3    11 R_263… CAL   Heating   kWh              6157             NA          NA\n 4    11 R_263… CAL   Heating   kWh              6157             NA          NA\n 5    11 R_263… CAL   Water He… kWh              5061             NA          NA\n 6    11 R_263… CAL   Water He… kWh              5061             NA          NA\n 7    11 R_263… CAL   Refriger… kWh              1266             NA          NA\n 8    11 R_263… CAL   Refriger… kWh              1266             NA          NA\n 9    11 R_263… CAL   Other Ap… kWh              7608             NA          NA\n10    11 R_263… CAL   Other Ap… kWh              7608             NA          NA\n11    11 R_263… CAL   Total kWh kWh             22673             NA          NA\n12    11 R_263… CAL   Total kWh kWh             22673             NA          NA\n13    11 R_263… COL   Cooling   kWh               697             NA          NA\n14    11 R_263… COL   Cooling   kWh               697             NA          NA\n15    11 R_263… COL   Heating   kWh               340             NA          NA\n16    11 R_263… COL   Heating   kWh               340             NA          NA\n17    11 R_263… COL   Water He… kWh             11667             NA          NA\n18    11 R_263… COL   Water He… kWh             11667             NA          NA\n19    11 R_263… COL   Refriger… kWh              5600             NA          NA\n20    11 R_263… COL   Refriger… kWh              5600             NA          NA\n21    11 R_263… COL   Other Ap… kWh              7982             NA          NA\n22    11 R_263… COL   Other Ap… kWh              7982             NA          NA\n23    11 R_263… COL   Total kWh kWh              1500             NA          NA\n24    11 R_263… COL   Total kWh kWh              1500             NA          NA\n# ℹ 3 more variables: state_avg_value &lt;dbl&gt;, state_avg_correct &lt;dbl&gt;,\n#   state_avg_diff &lt;dbl&gt;\n\n\n\ncorrect_values &lt;- tribble(\n  ~state, ~appliance, ~family, ~state_avg,\n  # Texas values\n  \"Texas\", \"Cooling\", 6573, 4249,\n  \"Texas\", \"Heating\", 6118, 5099,\n  \"Texas\", \"Water Heating\", 5257, 4396,\n  \"Texas\", \"Refrigerator\", 2639, 1318,\n  \"Texas\", \"Other Appliance\", 8459, 7883,\n  \"Texas\", \"Total kWh\", 29046, 22945,\n  \n  # California values\n  \"California\", \"Cooling\", 2581, 1289,\n  \"California\", \"Heating\", 6157, 5597,\n  \"California\", \"Water Heating\", 5061, 4601,\n  \"California\", \"Refrigerator\", 1266, 1055,\n  \"California\", \"Other Appliance\", 7608, 6916,\n  \"California\", \"Total kWh\", 22673, 19458,\n  \n  # Colorado values\n  \"Colorado\", \"Cooling\", 697, 498,\n  \"Colorado\", \"Heating\", 18052, 16411,\n  \"Colorado\", \"Water Heating\", 11667, 5832,\n  \"Colorado\", \"Refrigerator\", 1370, 1142,\n  \"Colorado\", \"Other Appliance\", 7882, 6652,\n  \"Colorado\", \"Total kWh\", 39768, 30535,\n  \n  # Massachusetts values\n  \"Massachusetts\", \"Cooling\", 419, 322,\n  \"Massachusetts\", \"Heating\", 26751, 19108,\n  \"Massachusetts\", \"Water Heating\", 10543, 5070,\n  \"Massachusetts\", \"Refrigerator\", 1230, 1025,\n  \"Massachusetts\", \"Other Appliance\", 7350, 6682,\n  \"Massachusetts\", \"Total kWh\", 46293, 32207\n)\n\n\n# Function to inspect raw data for a specific participant and state\ninspect_raw_values &lt;- function(raw_data, response_id, state_code) {\n  # Get participant's raw data\n  participant_data &lt;- raw_data %&gt;%\n    filter(ResponseId == response_id)\n  \n  # Get relevant columns for the state\n  relevant_cols &lt;- names(participant_data)[str_detect(names(participant_data), \n                                                    paste0(\"^[ADP]\\\\d+\", state_code))]\n  \n  # Create a mapping for item numbers to appliance types\n  appliance_map &lt;- tribble(\n    ~item_nums, ~appliance,\n    \"07|08\", \"Cooling\",\n    \"11|12\", \"Heating\",\n    \"15|16\", \"Water Heating\",\n    \"19|20\", \"Refrigerator\",\n    \"23|24\", \"Other Appliance\",\n    \"27|28\", \"Total kWh\"\n  )\n  \n  # Extract and organize values\n  results &lt;- map_dfr(appliance_map$item_nums, function(nums) {\n    cols &lt;- relevant_cols[str_detect(relevant_cols, paste0(\"(\", nums, \")$\"))]\n    values &lt;- participant_data %&gt;% select(all_of(cols)) %&gt;% unlist()\n    \n    tibble(\n      column = names(values),\n      value = as.numeric(values),\n      appliance = appliance_map$appliance[appliance_map$item_nums == nums]\n    )\n  })\n  \n  return(results)\n}\n\n# Let's check participant 1's Texas Water Heating issue\nraw_data &lt;- haven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\"))\n\n# Check Participant 1 (R_2QMsYuHS385pTj1)\nprint(\"Participant 1 - Texas Water Heating Values:\")\np1_tex &lt;- inspect_raw_values(raw_data, \"R_2QMsYuHS385pTj1\", \"TEX\")\nprint(p1_tex %&gt;% filter(str_detect(appliance, \"Water\")),n=24) \n\n# Check Participant 11 (R_263zmNZDB4Pqn9h)\nprint(\"\\nParticipant 11 - Colorado Heating Values:\")\np11_col &lt;- inspect_raw_values(raw_data, \"R_263zmNZDB4Pqn9h\", \"COL\")\nprint(p11_col %&gt;% filter(str_detect(appliance, \"Heating\")))\n\n# Function to compare raw vs processed values\ncompare_values &lt;- function(raw_data, processed_data, response_id, state, appliance_type) {\n  # Get raw values\n  raw_vals &lt;- inspect_raw_values(raw_data, response_id, \n                                case_when(\n                                  state == \"Texas\" ~ \"TEX\",\n                                  state == \"Colorado\" ~ \"COL\",\n                                  state == \"California\" ~ \"CAL\",\n                                  state == \"Massachusetts\" ~ \"MASS\"\n                                )) %&gt;%\n    filter(appliance == appliance_type)\n  \n  # Get processed values\n  proc_vals &lt;- processed_data %&gt;%\n    filter(id2 == response_id, \n           state == !!state,\n           appliance == appliance_type) %&gt;%\n    select(family, state_avg_value)\n  \n  # Compare\n  tibble(\n    source = \"Raw Data\",\n    family = raw_vals$value[str_detect(raw_vals$column, \"07$|11$|15$|19$|23$|27$\")],\n    state_avg = raw_vals$value[str_detect(raw_vals$column, \"08$|12$|16$|20$|24$|28$\")]\n  ) %&gt;%\n    bind_rows(\n      tibble(\n        source = \"Processed Data\",\n        family = first(proc_vals$family),\n        state_avg = first(proc_vals$state_avg_value)\n      )\n    )\n}\n\n# Example comparisons\nprint(\"\\nComparison for Participant 1 - Texas Water Heating:\")\ncompare_values(raw_data, s1_processed, \"R_2QMsYuHS385pTj1\", \"Texas\", \"Water Heating\")\nunique(raw_data$P3TEX15)\ns1_processed |&gt; filter(state2==\"Texas\",appliance==\"Water Heating\",state_assigned==\"Texas\",plan==\"plan1\")\n\n\nprint(\"\\nComparison for Participant 11 - Colorado Heating:\")\ncompare_values(raw_data, s1_processed, \"R_263zmNZDB4Pqn9h\", \"Colorado\", \"Heating\")\n\n# Check if the discrepancy is consistent across different blocks/presentations\ncheck_all_presentations &lt;- function(raw_data, response_id, state_code, appliance_pattern) {\n  participant_data &lt;- raw_data %&gt;%\n    filter(ResponseId == response_id)\n  \n  all_cols &lt;- names(participant_data)[str_detect(names(participant_data), \n                                               paste0(\"^[ADP]\\\\d+\", state_code)) &\n                                      str_detect(names(participant_data), appliance_pattern)]\n  \n  participant_data %&gt;%\n    select(all_of(all_cols)) %&gt;%\n    gather(key = \"column\", value = \"value\") %&gt;%\n    arrange(column)\n}\n\n# Example: Check all presentations of water heating for participant 1\nprint(\"\\nAll presentations of water heating for Participant 1:\")\ncheck_all_presentations(raw_data, \"R_2QMsYuHS385pTj1\", \"TEX\", \"15|16\")\n\n\n\nunique(raw_data$P3TEX15)",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Outliers"
    ]
  },
  {
    "objectID": "misc/outlier.html#just-refclass-percentage-and-state-2-texas-have-the-issues-with-family-water-heating-5.26",
    "href": "misc/outlier.html#just-refclass-percentage-and-state-2-texas-have-the-issues-with-family-water-heating-5.26",
    "title": "Outliers and discrepancies",
    "section": "Just refClass Percentage and state 2 Texas have the issues with family water heating = 5.26",
    "text": "Just refClass Percentage and state 2 Texas have the issues with family water heating = 5.26\nr$&gt; s1_processed |&gt; filter(state2==“Texas”,appliance==“Water Heating”,state_assigned==“Texas”,plan==“plan1”) |&gt; head(15) # A tibble: 15 × 17 id state1 state2 refClass calc edu modality state_assigned id2 Duration_in_seconds appliance family state_avg plan value family_value state_avg_value  &lt;dbl+lbl&gt; &lt;dbl+lbl&gt;  &lt;dbl+lbl&gt;  1 1 Colorado Texas Percentage 1 Graduate degree P Texas R_2QMsYuHS385pTj1 1008 Water Heating 5.26 4396 plan1 700 5.26 4396 2 2 Colorado Texas Percentage 1 College degree P Texas R_2tzIyZavpl1RZBY 1126 Water Heating 5.26 4396 plan1 4396 5.26 4396 3 3 Colorado Texas Percentage 1 College degree P Texas R_3Gm1Y4QzSlyrEWo 870 Water Heating 5.26 4396 plan1 4468 5.26 4396 4 4 Colorado Texas Percentage 1 College degree P Texas R_Djh2q728ibyNWjD 2763 Water Heating 5.26 4396 plan1 1000 5.26 4396 5 5 Colorado Texas Percentage 0 Graduate degree P Texas R_3fAXNbIZ7kFieSu 920 Water Heating 5.26 4396 plan1 3756 5.26 4396 6 6 Colorado Texas Percentage 0 Graduate degree P Texas R_1JECzl10KgckJXg 878 Water Heating 5.26 4396 plan1 5200 5.26 4396 7 7 Colorado Texas Percentage 1 Graduate degree P Texas R_C2IQAZim25sij4d 2680 Water Heating 5.26 4396 plan1 4257 5.26 4396 8 8 Colorado Texas Percentage 1 Some college P Texas R_5bbi3tpMOhuGBIR 1628 Water Heating 5.26 4396 plan1 5100 5.26 4396 9 9 Colorado Texas Percentage 1 Graduate degree P Texas R_2BsVSAOpehXW9Cr 724 Water Heating 5.26 4396 plan1 5217 5.26 4396 10 10 Colorado Texas Percentage 1 Some college P Texas R_325F8wRln52w1QN 913 Water Heating 5.26 4396 plan1 4468 5.26 4396 11 12 Colorado Texas kWh 1 Graduate degree A Texas R_abEpO6g4xKOlwwF 644 Water Heating 5257 4396 plan1 8459 5257 4396 12 14 Colorado Texas USD 0 College degree D Texas R_2VsaxwvgHXasQx3 625 Water Heating 5257 400 plan1 4000 5257 400 13 24 Massachusetts Texas USD 1 College degree D Texas R_AEvC2EEL0GltodP 1047 Water Heating 5257 4396 plan1 4000 5257 4396 14 36 Colorado Texas USD 0 Graduate degree D Texas R_1nO7uu36tUOSbfw 390 Water Heating 5257 4396 plan1 4500 5257 4396 15 38 Massachusetts Texas kWh 1 College degree A Texas R_6f13I34krdFacjT 973 Water Heating 5257 4396 plan1 4500 5257 4396",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Outliers"
    ]
  },
  {
    "objectID": "mpa/supp.html",
    "href": "mpa/supp.html",
    "title": "Supplemental Materials",
    "section": "",
    "text": "Figure 1: Example trial in the energy planning task. Participants are shown the prior year electricity use of a household, and are tasked with creating a plan for the next year that will meet the energy reduction goal. Study 1 manipulates the format of the reduction goal to be either a percentage (15% given as goal reduction), kilowatt hours (5965 kWh given), or USD ($656)"
  },
  {
    "objectID": "nb/overview.html",
    "href": "nb/overview.html",
    "title": "Effect of Reference Class on Planning to Conserve",
    "section": "",
    "text": "Display codepacman::p_load(dplyr,purrr,tidyr,here,tibble,brms,rstan,bayestestR,emmeans,tidybayes,modelsummary,\n               ggplot2,gt,knitr,kableExtra,ggh4x,lme4,flextable,pander)\noptions(digits=2, scipen=999, dplyr.summarise.inform=FALSE)\nwalk(c(\"fun_plot\"), ~ source(here::here(paste0(\"scripts/\", .x, \".R\"))))\ntheme_set(theme_nice())\n\ns1 &lt;- readRDS(here::here(\"data/s1_processed.rds\")) |&gt; filter(!(id %in% readRDS(here::here(\"data/s1_discrep_ids.rds\"))))\ns2_long &lt;- readRDS(here::here(\"data/s2_processed.rds\")) |&gt; filter(!(id %in% readRDS(here::here(\"data/s2_discrep_ids.rds\"))))\n\nstate_code_map &lt;- c(\n  \"CAL\" = \"California\",\n  \"TEX\" = \"Texas\",\n  \"COL\" = \"Colorado\",\n  \"MASS\" = \"Massachusetts\"\n)\n\n\nstate_to_code &lt;- state_code_map\ncode_to_state &lt;- setNames(names(state_code_map), state_code_map)\nlookup_code &lt;- function(state) {\n  if (state %in% names(state_to_code)) {\n    return(state_to_code[[state]])\n  } else if (state %in% names(code_to_state)) {\n    return(code_to_state[[state]])\n  } else {\n    return(NA)  # Return NA if not found in either mapping\n  }\n}\nDisplay codes1 |&gt; group_by(refClass) |&gt; \n    rename(\"Reference Class\" = refClass) |&gt;\n    summarise(n=n_distinct(id)) |&gt; \n    pander::pandoc.table(caption=\"Study 1: Number of unique IDs per condition\")\n\n\n----------------------\n Reference Class   n  \n----------------- ----\n   Percentage      68 \n\n       USD         89 \n\n       kWh         78 \n----------------------\n\nTable: Study 1: Number of unique IDs per condition\n\nDisplay codes1 |&gt; group_by(refClass,state) |&gt; \n    rename(\"Reference Class\" = refClass) |&gt;\n    summarise(n=n_distinct(id)) |&gt; \n    rowwise() |&gt; \n    mutate(state=lookup_code(state)) |&gt; \n    pivot_wider(names_from=state,values_from=n) |&gt;\n    pander::pandoc.table(caption=\"Study 1: Number of unique IDs per condition by state\")\n\n\n-----------------------------------------------------------------\n Reference Class   California   Colorado   Massachusetts   Texas \n----------------- ------------ ---------- --------------- -------\n   Percentage          39          26           42          29   \n\n       USD             40          45           44          49   \n\n       kWh             36          36           42          42   \n-----------------------------------------------------------------\n\nTable: Study 1: Number of unique IDs per condition by state\n\nDisplay codes1 |&gt; group_by(refClass,calc) |&gt; \n    rename(\"Reference Class\" = refClass) |&gt;\n    summarise(n=n_distinct(id)) |&gt; \n    pivot_wider(names_from=calc,values_from=n) |&gt;\n    pander::pandoc.table(caption=\"Study 1: Number of unique IDs per condition by calculator use\")\n\n\n---------------------------------------------------\n Reference Class   No Calculator   Used Calculator \n----------------- --------------- -----------------\n   Percentage           12               56        \n\n       USD              25               64        \n\n       kWh              20               58        \n---------------------------------------------------\n\nTable: Study 1: Number of unique IDs per condition by calculator use\n\nDisplay codeprop.table(xtabs(~refClass,s1)) |&gt; kable()\n\n\n\nrefClass\nFreq\n\n\n\nkWh\n0.33\n\n\nPercentage\n0.29\n\n\nUSD\n0.38\n\n\n\n\nDisplay codeprop.table(xtabs(~refClass+calc,s1)) |&gt; kable()\n\n\n\n\nNo Calculator\nUsed Calculator\n\n\n\nkWh\n0.09\n0.25\n\n\nPercentage\n0.05\n0.24\n\n\nUSD\n0.11\n0.27\n\n\n\n\nDisplay codeprop.table(xtabs(~refClass+state,s1)) |&gt; kable()\n\n\n\n\nCAL\nCOL\nMASS\nTEX\n\n\n\nkWh\n0.08\n0.08\n0.09\n0.09\n\n\nPercentage\n0.08\n0.06\n0.09\n0.06\n\n\nUSD\n0.09\n0.10\n0.09\n0.10",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Overview"
    ]
  },
  {
    "objectID": "nb/overview.html#performance",
    "href": "nb/overview.html#performance",
    "title": "Effect of Reference Class on Planning to Conserve",
    "section": "Performance",
    "text": "Performance\nStudy 1\n\nDisplay codes1_agg &lt;- s1 |&gt; \n    filter(appliance !=\"Total kWh\") |&gt; \n    group_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \n    summarise(total_kWh = sum(value),orig_kWh=sum(family), \n                pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n                n_change = sum(value!=family),\n                state_p_dif=mean(state_p_dif),\n                state_f_dif=mean(state_f_dif),\n                n_less_avg = sum(less_avg),\n                duration=first(Duration__in_seconds_)) |&gt; \n    mutate(matched_goal = (pct_change == pct_goal), \n                error = pct_change - pct_goal,\n                abs_error = abs(error),\n                close_match = abs_error &lt;= 0.03)\n\ns1_agg4 &lt;- s1_agg |&gt; group_by(id,refClass) |&gt; \n    summarise(mg=sum(matched_goal),n=n(), pct=mg/n) \n\n\n# overall pct of subjects who matched their goal\ns1_agg4 |&gt; ungroup() |&gt;\n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 1: Proportion of participants who matched their goal overall\")\n\n\n---------------------------------\n  mean      sd      n      se    \n-------- -------- ----- ---------\n 0.2255   0.3814   235   0.02488 \n---------------------------------\n\nTable: Study 1: Proportion of participants who matched their goal overall\n\nDisplay code# proportion matching vs close match\n\ns1_agg |&gt; pivot_longer(c(matched_goal,close_match),names_to=\"match_type\",values_to=\"match\") |&gt; \n    group_by(id,match_type) |&gt;\n    summarise(mg=sum(match),n=n(), pct=mg/n) |&gt;\n    group_by(match_type) |&gt;\n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 1: Proportion of participants who matched their goal or were within 3% of their goal\")\n\n\n------------------------------------------------\n  match_type     mean      sd      n      se    \n-------------- -------- -------- ----- ---------\n close_match    0.4149   0.4182   235   0.02728 \n\n matched_goal   0.2255   0.3814   235   0.02488 \n------------------------------------------------\n\nTable: Study 1: Proportion of participants who matched their goal or were within 3% of their goal\n\nDisplay code# refClass\ns1_agg4 |&gt; \ngroup_by(refClass) |&gt; \nsummarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 1: Proportion of participants who matched their goal by condition\")\n\n\n----------------------------------------------\n  refClass     mean       sd     n      se    \n------------ --------- -------- ---- ---------\n Percentage   0.2206    0.3679   68   0.04461 \n\n    USD       0.09831   0.2734   89   0.02898 \n\n    kWh        0.375    0.4446   78   0.05034 \n----------------------------------------------\n\nTable: Study 1: Proportion of participants who matched their goal by condition\n\n\nStudy 2\n\nDisplay codes2_agg1 &lt;- s2_long |&gt; \n  filter(appliance != \"TOTAL\") |&gt; \n  group_by(id, state,refClass,pct,pct_goal,plan,rounded) |&gt; \n  summarise(\n    total_kWh = sum(value),\n    orig_kWh = sum(family),\n    pct_change = round((orig_kWh - total_kWh) / orig_kWh, 3),\n    state_dif = mean(state_dif),\n    .groups = \"drop\"\n  ) |&gt;\n  mutate(matched_goal = (pct_change == pct),\n  close_match = abs(pct_change-pct)&lt;.03)\n\ns2_agg4 &lt;- s2_agg1|&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) \n\n\n# overall pct of subjects who matched their goal\ns2_agg4 |&gt; ungroup() |&gt;\n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 2: Proportion of participants who matched their goal overall\")\n\n\n---------------------------------\n  mean      sd      n      se    \n-------- -------- ----- ---------\n 0.3023   0.4092   196   0.02923 \n---------------------------------\n\nTable: Study 2: Proportion of participants who matched their goal overall\n\nDisplay code# proportion matching vs close match\n\ns2_agg1 |&gt; pivot_longer(c(matched_goal,close_match),names_to=\"match_type\",values_to=\"match\") |&gt; \n    group_by(id,match_type) |&gt;\n    summarise(mg=sum(match),n=n(), pct=mg/n) |&gt;\n    group_by(match_type) |&gt;\n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 2: Proportion of participants who matched their goal or were within 3% of their goal\")\n\n\n------------------------------------------------\n  match_type     mean      sd      n      se    \n-------------- -------- -------- ----- ---------\n close_match    0.4273   0.438    196   0.03128 \n\n matched_goal   0.3023   0.4092   196   0.02923 \n------------------------------------------------\n\nTable: Study 2: Proportion of participants who matched their goal or were within 3% of their goal\n\nDisplay code# refClass only \ns2_agg4 |&gt; \n    group_by(refClass) |&gt; \n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 2: Proportion of participants who matched their goal by condition\")\n\n\n---------------------------------------------\n  refClass     mean      sd     n      se    \n------------ -------- -------- ---- ---------\n Percentage   0.2681   0.3621   69   0.04359 \n\n    USD       0.1853   0.3763   58   0.04941 \n\n    kWh       0.4348   0.4469   69   0.0538  \n---------------------------------------------\n\nTable: Study 2: Proportion of participants who matched their goal by condition\n\nDisplay code# rounded only\n\ns2_agg1 |&gt; group_by(id,rounded) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n    group_by(rounded) |&gt;\n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 2: Proportion of participants who matched their goal by rounding condition\")\n\n\n-----------------------------------------------\n   rounded      mean      sd      n      se    \n------------- -------- -------- ----- ---------\n Not Rounded   0.2653   0.4219   196   0.03013 \n\n   Rounded     0.3393   0.454    196   0.03243 \n-----------------------------------------------\n\nTable: Study 2: Proportion of participants who matched their goal by rounding condition\n\nDisplay code# pct_goal only\n\ns2_agg1 |&gt; group_by(id,pct_goal) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n    group_by(pct_goal) |&gt;\n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 2: Proportion of participants who matched their goal by goal condition\")\n\n\n--------------------------------------------\n pct_goal    mean      sd      n      se    \n---------- -------- -------- ----- ---------\n   10%      0.2959   0.4405   196   0.03146 \n\n   15%      0.3087   0.439    196   0.03135 \n--------------------------------------------\n\nTable: Study 2: Proportion of participants who matched their goal by goal condition\n\nDisplay code# refClass x rounded\n\ns2_agg1 |&gt; group_by(id, refClass,rounded) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n    group_by(refClass,rounded) |&gt;\n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 2: Proportion of participants who matched their goal by condition and rounding\")\n\n\n-----------------------------------------------------------\n  refClass      rounded      mean      sd     n      se    \n------------ ------------- -------- -------- ---- ---------\n Percentage   Not Rounded   0.1957   0.3856   69   0.04642 \n\n Percentage     Rounded     0.3406   0.4496   69   0.05413 \n\n    USD       Not Rounded   0.1897   0.3842   58   0.05045 \n\n    USD         Rounded     0.181    0.3827   58   0.05025 \n\n    kWh       Not Rounded   0.3986   0.4584   69   0.05519 \n\n    kWh         Rounded     0.471    0.4765   69   0.05737 \n-----------------------------------------------------------\n\nTable: Study 2: Proportion of participants who matched their goal by condition and rounding\n\nDisplay code# refClass x pct_goal\n\ns2_agg1 |&gt; group_by(id, refClass,pct_goal) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n    group_by(refClass,pct_goal) |&gt;\n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 2: Proportion of participants who matched their goal by condition and goal\")\n\n\n--------------------------------------------------------\n  refClass    pct_goal    mean      sd     n      se    \n------------ ---------- -------- -------- ---- ---------\n Percentage     10%      0.2536   0.4168   69   0.05017 \n\n Percentage     15%      0.2826   0.4328   69   0.05211 \n\n    USD         10%      0.1724   0.3693   58   0.0485  \n\n    USD         15%      0.1983   0.3967   58   0.05209 \n\n    kWh         10%      0.442    0.4815   69   0.05797 \n\n    kWh         15%      0.4275   0.456    69   0.05489 \n--------------------------------------------------------\n\nTable: Study 2: Proportion of participants who matched their goal by condition and goal\n\nDisplay code# pct_goal x rounded\n\ns2_agg1 |&gt; group_by(id, pct_goal,rounded) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n    group_by(pct_goal,rounded) |&gt;\n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 2: Proportion of participants who matched their goal by goal and rounding\")\n\n\n----------------------------------------------------------\n pct_goal     rounded      mean      sd      n      se    \n---------- ------------- -------- -------- ----- ---------\n   10%      Not Rounded   0.2188   0.3961   96    0.04043 \n\n   10%        Rounded      0.37    0.4694   100   0.04694 \n\n   15%      Not Rounded    0.31    0.4426   100   0.04426 \n\n   15%        Rounded     0.3073   0.4375   96    0.04465 \n----------------------------------------------------------\n\nTable: Study 2: Proportion of participants who matched their goal by goal and rounding\n\nDisplay code# pct_goal x rounded x refClass\n\ns2_agg1 |&gt; group_by(id, pct_goal,rounded,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n    group_by(pct_goal,rounded,refClass) |&gt;\n    summarise(\n    mean = mean(pct),\n    sd = sd(pct),\n    n = n(),\n    se=sd(pct)/sqrt(n)\n) |&gt; pander::pandoc.table(caption=\"Study 2: Proportion of participants who matched their goal by goal, rounding, and condition\")\n\n\n----------------------------------------------------------------------\n pct_goal     rounded      refClass     mean      sd     n      se    \n---------- ------------- ------------ -------- -------- ---- ---------\n   10%      Not Rounded   Percentage   0.1111   0.2955   36   0.04924 \n\n   10%      Not Rounded      USD       0.1333   0.3198   30   0.05839 \n\n   10%      Not Rounded      kWh       0.4333   0.4866   30   0.08884 \n\n   10%        Rounded     Percentage   0.4091   0.4752   33   0.08273 \n\n   10%        Rounded        USD       0.2143   0.4179   28   0.07897 \n\n   10%        Rounded        kWh       0.4487   0.4839   39   0.07748 \n\n   15%      Not Rounded   Percentage   0.2879   0.4512   33   0.07855 \n\n   15%      Not Rounded      USD        0.25    0.441    28   0.08333 \n\n   15%      Not Rounded      kWh       0.3718   0.4401   39   0.07047 \n\n   15%        Rounded     Percentage   0.2778   0.4216   36   0.07027 \n\n   15%        Rounded        USD        0.15    0.3511   30   0.0641  \n\n   15%        Rounded        kWh        0.5     0.4734   30   0.08644 \n----------------------------------------------------------------------\n\nTable: Study 2: Proportion of participants who matched their goal by goal, rounding, and condition",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Overview"
    ]
  },
  {
    "objectID": "nb/overview.html#analysis",
    "href": "nb/overview.html#analysis",
    "title": "Effect of Reference Class on Planning to Conserve",
    "section": "Analysis",
    "text": "Analysis\nStudy 1\n\nDisplay code# binomial regression on trial level data\n\ns1_br &lt;- brm(\n    matched_goal ~ refClass + (1|id),\n    data = s1_agg,\n    family = bernoulli(),\n    cores=4,\n    iter=2000,\n    control = list(adapt_delta = 0.99),\n    file=paste0(here::here(\"data/model_cache\",'s1_br.rds')),\n    )\n\nsummary(s1_br)\n\n Family: bernoulli \n  Links: mu = logit \nFormula: matched_goal ~ refClass + (1 | id) \n   Data: s1_agg (Number of observations: 940) \n  Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;\n         total post-warmup draws = 4000\n\nMultilevel Hyperparameters:\n~id (Number of levels: 235) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     7.19      1.18     5.22     9.83 1.00     1100     1777\n\nRegression Coefficients:\n                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nIntercept             -2.31      1.05    -4.59    -0.41 1.00      851     1367\nrefClassPercentage    -3.16      1.60    -6.49    -0.13 1.00      721     1194\nrefClassUSD           -7.25      1.90   -11.50    -3.92 1.00      895     1244\n\nDraws were sampled using sampling(NUTS). For each parameter, Bulk_ESS\nand Tail_ESS are effective sample size measures, and Rhat is the potential\nscale reduction factor on split chains (at convergence, Rhat = 1).\n\nDisplay codemr_s1 &lt;- as.data.frame(describe_posterior(s1_br, centrality = \"Mean\"))[, c(1,2,4,5,6)]\ncolnames(mr_s1) &lt;- c(\"Term\", \"Estimate\",\"95% CrI Lower\", \"95% CrI Upper\", \"pd\")\n\nintercept &lt;- mr_s1$Estimate[mr_s1$Term == \"b_Intercept\"]\n\n mr_s1 |&gt;\n    mutate(Term = stringr::str_remove(Term, \"b_\")) |&gt;\n    mutate(across(c(\"Estimate\", \"95% CrI Lower\", \"95% CrI Upper\"), \n                    \\(x) if_else(Term == \"Intercept\", plogis(x), plogis(x + intercept)))) |&gt;\n    mutate(across(where(is.numeric), \\(x) round(x, 3))) |&gt;\n    mutate(Term = if_else(Term == \"Intercept\", \"Intercept (kWh)\", Term)) |&gt;\n    tibble::remove_rownames() |&gt;\n    kable(booktabs = TRUE)\n\n\n\nTerm\nEstimate\n95% CrI Lower\n95% CrI Upper\npd\n\n\n\nIntercept (kWh)\n0.09\n0.01\n0.40\n0.99\n\n\nrefClassPercentage\n0.00\n0.00\n0.08\n0.98\n\n\nrefClassUSD\n0.00\n0.00\n0.00\n1.00\n\n\n\n\nDisplay codes1_br2 &lt;- brm(\n    close_match ~ refClass + (1|id) + (1|state),\n    data = s1_agg,\n    family = bernoulli(),\n    cores=4,\n    iter=2000,\n    control = list(adapt_delta = 0.99),\n    file=paste0(here::here(\"data/model_cache\",'s1_br2.rds')),\n    )\nsummary(s1_br2)\n\n Family: bernoulli \n  Links: mu = logit \nFormula: close_match ~ refClass + (1 | id) + (1 | state) \n   Data: s1_agg (Number of observations: 940) \n  Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;\n         total post-warmup draws = 4000\n\nMultilevel Hyperparameters:\n~id (Number of levels: 235) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     3.88      0.43     3.12     4.79 1.00      963     2098\n\n~state (Number of levels: 4) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     0.42      0.44     0.02     1.51 1.00     1494     2007\n\nRegression Coefficients:\n                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nIntercept              0.62      0.59    -0.55     1.80 1.01     1001     1167\nrefClassPercentage    -0.90      0.76    -2.43     0.49 1.01      737     1299\nrefClassUSD           -3.17      0.78    -4.80    -1.70 1.01     1083     1559\n\nDraws were sampled using sampling(NUTS). For each parameter, Bulk_ESS\nand Tail_ESS are effective sample size measures, and Rhat is the potential\nscale reduction factor on split chains (at convergence, Rhat = 1).\n\nDisplay codes1_br2 |&gt; emmeans(~refClass, type=\"response\")\n\n refClass   response lower.HPD upper.HPD\n kWh            0.65      0.40      0.89\n Percentage     0.43      0.17      0.69\n USD            0.07      0.01      0.17\n\nPoint estimate displayed: median \nResults are back-transformed from the logit scale \nHPD interval probability: 0.95 \n\nDisplay codes1_agg &lt;- s1 |&gt; \n    filter(appliance !=\"Total kWh\") |&gt; \n    group_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \n    summarise(total_kWh = sum(value),orig_kWh=sum(family), \n                pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n                n_change = sum(value!=family),\n                state_p_dif=mean(state_p_dif),\n                state_f_dif=mean(state_f_dif),\n                n_less_avg = sum(less_avg),\n                duration=first(Duration__in_seconds_)) |&gt; \n    mutate(matched_goal = (pct_change == pct_goal), \n                error = pct_change - pct_goal,\n                abs_error = abs(error),\n                close_match = abs_error &lt;= 0.03) |&gt;\n    ungroup() |&gt; # Add ungroup here\n    mutate(\n        accuracy_level = factor(\n            case_when(\n                abs_error &lt;= 0.01 ~ \"1% or less\",\n                abs_error &lt;= 0.05 ~ \"5% or less\",\n                abs_error &lt;= 0.10 ~ \"10% or less\",\n                TRUE ~ \"Greater than 10%\"  # Capture all remaining cases\n            ), \n            levels = c(\"1% or less\", \"5% or less\", \"10% or less\", \"Greater than 10%\"),\n            ordered = TRUE\n        )\n    )",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Overview"
    ]
  },
  {
    "objectID": "nb/overview.html#ordinal-regression-alternative",
    "href": "nb/overview.html#ordinal-regression-alternative",
    "title": "Effect of Reference Class on Planning to Conserve",
    "section": "Ordinal Regression alternative",
    "text": "Ordinal Regression alternative\n\nDisplay codes1_agg &lt;- s1 |&gt; \n    filter(appliance !=\"Total kWh\") |&gt; \n    group_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \n    summarise(total_kWh = sum(value),orig_kWh=sum(family), \n                pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n                n_change = sum(value!=family),\n                state_p_dif=mean(state_p_dif),\n                state_f_dif=mean(state_f_dif),\n                n_less_avg = sum(less_avg),\n                duration=first(Duration__in_seconds_)) |&gt; \n    mutate(matched_goal = (pct_change == pct_goal), \n                error = pct_change - pct_goal,\n                abs_error = abs(error),\n                close_match = abs_error &lt;= 0.03) |&gt;\n    ungroup() |&gt; # Add ungroup here\n        mutate(\n            accuracy_level = factor(\n                case_when(\n                    abs_error == 0.00 ~ \"Exact match\",\n                    abs_error &lt;= 0.02 ~ \"0.01-2% error\",\n                    abs_error &lt;= 0.10 ~ \"2.01-15% error\",\n                    TRUE ~ \"Over 15% error\"  # Capture all remaining cases\n                ), \n                levels = c(\"Exact match\", \"0.01-2% error\", \"2.01-15% error\", \"Over 15% error\"),\n                ordered = TRUE\n            )\n        )\n    # mutate(\n    #     accuracy_level = factor(\n    #         case_when(\n    #             abs_error &lt;= 0.01 ~ \"1% or less\",\n    #             abs_error &lt;= 0.05 ~ \"5% or less\",\n    #             abs_error &lt;= 0.10 ~ \"10% or less\",\n    #             TRUE ~ \"Greater than 10%\"  # Capture all remaining cases\n    #         ), \n    #         levels = c(\"1% or less\", \"5% or less\", \"10% or less\", \"Greater than 10%\"),\n    #         ordered = TRUE\n    #     )\n    # )\n\n# plot accuracy level by refClass\n\ns1_agg |&gt; \n        mutate(\n            accuracy_level = factor(\n                case_when(\n                    abs_error == 0.00 ~ \"Exact match\",\n                    abs_error &lt;= 0.02 ~ \"0.01-2% error\",\n                    abs_error &lt;= 0.10 ~ \"2.01-15% error\",\n                    TRUE ~ \"Over 15% error\"  # Capture all remaining cases\n                ), \n                levels = c(\"Exact match\", \"0.01-2% error\", \"2.01-15% error\", \"Over 15% error\"),\n                ordered = TRUE\n            )\n        ) |&gt;\n    ggplot(aes(x=refClass,fill=accuracy_level)) +\n    geom_bar(position=\"fill\") +\n    labs(title=\"Study 1: Accuracy Level by Reference Class\",\n        x=\"Reference Class\",\n        y=\"Proportion\",\n        fill=\"Accuracy Level\") +\n    theme_minimal() +\n    theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\nDisplay codeordinal_model_s1 &lt;- brm(\n  accuracy_level ~ refClass + (1|id) + (1|state),\n  data = s1_agg,\n  family = cumulative(\"logit\"),\n  cores = 4,\n  iter = 2000,\n  control = list(adapt_delta = 0.99), # Recommended for ordinal models\n  prior = c(prior(normal(0, 2), class = \"Intercept\"),  # Priors for thresholds\n            prior(normal(0, 1.5), class = \"b\")), # Priors for predictors\n  file = paste0(here::here(\"data/model_cache\",'s1_ordinal3.rds')) # Cache for efficiency\n)\n\n\npred_summary &lt;- ordinal_model_s1 |&gt;\n    epred_draws(newdata = data.frame(refClass = c(\"kWh\", \"Percentage\", \"USD\")),\n                ndraws = 1000, re_formula = NA) |&gt;\n    group_by(refClass, .category) |&gt;\n    summarise(\n        mean_prob = mean(.epred),\n        lower_ci = quantile(.epred, 0.025),\n        upper_ci = quantile(.epred, 0.975)\n    )\npred_summary |&gt; pander::pandoc.table(caption=\"Study 1: Predicted probabilities of accuracy level by reference class\")\n\n\n---------------------------------------------------------------\n  refClass      .category      mean_prob   lower_ci   upper_ci \n------------ ---------------- ----------- ---------- ----------\n Percentage    Exact match      0.08465     0.025      0.2104  \n\n Percentage   0.01-2% error     0.3129      0.1425     0.473   \n\n Percentage   2.01-15% error    0.4909      0.2915     0.6046  \n\n Percentage   Over 15% error    0.1116     0.03177     0.2583  \n\n    USD        Exact match      0.01522    0.00424    0.03805  \n\n    USD       0.01-2% error     0.09015    0.03082     0.1967  \n\n    USD       2.01-15% error    0.4855      0.3227     0.6033  \n\n    USD       Over 15% error    0.4091      0.1764     0.6383  \n\n    kWh        Exact match      0.1479     0.05314     0.3178  \n\n    kWh       0.01-2% error     0.4031      0.244      0.5163  \n\n    kWh       2.01-15% error    0.3883      0.1901     0.5721  \n\n    kWh       Over 15% error    0.06076    0.01795     0.1345  \n---------------------------------------------------------------\n\nTable: Study 1: Predicted probabilities of accuracy level by reference class\n\nDisplay codeggplot(pred_summary, \n       aes(x = refClass, y = mean_prob, fill = .category)) +\n  geom_col(position = \"stack\") +\n  geom_errorbar(aes(ymin = lower_ci, ymax = upper_ci), \n                position = position_stack()) +\n  labs(x = \"Reference Class\", \n       y = \"Predicted Probability\",\n       fill = \"Accuracy Level\",\n       title = \"Predicted Probabilities of Accuracy Levels by Reference Class\") +\n  theme_minimal() +\n  scale_fill_brewer(palette = \"Blues\")\n\n\n\n\n\n\nDisplay code# Calculate cumulative probabilities\ncum_probs &lt;- pred_summary |&gt;\n  group_by(refClass) |&gt;\n  arrange(refClass, .category) |&gt;\n  mutate(\n    cum_prob = cumsum(mean_prob),\n    cum_lower = cumsum(lower_ci),\n    cum_upper = cumsum(upper_ci)\n  )\n\nggplot(cum_probs, \n    aes(x = refClass, y = cum_prob, color = .category)) +\ngeom_point(size = 3,position=position_dodge()) +\ngeom_errorbar(aes(ymin = cum_lower, ymax = cum_upper), \n            width = 0.2,position=position_dodge()) +\nlabs(x = \"Reference Class\",\n    y = \"Cumulative Probability\",\n    color = \"Accuracy Level\",\n    title = \"Cumulative Probabilities of Accuracy Levels\") +\ntheme_minimal() +\nscale_color_brewer(palette = \"Blues\") \n\n\n\n\n\n\nDisplay codesummary_table &lt;- pred_summary |&gt;\n  pivot_wider(\n    names_from = .category,\n    values_from = c(mean_prob, lower_ci, upper_ci)\n  ) |&gt;\n  kable(digits = 3)\n\nprint(summary_table)\n\n\n\n|refClass   | mean_prob_Exact match| mean_prob_0.01-2% error| mean_prob_2.01-15% error| mean_prob_Over 15% error| lower_ci_Exact match| lower_ci_0.01-2% error| lower_ci_2.01-15% error| lower_ci_Over 15% error| upper_ci_Exact match| upper_ci_0.01-2% error| upper_ci_2.01-15% error| upper_ci_Over 15% error|\n|:----------|---------------------:|-----------------------:|------------------------:|------------------------:|--------------------:|----------------------:|-----------------------:|-----------------------:|--------------------:|----------------------:|-----------------------:|-----------------------:|\n|Percentage |                 0.085|                    0.31|                     0.49|                    0.112|                0.025|                  0.142|                    0.29|                   0.032|                0.210|                   0.47|                    0.60|                    0.26|\n|USD        |                 0.015|                    0.09|                     0.49|                    0.409|                0.004|                  0.031|                    0.32|                   0.176|                0.038|                   0.20|                    0.60|                    0.64|\n|kWh        |                 0.148|                    0.40|                     0.39|                    0.061|                0.053|                  0.244|                    0.19|                   0.018|                0.318|                   0.52|                    0.57|                    0.13|\n\nDisplay code# Convert log-odds to odds ratios\nposterior_samples &lt;- as.data.frame(ordinal_model_s1)\nodds_ratios &lt;- data.frame(\n  Percentage_vs_kWh = exp(posterior_samples$b_refClassPercentage),\n  USD_vs_kWh = exp(posterior_samples$b_refClassUSD)\n)\n\n# Calculate summary statistics\nodds_ratio_summary &lt;- data.frame(\n  comparison = c(\"Percentage vs kWh\", \"USD vs kWh\"),\n  odds_ratio = c(mean(odds_ratios$Percentage_vs_kWh),\n                 mean(odds_ratios$USD_vs_kWh)),\n  ci_lower = c(quantile(odds_ratios$Percentage_vs_kWh, 0.025),\n               quantile(odds_ratios$USD_vs_kWh, 0.025)),\n  ci_upper = c(quantile(odds_ratios$Percentage_vs_kWh, 0.975),\n               quantile(odds_ratios$USD_vs_kWh, 0.975))\n)\n\n\n# Plot predicted probabilities\nggplot(pred_summary, aes(x = refClass, y = mean_prob, fill = .category)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  geom_errorbar(aes(ymin = lower_ci, ymax = upper_ci),\n                position = position_dodge(width = 0.9), width = 0.2) +\n  labs(y = \"Predicted Probability\", x = \"Reference Class\", fill = \"Accuracy Level\") +\n  ggtitle(\"Study 1: Predicted Probabilities of Accuracy Level by Reference Class\") +\n  theme_minimal()\n\n\n\n\n\n\n\nFrequentist alternative\n\nDisplay codes1_glm &lt;- glm(matched_goal ~ refClass, data = s1_agg, family = binomial())\nsummary(s1_glm)\n\n\nCall:\nglm(formula = matched_goal ~ refClass, family = binomial(), data = s1_agg)\n\nCoefficients:\n                   Estimate Std. Error z value           Pr(&gt;|z|)    \n(Intercept)          -0.511      0.117   -4.37 0.0000125256804014 ***\nrefClassPercentage   -0.751      0.187   -4.01 0.0000599223645706 ***\nrefClassUSD          -1.705      0.213   -8.01 0.0000000000000012 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 1003.58  on 939  degrees of freedom\nResidual deviance:  928.67  on 937  degrees of freedom\nAIC: 934.7\n\nNumber of Fisher Scoring iterations: 4\n\nDisplay code# Odds Ratios and Confidence Intervals\nexp(cbind(Odds_Ratio = coef(s1_glm), confint(s1_glm)))\n\n                   Odds_Ratio 2.5 % 97.5 %\n(Intercept)              0.60  0.48   0.75\nrefClassPercentage       0.47  0.33   0.68\nrefClassUSD              0.18  0.12   0.27\n\nDisplay code# Chi-Square Test for Proportions in Study 1\ns1_table &lt;- table(s1_agg$refClass, s1_agg$matched_goal)\nchisq.test(s1_table)\n\n\n    Pearson's Chi-squared test\n\ndata:  s1_table\nX-squared = 73, df = 2, p-value &lt;0.0000000000000002\n\n\nStudy 2\n\nDisplay code# binomial regression on trial level data\n\ns2_br_3 &lt;- brm(\n    matched_goal ~ refClass+rounded+pct_goal + (1|id) + (1|state),\n    data = s2_agg1,\n    family = bernoulli(),\n    cores=4,\n    iter=2000,\n    control = list(adapt_delta = 0.99),\n    file=paste0(here::here(\"data/model_cache\",'s2_br_3.rds')),\n    )\n\nsummary(s2_br_3)\n\n Family: bernoulli \n  Links: mu = logit \nFormula: matched_goal ~ refClass + rounded + pct_goal + (1 | id) + (1 | state) \n   Data: s2_agg1 (Number of observations: 784) \n  Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;\n         total post-warmup draws = 4000\n\nMultilevel Hyperparameters:\n~id (Number of levels: 196) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     6.98      1.13     5.06     9.49 1.00      844     1813\n\n~state (Number of levels: 4) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     0.76      0.70     0.03     2.66 1.00     1280     1786\n\nRegression Coefficients:\n                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nIntercept             -1.95      1.19    -4.38     0.34 1.00      871     1513\nrefClassPercentage    -3.03      1.46    -6.14    -0.28 1.01      580      868\nrefClassUSD           -5.67      1.79    -9.40    -2.37 1.00      741     1301\nroundedRounded         1.51      0.37     0.81     2.24 1.00     4056     3115\npct_goal15%            0.27      0.38    -0.45     1.03 1.00     3990     2550\n\nDraws were sampled using sampling(NUTS). For each parameter, Bulk_ESS\nand Tail_ESS are effective sample size measures, and Rhat is the potential\nscale reduction factor on split chains (at convergence, Rhat = 1).\n\nDisplay codemr_s2_3 &lt;- as.data.frame(describe_posterior(s2_br_3, centrality = \"Mean\"))[, c(1,2,4,5,6)]\ncolnames(mr_s2_3) &lt;- c(\"Term\", \"Estimate\",\"95% CrI Lower\", \"95% CrI Upper\", \"pd\")\n\n\n mr_s2_3 |&gt;\n    mutate(Term = stringr::str_remove(Term, \"b_\")) |&gt;\n    mutate(across(where(is.numeric), \\(x) round(x, 3))) |&gt;\n    mutate(Term = if_else(Term == \"Intercept\", \"Intercept (kWh)\", Term)) |&gt;\n    tibble::remove_rownames() |&gt;\n    kable(booktabs = TRUE)\n\n\n\nTerm\nEstimate\n95% CrI Lower\n95% CrI Upper\npd\n\n\n\nIntercept (kWh)\n-1.96\n-4.38\n0.34\n0.96\n\n\nrefClassPercentage\n-3.03\n-6.14\n-0.28\n0.99\n\n\nrefClassUSD\n-5.67\n-9.40\n-2.37\n1.00\n\n\nroundedRounded\n1.50\n0.81\n2.24\n1.00\n\n\npct_goal15%\n0.27\n-0.45\n1.03\n0.76\n\n\n\n\nDisplay codes2_br2_3 &lt;- brm(\n    close_match ~ refClass+rounded+pct_goal + (1|id) + (1|state),\n    data = s2_agg1,\n    family = bernoulli(),\n    cores=4,\n    iter=2000,\n    control = list(adapt_delta = 0.99),\n    file=paste0(here::here(\"data/model_cache\",'s2_br2_3.rds')),\n    )\n\nsummary(s2_br2_3)\n\n Family: bernoulli \n  Links: mu = logit \nFormula: close_match ~ refClass + rounded + pct_goal + (1 | id) + (1 | state) \n   Data: s2_agg1 (Number of observations: 784) \n  Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;\n         total post-warmup draws = 4000\n\nMultilevel Hyperparameters:\n~id (Number of levels: 196) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     5.80      0.82     4.37     7.65 1.00     1100     2329\n\n~state (Number of levels: 4) \n              Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nsd(Intercept)     0.73      0.63     0.03     2.42 1.00     1114     1439\n\nRegression Coefficients:\n                   Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\nIntercept              0.09      0.94    -1.76     2.01 1.00     1032     1599\nrefClassPercentage    -1.64      1.16    -3.95     0.57 1.00      881     1466\nrefClassUSD           -3.55      1.29    -6.17    -1.13 1.00      716     1520\nroundedRounded         0.56      0.29     0.00     1.12 1.00     5055     3112\npct_goal15%            0.66      0.29     0.11     1.26 1.00     5026     2940\n\nDraws were sampled using sampling(NUTS). For each parameter, Bulk_ESS\nand Tail_ESS are effective sample size measures, and Rhat is the potential\nscale reduction factor on split chains (at convergence, Rhat = 1).\n\nDisplay code#s2_br2_3 |&gt; emmeans(~refClass, type=\"response\")\n\nmr_s2_3_2 &lt;- as.data.frame(describe_posterior(s2_br2_3, centrality = \"Mean\"))[, c(1,2,4,5,6)]\ncolnames(mr_s2_3_2) &lt;- c(\"Term\", \"Estimate\",\"95% CrI Lower\", \"95% CrI Upper\", \"pd\")\n\n\nmr_s2_3_2 |&gt;\n    mutate(Term = stringr::str_remove(Term, \"b_\")) |&gt;\n    mutate(across(where(is.numeric), \\(x) round(x, 3))) |&gt;\n    mutate(Term = if_else(Term == \"Intercept\", \"Intercept (kWh)\", Term)) |&gt;\n    tibble::remove_rownames() |&gt;\n    kable(booktabs = TRUE)\n\n\n\nTerm\nEstimate\n95% CrI Lower\n95% CrI Upper\npd\n\n\n\nIntercept (kWh)\n0.09\n-1.8\n2.01\n0.53\n\n\nrefClassPercentage\n-1.64\n-4.0\n0.57\n0.93\n\n\nrefClassUSD\n-3.55\n-6.2\n-1.13\n1.00\n\n\nroundedRounded\n0.56\n0.0\n1.12\n0.98\n\n\npct_goal15%\n0.66\n0.1\n1.26\n0.99\n\n\n\n\n\n\nDisplay codes2_glm &lt;- glm(matched_goal ~ refClass + rounded + pct_goal, data = s2_agg1, family = binomial())\nsummary(s2_glm)\n\n\nCall:\nglm(formula = matched_goal ~ refClass + rounded + pct_goal, family = binomial(), \n    data = s2_agg1)\n\nCoefficients:\n                   Estimate Std. Error z value     Pr(&gt;|z|)    \n(Intercept)         -0.4899     0.1691   -2.90       0.0038 ** \nrefClassPercentage  -0.7482     0.1830   -4.09 0.0000435218 ***\nrefClassUSD         -1.2275     0.2089   -5.88 0.0000000042 ***\nroundedRounded       0.3737     0.1608    2.32       0.0201 *  \npct_goal15%          0.0768     0.1603    0.48       0.6319    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 960.87  on 783  degrees of freedom\nResidual deviance: 915.67  on 779  degrees of freedom\nAIC: 925.7\n\nNumber of Fisher Scoring iterations: 4\n\nDisplay code# Odds Ratios and Confidence Intervals\nexp(cbind(Odds_Ratio = coef(s2_glm), confint(s2_glm)))\n\n                   Odds_Ratio 2.5 % 97.5 %\n(Intercept)              0.61  0.44   0.85\nrefClassPercentage       0.47  0.33   0.68\nrefClassUSD              0.29  0.19   0.44\nroundedRounded           1.45  1.06   1.99\npct_goal15%              1.08  0.79   1.48\n\nDisplay code# Chi-Square Test for Proportions in Study 2\ns2_table &lt;- table(s2_agg1$refClass, s2_agg1$matched_goal)\nchisq.test(s2_table)\n\n\n    Pearson's Chi-squared test\n\ndata:  s2_table\nX-squared = 40, df = 2, p-value = 0.000000003",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Overview"
    ]
  },
  {
    "objectID": "nb/study1.html",
    "href": "nb/study1.html",
    "title": "Study 1 Analysis",
    "section": "",
    "text": "library(pacman)\npacman::p_load(dplyr,purrr,tidyr,here,haven,tibble,brms,bayestestR,emmeans,tidybayes,modelsummary,\n               ggplot2,gt,ggh4x,lme4,flextable,kableExtra)\n\noptions(digits=2, scipen=999, dplyr.summarise.inform=FALSE)\nwalk(c(\"fun_plot\"), ~ source(here::here(paste0(\"scripts/\", .x, \".R\"))))\ntheme_set(theme_nice())\n# s1 &lt;- haven::read_sav(here::here(\"data/data_qualtrics/Frequency & Probability - 9-23-18_October 6, 2024_20.39.sav\")) # length(unique(s1$ResponseId)) = 588\n# qd &lt;- unique(s1$ResponseId)\n\ns1 &lt;- haven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\"))\n\n#gd &lt;- unique(s1$ResponseId)\n# gd %in% qd\n# qd %in% gd\n\ns1 &lt;- s1 |&gt; \n  mutate(\n    state1 = case_when(\n      Colorado == 1 ~ \"Colorado\",\n      Massachusetts == 1 ~ \"Massachusetts\",\n      California == 1 ~ \"California\",\n      Texas == 1 ~ \"Texas\",\n      TRUE ~ NA_character_\n    ),\n    state2 = case_when(\n      Colorado == 2 ~ \"Colorado\",\n      Massachusetts == 2 ~ \"Massachusetts\",\n      California == 2 ~ \"California\",\n      Texas == 2 ~ \"Texas\",\n      TRUE ~ NA_character_\n    )) |&gt; \n  mutate(refClass = case_when(\n  ReferenceClass == 1 ~ \"USD\",\n  ReferenceClass == 2 ~ \"kWh\",\n  ReferenceClass == 3 ~ \"Percentage\"\n)) |&gt; \n  rename(calc=MATH01) |&gt;  # replace NA's in calc with 0's\n  rename(id2=ResponseId) |&gt;\n  mutate(id=row_number()) |&gt; relocate(id) |&gt; \n  mutate(calc=factor(ifelse(is.na(calc),0,calc))) |&gt; \n  relocate(refClass,state1,state2,calc, .after = id) \n\n\ns1 &lt;- s1 |&gt; rename(edu=DEM04) |&gt;\n  mutate(edu = factor(case_when(\n    edu == 1 ~ \"Some schooling, but no diploma or degree\",\n    edu == 2 ~ \"Highschool diploma or GED\",\n    edu == 3 ~ \"Some college\",\n    edu == 4 ~ \"College degree\",\n    edu == 5 ~ \"Some graduate school\",\n    edu == 6 ~ \"Graduate degree\",\n    edu == 7 ~ \"Choose not to answer\",\n    TRUE ~ NA_character_\n  ))) |&gt; relocate(edu, .after = id) \n\n# colnames(s1)\n# colnames(s1)[1000:1500]\n# colnames(s1)[1500:1843]\n\n# select all columns that start with \"A\"\n# s12 &lt;- s1 |&gt; select(id,state1,state2,refClass,calc,edu,starts_with(\"A\")) |&gt; \n#   select(-starts_with(\"AIND\"))\n\n\n\n\n \n \n# \n# t &lt;- s12 |&gt; filter(state1==\"Texas\") |&gt; \n#   # select only columns that contain \"TEX\" in the name\n#   select(id,state1,state2,refClass,calc,edu,contains(\"TEX\")) \n# \n# t2 &lt;- s12 |&gt; filter(state2==\"Texas\") |&gt; \n#   select(id,state1,state2,refClass,calc,edu,contains(\"TEX\"))\n# \n\ntrim_na_and_empty_columns &lt;- function(df) {\n  df %&gt;%\n    select(where(~!(all(is.na(.)) | (is.character(.) && all(trimws(.) == \"\"))))) |&gt; \n    select(-starts_with(\"AIND\"))\n}\n\n\n# Create a list of trimmed datasets for each unique ID\ndAll &lt;- s1 %&gt;%\n  group_by(id) %&gt;%\n  group_split() %&gt;%\n  map(trim_na_and_empty_columns) %&gt;%\n  set_names(unique(s1$id))\n\n# modalities &lt;- c(A = \"kWh\", D = \"USD\", P = \"Percentage\")\n# states &lt;- c(CAL = \"California\", MASS = \"Massachusetts\", COL = \"Colorado\", TEX = \"Texas\")\n\n\nparse_action_plan &lt;- function(df) {\n  \n  action_plan_cols &lt;- df %&gt;% \n  select(-matches(\"01$|02$|03$|04$|05$|06$|33$|34$|35$|36$|37$\")) %&gt;%\n    select(\n      matches(\"^[ADP]\\\\d+(CAL|MASS|COL|TEX)\\\\d{2,3}$\"), #,  # Select action plan columns\n      -matches(\"32$\")                                     # Exclude columns ending with '32'\n    ) %&gt;%\n    names()\n\n  df_long &lt;- df %&gt;%\n  select(-matches(\"01$|02$|03$|04$|05$|06$\")) %&gt;%\n    pivot_longer(\n      cols = all_of(action_plan_cols),\n      names_to = c(\"modality\", \"state\", \"item_num\"),\n      names_pattern = \"^([ADP])\\\\d+(CAL|MASS|COL|TEX)(\\\\d+)$\",\n      values_to = \"value\"\n    ) |&gt; select(id,state1,state2,refClass,calc,edu,modality,state,item_num,value,id2,Duration__in_seconds_) \n  \n  df_long &lt;- df_long |&gt; \n  mutate(\n    appliance = case_when(\n      item_num %in% c(\"07\",\"08\",\"09\",7:10) ~ \"Cooling\",\n      item_num %in% 11:14 ~ \"Heating\",\n      item_num %in% 15:18 ~ \"Water Heating\",\n      item_num %in% 19:22 ~ \"Refrigerator\",\n      item_num %in% 23:26 ~ \"Other Appliance\",\n      item_num %in% 27:30 ~ \"Total kWh\",\n      item_num == 31 ~ \"Preferred Plan\",\n      item_num %in% 33:37 ~ \"Reduction Choices\",\n      TRUE ~ NA_character_\n    )\n  ) |&gt; \n  # item_type - family, state, plan1 or plan2\n  mutate(item_type=case_when(\n    item_num %in% c(\"07\",\"11\",\"15\",\"19\",\"23\",\"27\") ~ \"family\",\n    item_num %in% c(\"08\",\"12\",\"16\",\"20\",\"24\",\"28\") ~ \"state_avg\",\n    item_num %in% c(\"09\",\"13\",\"17\",\"21\",\"25\",\"29\") ~ \"plan1\",\n    item_num %in% c(\"10\",\"14\",\"18\",\"22\",\"26\",\"30\") ~ \"plan2\",\n    TRUE ~ \"other\"\n  )) \n\n# pivot family and state_avg into their own separate columns, plan1 and plan2 into a combined column called plan\ndf_long &lt;- df_long |&gt; \n  filter(item_type !=\"other\") |&gt; \n  select(-item_num) |&gt; \n  pivot_wider(names_from = c(\"item_type\"), values_from = value) |&gt; \n  pivot_longer(cols = c(\"plan1\",\"plan2\"), names_to = \"plan\", values_to = \"value\") \n  \n}\n\ntest &lt;- dAll |&gt; # map each item in dAll into parse function\n  map(parse_action_plan) \n  \ns1 &lt;- bind_rows(test)\n\ns1 &lt;- s1 |&gt; group_by(id) |&gt; \n  mutate(trial=row_number(), block=ifelse(trial&gt;=12,2,1), plan=as_factor(plan),pct_goal=.15) |&gt; \n  select(-trial)\n\n# for id R_1kFwgoKAmNTwCs3 - when state== TEX, appliance == Heating, check values of family column\ns1 |&gt; filter(id2==\"R_1kFwgoKAmNTwCs3\" & state==\"TEX\" & appliance==\"Heating\") |&gt; select(family) \n# for id R_1kFwgoKAmNTwCs3 - when state== TEX, appliance == Heating, set values of family column to 6118\ns1 &lt;- s1 |&gt; mutate(family=ifelse(id2==\"R_1kFwgoKAmNTwCs3\" & state==\"TEX\" & appliance==\"Heating\",6118,family))\n\ns1 &lt;- s1 |&gt; \n  mutate(change = value-family, \n         state_p_dif = value-state_avg,\n         state_f_dif= family-state_avg,\n         less_avg = value&lt;state_avg,\n         calc = if_else(calc == 0, \"No Calculator\", \"Used Calculator\")) |&gt; \n  mutate(value=as.numeric(value))\n\n\n#saveRDS(s1, here::here(\"data/s1_processed.rds\"))\ns1 &lt;- readRDS(here::here(\"data/s1_processed.rds\"))\n\n\n\ns1_agg &lt;- s1 |&gt; \n  filter(appliance !=\"Total kWh\") |&gt; \n  group_by(id,refClass,state,block,plan,calc,edu,pct_goal) |&gt; \n  summarise(total_kWh = sum(value),orig_kWh=sum(family), \n            pct_change = round((orig_kWh-total_kWh)/orig_kWh,3), \n            n_change = sum(value!=family),\n            state_p_dif=mean(state_p_dif),\n            state_f_dif=mean(state_f_dif),\n            n_less_avg = sum(less_avg),\n            duration=first(Duration__in_seconds_)) |&gt; \n  mutate(matched_goal = (pct_change == pct_goal), \n             error = pct_change - pct_goal,\n            abs_error = abs(error),\n            close_match = abs_error &lt;= 0.02)\n\n# s1_agg |&gt; filter(matched_goal==FALSE, abs_error&lt;.02) |&gt; pull(abs_error)\n\n\ns1_agg4 &lt;- s1_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) \n\ns1_agg2 &lt;- s1_agg |&gt; group_by(id,refClass,state) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) \n\noutliers &lt;- s1_agg |&gt;  ungroup() |&gt; group_by(state) |&gt; mutate(change_mean=mean(pct_change,na.rm=TRUE),change_sd=sd(pct_change,na.rm=TRUE),\n                                     z_score=(pct_change-change_mean)/change_sd,\n                                     is_outlier=abs(z_score)&gt;3.0)\noutlier_id &lt;- outliers |&gt; filter(is_outlier) |&gt; pull(id) |&gt; unique()\n\n\n\n\n\n# plot frequency dist of values of n_change\ns1_agg |&gt; ggplot(aes(x=n_change)) +\n  geom_bar(fill = 'dodgerblue4',width=1) +\n  theme_minimal()\n# examine relationship between n_change and whether goal was matched\ns1_agg |&gt; ggplot(aes(x=n_change,fill=matched_goal)) +\n  geom_bar(position=\"dodge\") +\n  theme_minimal() +\n  labs(title=\"Relationship between # of changes and whether goal was matched\",\n       x=\"# of changes\",\n       y=\"Count\") +\n  scale_fill_brewer(palette=\"Set2\")\n\n\n\n\n\n\n# alternative way to examine the relationship, not a plot\ns1_agg |&gt; group_by(n_change,matched_goal) |&gt; summarise(n=n()) |&gt; \n  gt() |&gt; tab_header(title=\"Relationship between # of changes and whether goal was matched\")\n\n\n\n\n\n\nRelationship between # of changes and whether goal was matched\n\n\nmatched_goal\nn\n\n\n\n\n0\n\n\nFALSE\n9\n\n\n1\n\n\nFALSE\n4\n\n\nTRUE\n5\n\n\n2\n\n\nFALSE\n10\n\n\nTRUE\n6\n\n\n3\n\n\nFALSE\n3\n\n\nTRUE\n13\n\n\n4\n\n\nFALSE\n22\n\n\nTRUE\n32\n\n\n5\n\n\nFALSE\n743\n\n\nTRUE\n161\n\n\n\n\n\ns1 |&gt; \n  filter(appliance !=\"Total kWh\") |&gt; \n  group_by(state, appliance) |&gt; \n  summarise(family=mean(family),state_avg=mean(state_avg),dif=family-state_avg)\n\n# A tibble: 20 × 5\n# Groups:   state [4]\n   state appliance       family state_avg   dif\n   &lt;chr&gt; &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt;\n 1 CAL   Cooling          2581      1289  1292 \n 2 CAL   Heating          6157      5597   560 \n 3 CAL   Other Appliance  7608      6916   692 \n 4 CAL   Refrigerator     1266      1055   211 \n 5 CAL   Water Heating    5062.     4600.  461.\n 6 COL   Cooling           697       498   199 \n 7 COL   Heating         17853.    16281. 1571.\n 8 COL   Other Appliance  7982      6652  1330 \n 9 COL   Refrigerator     1405.     1142   263.\n10 COL   Water Heating   11667      5817. 5850.\n11 MASS  Cooling           419       322    97 \n12 MASS  Heating         26751     19108  7643 \n13 MASS  Other Appliance  7350      6682   668 \n14 MASS  Refrigerator     1230      1025   205 \n15 MASS  Water Heating   10462.     5070  5392.\n16 TEX   Cooling          6573      4249  2324 \n17 TEX   Heating          6072.     5099   973.\n18 TEX   Other Appliance  8440.     7883   557.\n19 TEX   Refrigerator     2639      1318  1321 \n20 TEX   Water Heating    5083.     4366.  717.\n\ns1 |&gt; ungroup() |&gt; mutate(diff=family-state_avg) |&gt; group_by(state,appliance) |&gt;  summarize(min(diff))\n\n# A tibble: 24 × 3\n# Groups:   state [4]\n   state appliance       `min(diff)`\n   &lt;chr&gt; &lt;chr&gt;                 &lt;dbl&gt;\n 1 CAL   Cooling                1292\n 2 CAL   Heating                 560\n 3 CAL   Other Appliance         692\n 4 CAL   Refrigerator            211\n 5 CAL   Total kWh              3215\n 6 CAL   Water Heating           460\n 7 COL   Cooling                 199\n 8 COL   Heating               -4970\n 9 COL   Other Appliance        1330\n10 COL   Refrigerator            228\n# ℹ 14 more rows\n\ns1 |&gt; ungroup() |&gt; mutate(diff=family-state_avg) |&gt; group_by(state) |&gt; filter(diff&lt;0) |&gt; select(id,state1,state2,state,appliance,family,state_avg,plan,value,diff)\n\n# A tibble: 32 × 10\n# Groups:   state [3]\n      id state1   state2 state appliance     family state_avg plan  value   diff\n   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;          &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;fct&gt; &lt;dbl&gt;  &lt;dbl&gt;\n 1     1 Colorado Texas  TEX   Water Heating   5.26 4396      plan1   700 -4391.\n 2     1 Colorado Texas  TEX   Water Heating   5.26 4396      plan2  4500 -4391.\n 3     2 Colorado Texas  TEX   Water Heating   5.26 4396      plan1  4396 -4391.\n 4     2 Colorado Texas  TEX   Water Heating   5.26 4396      plan2  4396 -4391.\n 5     3 Colorado Texas  TEX   Water Heating   5.26 4396      plan1  4468 -4391.\n 6     3 Colorado Texas  TEX   Water Heating   5.26 4396      plan2  4400 -4391.\n 7     4 Colorado Texas  TEX   Water Heating   5.26 4396      plan1  1000 -4391.\n 8     4 Colorado Texas  TEX   Water Heating   5.26 4396      plan2  1000 -4391.\n 9     5 Colorado Texas  TEX   Water Heating   5.26 4396      plan1  3756 -4391.\n10     5 Colorado Texas  TEX   Water Heating   5.26 4396      plan2  2987 -4391.\n# ℹ 22 more rows\n\n# examine the relationship between n_less_avg (a value btw 0 and 5) and whether goal was matched\ns1_agg |&gt; ggplot(aes(x=n_less_avg,fill=matched_goal)) +\n  geom_bar(position=\"dodge\") +\n  facet_wrap(~state) +\n  theme_minimal() +\n  labs(title=\"Relationship between # of appliances changed to below state average and whether goal was matched\",\n       x=\"# of appliances changed to below state average\",\n       y=\"Count\") +\n  scale_x_continuous(breaks=seq(1,5,1))\nCalculator by Ref Class tallies\n% of trials with matched goal\n% change in plan\n\n\n\n\n\n\n\n\n\n\n\n\ncalc\n\nkWh\nPercentage\nUSD\n\n\n\nNo Calculator\nN\n20\n14\n27\n\n\n\n% row\n32.8\n23.0\n44.3\n\n\nUsed Calculator\nN\n60\n64\n67\n\n\n\n% row\n31.4\n33.5\n35.1\n\n\nAll\nN\n80\n78\n94\n\n\n\n% row\n31.7\n31.0\n37.3\n\n\n\n\n\n\n% of trials where goal was matched\n\n\n\n\n\n\n\n\n\n\n\nrefClass\nMean\nMedian\nMode\nsd\nHistogram\n\n\n\n\nkWh\n0.37\n0.00\n0.00\n0.44\n▇ ▁▁▃\n\n\n\nPercentage\n0.21\n0.00\n0.00\n0.35\n▇▁▁ ▁\n\n\n\nUSD\n0.09\n0.00\n0.00\n0.27\n▇ ▁\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nrefClass\nMean\nMedian\nMode\n\n\n\npct_change\nkWh\n0.24\n0.15\n0.15\n\n\n\nPercentage\n0.20\n0.16\n0.15\n\n\n\nUSD\n0.27\n0.21\n0.16\nplot_hist_condit &lt;- function(fcondit,dat,pvar) {\n  full_range &lt;- dat |&gt; pull({{pvar}}) |&gt; range(na.rm=TRUE)\n  dat |&gt;\n    filter(refClass == fcondit) |&gt; \n    ggplot(aes(.data[[pvar]])) +\n    geom_bar(fill = 'dodgerblue4',width=1) +\n    theme_minimal() #+ coord_cartesian(xlim = full_range)\n}\n\n\ns1_agg4 |&gt; group_by(refClass) |&gt; \n  summarise(Mean=mean(pct), Median=median(pct),Mode=modeest::mlv(pct,method='mfv'), sd=sd(pct), n=n()) |&gt; \n  mutate(Distribution=refClass) |&gt; rename(\"Reference Class\"=refClass) |&gt;  \n  gt() |&gt; \n  tab_header(title=\"Descriptive Statistics of % of trials with matched goal\") |&gt; \n  text_transform(\n    locations=cells_body(columns='Distribution'),\n    fn=function(column) {\n      map(column,plot_hist_condit,dat=s1_agg4,pvar='mg') |&gt; \n        ggplot_image(height=px(50),aspect_ratio=2)\n    }\n  )\n\n\n\n\n\n\nDescriptive Statistics of % of trials with matched goal\n\n\nReference Class\nMean\nMedian\nMode\nsd\nn\nDistribution\n\n\n\n\nPercentage\n0.20833333\n0\n0\n0.3522116\n78\n\n\n\nUSD\n0.09308511\n0\n0\n0.2668616\n94\n\n\n\nkWh\n0.36562500\n0\n0\n0.4428471\n80\n\n\n\n\n\n\nggplot(s1_agg |&gt; filter(abs_error&lt;1), aes(x = refClass, y = abs_error, fill = refClass)) +\n    geom_boxplot() +\n    labs(\n        title = \"Absolute Error by Reference Class\",\n        x = \"Reference Class\",\n        y = \"Absolute Error\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\nggplot(s1_agg |&gt; filter(abs_error&lt;1), aes(x = abs_error, fill = refClass)) +\n    geom_histogram(binwidth = 0.05, alpha = 0.6, position = \"identity\") +\n    labs(\n        title = \"Distribution of Absolute Error by Reference Class\",\n        x = \"Absolute Error\",\n        y = \"Frequency\"\n    ) +\n    theme_minimal() + facet_wrap(~refClass)\nm_zib &lt;- brm(\n  bf(pct ~ refClass + (1|id),\n     zi ~ refClass + (1|id)),\n  family = zero_inflated_beta(),\n  data = s1_agg4\n)\n\nm_bb &lt;- brm(\n  pct ~ refClass + (1|id),\n  family = beta_binomial(),\n  data = s1_agg4\n)\n\n\nm_bb &lt;- brm(\n    successes | trials(4) ~ refClass,\n    family = beta_binomial(),\n    data = s1_agg4 |&gt; \n        mutate(successes = pct * 4)  # convert proportion back to count\n)\n# Regression Coefficients:\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept             -0.52      0.01    -0.55    -0.49 1.00     4003     3155\n# refClassPercentage    -0.73      0.02    -0.77    -0.69 1.00     3603     2648\n# refClassUSD           -1.74      0.02    -1.79    -1.69 1.00     3478     3007\n# \n# Further Distributional Parameters:\n#     Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# phi     0.33      0.00     0.33     0.34 1.00     3255     2429\n\n# &gt; m_bb |&gt; emmeans(~refClass, type=\"response\")\n#  refClass   prob lower.HPD\n#  upper.HPD\n#  kWh        0.37      0.37      0.38\n#  Percentage 0.22      0.22      0.23\n#  USD        0.09      0.09      0.10\n\n\nm_bb |&gt; emmeans(~refClass)\nm_bb |&gt; emmeans(~refClass, type=\"response\")\n\n\nm_bb_re &lt;- brm(\n    successes | trials(4) ~ refClass + (1|id),\n    family = beta_binomial(),\n    cores=4,\n    data = s1_agg4 |&gt; \n        mutate(successes = pct * 4)\n)\n\n\n\n\n\n\n\nm_bb2 &lt;- brm(\n    mg | trials(4) ~ 0+refClass,\n    family = beta_binomial(link = \"identity\", link_phi = \"identity\"),\n    chains=2,\n    cores=2,\n    data = s1_agg4\n)\n\nm_bb3 &lt;- brm(\n    mg | trials(2) ~ 0+refClass,\n    family = beta_binomial(link = \"identity\", link_phi = \"identity\"),\n    chains=2,\n    cores=2,\n    data = s1_agg2\n)\n# Regression Coefficients:\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# refClasskWh            0.38      0.00     0.38     0.38 1.00     1900     1385\n# refClassPercentage     0.22      0.00     0.22     0.22 1.00     1868     1549\n# refClassUSD            0.09      0.00     0.09     0.10 1.00     2608     1328\n# \n# Further Distributional Parameters:\n#     Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# phi     0.17      0.00     0.17     0.18 1.00      813      940\n\n\nm_bb4 &lt;- brm(\n    mg | trials(2) ~ refClass + (1|id),\n    family = beta_binomial(),\n    chains=2,\n    cores=2,\n    data = s1_agg2\n)\n\n\nm_t1 &lt;- brm(matched_goal ~ refClass + (1|id), family = bernoulli(), data = s1_agg)\n m_t1 |&gt; emmeans(~refClass, type=\"response\")\n\n\n# \n# m_zib &lt;- brm(\n#   bf(pct ~ refClass + (1|id),\n#      zi ~ refClass + (1|id)),\n#   family = zero_inflated_beta(),\n#   iter=2000,\n#   cores=4,\n#   data = s1_agg4 |&gt; mutate( pct = ifelse(pct == 1, 0.999, ifelse(pct == 0, 0.001, pct)))\n# )\n# Multilevel Hyperparameters:\n# ~id (Number of levels: 242) \n#                  Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# sd(Intercept)        0.09      0.07     0.00     0.26 1.00     2164     1682\n# sd(zi_Intercept)     0.77      0.63     0.03     2.32 1.00     2846     1826\n# \n# Regression Coefficients:\n#                       Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept                -0.37      0.16    -0.67    -0.06 1.00     5376     2635\n# zi_Intercept             -8.17      3.46   -17.15    -3.80 1.00     2673     1375\n# refClassPercentage       -0.43      0.22    -0.87     0.00 1.00     5054     2984\n# refClassUSD              -0.69      0.21    -1.10    -0.28 1.00     4759     2772\n# zi_refClassPercentage    -0.04      4.78   -10.32    10.04 1.00     2037     1627\n# zi_refClassUSD            0.47      4.50    -8.53    10.19 1.00     2181     1665\n \n \n \n s1_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n   group_by(refClass) |&gt; \n  summarise(mean_pct=mean(pct), sd_pct=sd(pct), n=n()) \n \n \n \n post &lt;- posterior_samples(m_t1)\nnsims &lt;- 1000\nre_sims &lt;- rnorm(nsims, 0, mean(post$sd_id__Intercept))\ns1_agg |&gt; ggplot(aes(x=pct_change)) +\n  geom_density(aes(fill=state), alpha=0.5) +\n  ggdist::stat_halfeye() +\n  geom_rug(alpha=0.1) +\n  stat_boxplot(width=0.5, alpha=0.6) +\n  #facet_wrap(~refClass) +\n  labs(title=\"Distribution of Percent Change by State and Reference Class - Before outlier exclusion\",\n       x=\"Percent Change\",\n       y=\"Density\") +\n  scale_fill_brewer(palette=\"Set2\")\n\n# descriptive table to do with plot\ns1_agg |&gt; \n  group_by(refClass,state) |&gt; \n  summarise(mean_pct_change=median(pct_change), sd_pct_change=sd(pct_change), n=n()) |&gt; \n  gt() |&gt; \n  tab_header(title=\"Descriptive Statistics of Percent Change by State and Reference Class\")\n\n\ns1_agg &lt;- s1_agg |&gt; filter(!id %in% outlier_id)\n# add geom_vline with x intercept based on pct_goal of the data (which is currently a string of form 10%)\ns1_agg |&gt; \n  filter(block==1) |&gt;\n  ungroup() |&gt; \n  mutate(id=reorder(id,pct_change)) |&gt; \n  ggplot(aes(y=id,x=pct_change)) + \n  geom_point(size=1,alpha=0.6,position = position_jitter(w=0, h=0.17)) +\n  geom_vline(aes(xintercept=.15),linetype=\"dashed\",alpha=.5) +\n  ggh4x::facet_nested_wrap(~refClass,axes=\"all\",scales=\"free\",ncol=2)  + \n  labs(y=\"Participant Id\", x=\"Percent Change\", title=\"Individual Performance\") +\n  theme(axis.text.y = element_text(family = \"Manrope Light\", face = \"plain\", size = rel(0.7)))",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 1"
    ]
  },
  {
    "objectID": "nb/study1.html#looking-at-of-subjects-who-hit-the-target-reduction",
    "href": "nb/study1.html#looking-at-of-subjects-who-hit-the-target-reduction",
    "title": "Study 1 Analysis",
    "section": "Looking at % of subjects who hit the target reduction",
    "text": "Looking at % of subjects who hit the target reduction\n\n# Step 2: Summarize the percentage of participants meeting the goal for each condition\nsummary_pct &lt;- s1_agg |&gt;\n  group_by(refClass) |&gt;\n  summarise(\n    matched_count = sum(matched_goal),\n    matched_count2 = sum(close_match),\n    total_count = n(),\n    pct_matched = matched_count / total_count * 100,\n    .groups = \"drop\"\n  )\n\n# Step 3: Create plots for the percentage of subjects in each condition who matched the target pct\nggplot(summary_pct, aes(x = refClass, y = pct_matched, fill = refClass)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  labs(\n    title = \"Percentage of Participants Matching Target Pct by Condition\",\n    x = \"Reference Class\",\n    y = \"Percentage Matched (%)\",\n    fill = \"Rounding\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\nggplot(summary_pct, aes(x = refClass, y = matched_count2, fill = refClass)) +\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  labs(\n    title = \"Percentage of Participants Matching Target Pct by Condition - 2% leeway\",\n    x = \"Reference Class\",\n    y = \"Percentage Matched (%)\",\n    fill = \"Rounding\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\ns1_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n  ggplot(aes(x=pct)) +\n  geom_density(aes(fill=refClass), alpha=0.5) \n\n\n\n\n\n\n# histogram\ns1_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n  ggplot(aes(x=pct)) +\n  geom_bar(aes(fill=refClass)) +\n  ggdist::stat_halfeye() +\n  geom_rug(alpha=0.1) +\n  stat_boxplot(width=0.5, alpha=0.6) +\n  facet_wrap(~refClass) +\n  labs(title=\"Distributions of % of trials that matched goal\",\n       x=\"% of trials (out of 4) that matched goal\",\n       y=\"Number of Participants\",\n       fill=\"Reference Class\") +\n  scale_fill_brewer(palette=\"Set2\") + \n  scale_y_continuous(breaks=seq(0,80,5)) + scale_x_continuous(breaks=seq(0,1,.25),labels=scales::percent_format(accuracy=1)) \n\n\n\n\n\n\n# s1_agg |&gt; group_by(id,refClass) |&gt; \n#   summarise(mg=sum(matched_goal),n=n(), pct=mg/n) |&gt; \n#   group_by(refClass) |&gt;\n#   summarise(mean_pct=mean(pct), sd_pct=sd(pct), n=n()) \n\ns1_agg |&gt; group_by(id,refClass) |&gt; \n  summarise(mg=sum(matched_goal), n=n(), pct=mg/n) |&gt; \n  group_by(refClass,mg) |&gt;\n  summarise(n=n()) |&gt;  rename(\"# matched goal\"=mg,\"# participants\"=n) |&gt; gt() |&gt;  tab_header(\n    title = md(\"**Number of Trials participants match goal by Reference class**\"),\n    subtitle = \"Each participant had 4 trials where they attempt to create a plan to match goal\"\n  ) \n\n\n\n\n\n\nNumber of Trials participants match goal by Reference class\n\n\nEach participant had 4 trials where they attempt to create a plan to match goal\n\n\n# matched goal\n# participants\n\n\n\n\nPercentage\n\n\n0\n54\n\n\n1\n4\n\n\n2\n8\n\n\n3\n3\n\n\n4\n9\n\n\nUSD\n\n\n0\n82\n\n\n1\n2\n\n\n2\n3\n\n\n3\n1\n\n\n4\n6\n\n\nkWh\n\n\n0\n44\n\n\n1\n3\n\n\n2\n7\n\n\n3\n4\n\n\n4\n22\n\n\n\n\n\n  # setNames(c(\"refClass\", \"# of trials with matched goal\", \"n\")) |&gt;\n  # knitr::kable(booktabs=T,col.names = c(\"Reference Class\", \n  #                           \"# of correct trials \",\n  #                           \"n\"),\n  #              format = \"html\") |&gt; \n  # kableExtra::kable_styling(full_width = F) |&gt; column_spec(1:3, width = \"2cm\")\n  \n\n\n\n\n\n\nsummary_pct |&gt;\n  gt() |&gt;\n  tab_header(\n    title = md(\"**Percentage of Trials Matching Target Pct by Condition**\"),\n    subtitle = \"Grouped by Reference Class, Rounding, and Pct Goal\"\n  ) |&gt;\n  fmt_number(\n    columns = c(pct_matched),\n    decimals = 2\n  ) |&gt;\n  cols_label(\n    refClass = \"Reference Class\",\n    matched_count = \"Matched Count\",\n    total_count = \"Total Count\",\n    pct_matched = \"Percentage Matched (%)\"\n  ) |&gt;\n  cols_align(\n    align = \"center\",\n    columns = everything()\n  ) |&gt;\n  tab_spanner(\n    label = \"Participants\",\n    columns = c(matched_count, total_count, pct_matched)\n  )\n\n\n\n\n\n\n\n\n\n\n\n\n\nPercentage of Trials Matching Target Pct by Condition\n\n\nGrouped by Reference Class, Rounding, and Pct Goal\n\n\nReference Class\n\nParticipants\n\nmatched_count2\n\n\nMatched Count\nTotal Count\nPercentage Matched (%)\n\n\n\n\nPercentage\n65\n312\n20.83\n116\n\n\nUSD\n35\n376\n9.31\n76\n\n\nkWh\n117\n320\n36.56\n164\n\n\n\n\n\n\n\ncontingency_table &lt;- s1_agg %&gt;%\n    group_by(refClass) %&gt;%\n    summarise(\n      matched = sum(matched_goal),\n      unmatched = n() - sum(matched_goal)\n    ) %&gt;%\n    select(matched, unmatched) %&gt;%\n    as.matrix()\n\n# Perform the chi-squared test\nchisq_test &lt;- chisq.test(contingency_table)\n\n# View the results\nchisq_test\n\n\ns1_aggb &lt;- s1_agg %&gt;%\n  mutate(matched_goal = as.numeric(matched_goal)) \n\nm1_s1 &lt;- brms::brm(\n  matched_goal ~ refClass,        # Logistic regression with reference class as predictor\n  data = s1_agg,                    # The dataset\n  family = bernoulli(),           # Binary outcome model\n # prior = set_prior(\"normal(0, 1)\", class = \"b\"),  # Prior for coefficients\n  iter = 2000,                    # Number of iterations\n  chains = 4,                     # Number of MCMC chains\n  cores = 4,                      # Number of cores for parallel computation\n  seed = 123                      # Set seed for reproducibility\n)\n# Regression Coefficients: - prior\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept             -0.53      0.12    -0.76    -0.30 1.00     3182     2941\n# refClassPercentage    -0.76      0.18    -1.12    -0.41 1.00     2565     2685\n# refClassUSD           -1.64      0.21    -2.06    -1.24 1.00     2576     2941\n# Regression Coefficients: - no prior\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept             -0.49      0.12    -0.72    -0.27 1.00     3259     2975\n# refClassPercentage    -0.81      0.19    -1.18    -0.45 1.00     2364     2585\n# refClassUSD           -1.73      0.21    -2.15    -1.32 1.00     2643     2942\n\n\n\n\n\nm2_s1 &lt;- brms::brm(\n  matched_goal ~ refClass + (1|id),       \n  data = s1_agg,                    \n  family = bernoulli(),           \n  #prior = set_prior(\"normal(0, 1)\", class = \"b\"),  \n  iter = 2000,                    \n  chains = 4,                     \n  cores = 4,                      \n  seed = 123                      \n)\n# Regression Coefficients:\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept             -3.97      0.95    -6.07    -2.38 1.00     1001     1715\n# refClassPercentage    -0.54      0.75    -1.97     0.96 1.00     1523     2223\n# refClassUSD           -2.26      0.76    -3.74    -0.77 1.00     1729     2581\n# Regression Coefficients: - no prior\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept             -2.04      0.97    -4.11    -0.35 1.01      616     1384\n# refClassPercentage    -3.16      1.35    -5.97    -0.65 1.00      542     1234\n# refClassUSD           -6.84      1.68   -10.42    -3.87 1.01      581     1096\n\n\n\n\nm3_s1 &lt;- brms::brm(\n  matched_goal ~ refClass + (1|id) + (1|state), \n  data = s1_agg,                    \n  family = bernoulli(),           \n  prior = set_prior(\"normal(0, 1)\", class = \"b\"),  \n  iter = 2000,                    #\n  chains = 4,                     \n  cores = 4,                      \n  seed = 123                      \n)\n# Regression Coefficients:\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept             -4.08      1.05    -6.39    -2.20 1.00      651     1280\n# refClassPercentage    -0.52      0.78    -2.05     1.02 1.01      769     1583\n# refClassUSD           -2.25      0.78    -3.78    -0.72 1.00     1036     2002\n\n\nm4_s1 &lt;- brms::brm(\n  matched_goal ~ refClass + (1+plan|id) + (1|state), \n  data = s1_agg,                    \n  family = bernoulli(),           \n  iter = 4000,                    #\n  chains = 4,                     \n  cores = 4,                      \n  seed = 123                      \n)\n# Regression Coefficients:\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept             -4.24      1.12    -6.60    -2.18 1.00     1280      962\n# refClassPercentage    -0.49      0.79    -1.99     1.12 1.00     2347     4012\n# refClassUSD           -2.22      0.78    -3.74    -0.71 1.00     2395     4132\n\nm5_s1 &lt;- brms::brm(\n  matched_goal ~ refClass + (1+plan|id) + (1|state), \n  data = s1_agg,                    \n  family = bernoulli(),           \n  iter = 4000,                    #\n  chains = 4,                     \n  cores = 4,                      \n  seed = 123                      \n)\n# Regression Coefficients:\n#                    Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS\n# Intercept             -2.20      1.15    -4.56     0.02 1.00     1819     2875\n# refClassPercentage    -3.34      1.53    -6.59    -0.64 1.00     1139     2377\n# refClassUSD           -7.37      1.90   -11.64    -4.13 1.00     1706     3083\n\n\nstanplot(m5_s1)\n\nmcmc_plot(m5_s1, pars = c(\"b_Intercept\",\"refClassPercentage\", \"refClassUSD\"), regex = FALSE)\nmcmc_plot(m5_s1, regex_pars=c('b_*'), regex = FALSE)\n\n\nm5_s1 |&gt; emmeans(~refClass)\n#  refClass   emmean lower.HPD upper.HPD\n#  kWh          -2.2      -4.6       0.0\n#  Percentage   -5.4      -8.5      -2.9\n#  USD          -9.4     -13.4      -6.3\n# \n# Point estimate displayed: median \n# Results are given on the logit (not the response) scale. \n# HPD interval probability: 0.95 \n\nm5_s1 |&gt; emmeans(~refClass) |&gt; gather_emmeans_draws() |&gt; \n  ggplot(aes(x=refClass,y=.value,fill=refClass)) +\n  stat_dist_pointinterval() + stat_halfeye(alpha=.2) +\n  stat_lineribbon(alpha = .25, size = 1, .width = c(.95))\n\n\n# transform the log-odds to odds",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 1"
    ]
  },
  {
    "objectID": "nb/study1.html#data-checks",
    "href": "nb/study1.html#data-checks",
    "title": "Study 1 Analysis",
    "section": "Data checks",
    "text": "Data checks\n\nlibrary(tidyverse)\n\n# for every combination of state, appliance, and refClass, calculate the number of distinct values of family, and of state_avg\ns1 |&gt; group_by(state,appliance,refClass) |&gt; \n  summarise(n_distinct_family=n_distinct(family),\n            n_distinct_state_avg=n_distinct(state_avg), \n            # paste a string of each distinct value, separated by a comma\n            distinct_family=paste(unique(family),collapse=\",\"),\n            distinct_state_avg=paste(unique(state_avg),collapse=\",\")) |&gt;\n  filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) \n\n# A tibble: 11 × 7\n# Groups:   state, appliance [10]\n   state appliance       refClass   n_distinct_family n_distinct_state_avg\n   &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt;                  &lt;int&gt;                &lt;int&gt;\n 1 CAL   Water Heating   USD                        2                    2\n 2 COL   Heating         kWh                        3                    2\n 3 COL   Refrigerator    kWh                        2                    1\n 4 COL   Total kWh       kWh                        2                    1\n 5 COL   Water Heating   USD                        1                    2\n 6 MASS  Water Heating   USD                        2                    1\n 7 TEX   Heating         USD                        2                    1\n 8 TEX   Other Appliance USD                        2                    1\n 9 TEX   Total kWh       kWh                        1                    2\n10 TEX   Water Heating   Percentage                 2                    1\n11 TEX   Water Heating   USD                        3                    2\n# ℹ 2 more variables: distinct_family &lt;chr&gt;, distinct_state_avg &lt;chr&gt;\n\ns1 |&gt; group_by(state,appliance,refClass) |&gt; \n  mutate(n_distinct_family=n_distinct(family),\n            n_distinct_state_avg=n_distinct(state_avg), \n            # paste a string of each distinct value, separated by a comma\n            distinct_family=paste(unique(family),collapse=\",\"),\n            distinct_state_avg=paste(unique(state_avg),collapse=\",\")) |&gt;\n  filter(n_distinct_family&gt;1 | n_distinct_state_avg&gt;1) |&gt; \n  group_by(state,appliance,refClass,family,state_avg) \n\n# A tibble: 974 × 25\n# Groups:   state, appliance, refClass, family, state_avg [25]\n      id state1   state2 refClass   calc            edu     modality state id2  \n   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;           &lt;fct&gt;   &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;\n 1     1 Colorado Texas  Percentage Used Calculator Gradua… P        TEX   R_2Q…\n 2     1 Colorado Texas  Percentage Used Calculator Gradua… P        TEX   R_2Q…\n 3     2 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_2t…\n 4     2 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_2t…\n 5     3 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_3G…\n 6     3 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_3G…\n 7     4 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_Dj…\n 8     4 Colorado Texas  Percentage Used Calculator Colleg… P        TEX   R_Dj…\n 9     5 Colorado Texas  Percentage No Calculator   Gradua… P        TEX   R_3f…\n10     5 Colorado Texas  Percentage No Calculator   Gradua… P        TEX   R_3f…\n# ℹ 964 more rows\n# ℹ 16 more variables: Duration__in_seconds_ &lt;dbl&gt;, appliance &lt;chr&gt;,\n#   family &lt;dbl&gt;, state_avg &lt;dbl+lbl&gt;, plan &lt;fct&gt;, value &lt;dbl&gt;, block &lt;dbl&gt;,\n#   pct_goal &lt;dbl&gt;, change &lt;dbl&gt;, state_p_dif &lt;dbl&gt;, state_f_dif &lt;dbl&gt;,\n#   less_avg &lt;lgl&gt;, n_distinct_family &lt;int&gt;, n_distinct_state_avg &lt;int&gt;,\n#   distinct_family &lt;chr&gt;, distinct_state_avg &lt;chr&gt;\n\n  # the count of each unique value of family, and each unique value of state avg\n  \n \ns1 |&gt; \n    group_by(state, appliance, refClass) |&gt; \n    mutate(n_distinct_family = n_distinct(family),\n           n_distinct_state_avg = n_distinct(state_avg), \n           distinct_family = paste(unique(family), collapse = \",\"),\n           distinct_state_avg = paste(unique(state_avg), collapse = \",\")) |&gt;\n    filter(n_distinct_family &gt; 1 | n_distinct_state_avg &gt; 1,plan==\"plan1\") |&gt; \n    group_by(state, appliance, refClass, family, state_avg) |&gt; \n    mutate(state_avg_count = n_distinct(state_avg),\n           family_count = n()) |&gt; \n    ungroup() |&gt; \n    group_by(state, appliance, refClass, state_avg) |&gt; \n    mutate(state_avg_count = n()) |&gt; \n    distinct(state, appliance, refClass, family, state_avg, family_count, state_avg_count) |&gt; \n  arrange(state,appliance,refClass)\n\n# A tibble: 25 × 7\n# Groups:   state, appliance, refClass, state_avg [16]\n   state appliance     refClass family state_avg family_count state_avg_count\n   &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;     &lt;dbl&gt; &lt;dbl+lbl&gt;        &lt;int&gt;           &lt;int&gt;\n 1 CAL   Water Heating USD        5061  4601               41              41\n 2 CAL   Water Heating USD        5124  4534                1               1\n 3 COL   Heating       kWh         340   587                1               1\n 4 COL   Heating       kWh       18052 16411               36              37\n 5 COL   Heating       kWh       11441 16411                1              37\n 6 COL   Refrigerator  kWh        5600  1142                1              38\n 7 COL   Refrigerator  kWh        1370  1142               37              38\n 8 COL   Total kWh     kWh        1500 30535                1              38\n 9 COL   Total kWh     kWh       39768 30535               37              38\n10 COL   Water Heating USD       11667  4000                1               1\n# ℹ 15 more rows\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\"))  |&gt; filter(ResponseId==\"R_2QMsYuHS385pTj1\") -&gt; k\n# find if any columns equal 5.26\n\n\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\")) |&gt;\n  filter(ResponseId == \"R_vB56XspT1LqhrkB\") |&gt;\n  # Select columns with non-NA values and not empty strings, handling character and numeric columns separately\n  select(\n    where(~ is.numeric(.) && !all(is.na(.))),\n    where(~ is.character(.) && !all(is.na(.)) && !all(. == \"\"))\n  ) |&gt;\n  # Remove columns that start with \"AIN\"\n  select(-starts_with(\"AIN\"))\n\n# A tibble: 1 × 108\n  Progress Duration__in_seconds_ Finished  Consent       D1CAL01 D1CAL02 D1CAL03\n     &lt;dbl&gt;                 &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;dbl+lbl&gt;     &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt;\n1      100                  1379 1 [True]  1 [Yes I agr… 3 [Wat… 1 [1]   3 [3]  \n# ℹ 101 more variables: D1CAL04 &lt;dbl+lbl&gt;, D1CAL05 &lt;dbl+lbl&gt;,\n#   D1CAL06 &lt;dbl+lbl&gt;, D1CAL07 &lt;dbl&gt;, D1CAL08 &lt;dbl&gt;, D1CAL09 &lt;dbl&gt;,\n#   D1CAL10 &lt;dbl&gt;, D1CAL11 &lt;dbl&gt;, D1CAL12 &lt;dbl&gt;, D1CAL13 &lt;dbl&gt;, D1CAL14 &lt;dbl&gt;,\n#   D1CAL15 &lt;dbl&gt;, D1CAL16 &lt;dbl&gt;, D1CAL17 &lt;dbl&gt;, D1CAL18 &lt;dbl&gt;, D1CAL19 &lt;dbl&gt;,\n#   D1CAL20 &lt;dbl&gt;, D1CAL21 &lt;dbl&gt;, D1CAL22 &lt;dbl&gt;, D1CAL23 &lt;dbl&gt;, D1CAL24 &lt;dbl&gt;,\n#   D1CAL25 &lt;dbl&gt;, D1CAL26 &lt;dbl&gt;, D1CAL27 &lt;dbl&gt;, D1CAL28 &lt;dbl&gt;, D1CAL29 &lt;dbl&gt;,\n#   D1CAL30 &lt;dbl&gt;, D1CAL31 &lt;dbl+lbl&gt;, D1CAL34 &lt;dbl+lbl&gt;, D1CAL35 &lt;dbl+lbl&gt;, …\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\"))  |&gt; select_if(~any(. ==11441.0)) |&gt; \n  # filter out any NAs from any column that is left (we don't know the column names)\n  filter_all(any_vars(!is.na(.))) |&gt; \n  # retain only cases of 11441.0\n  filter_all(any_vars(. == 11441.0)) \n\n# A tibble: 1 × 1\n  A4COL11\n    &lt;dbl&gt;\n1   11441\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\"))  |&gt; # return the names of any columns that contain 11441.0\n  select_if(~any(. ==11441.0)) |&gt; \n  names() |&gt; \n  str_c(collapse=\",\") |&gt; \n  cat() # P3TEX15\n\nA4COL11\n\n# do the same procedure for each of these values, include a line break after the output from each number\nlow_freq &lt;- c(5.26, 4534, 340,11667,5.3,400, 29046,5600,5987,34265.0,5600.0 )\n\n\n# for(val in low_freq) {\n#   haven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\")) |&gt;\n#     select_if(~any(. == val)) |&gt;\n#     names() |&gt;\n#     str_c(collapse = \",\") |&gt;\n#     cat()\n#   cat(\"\\n\")  # Add line break after each output\n# }\n\nlow_freq |&gt;\n  walk(function(val) {\n    cat(val, \"\\n\")  # Print the current value\n    haven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\")) |&gt;\n      select_if(~any(. == val)) |&gt;\n      names() |&gt;\n      str_c(collapse = \",\") |&gt;\n      cat()\n    cat(\"\\n\\n\")  # Add two line breaks before next value\n  })\n\n5.26 \n\n\n4534 \nD1CAL16\n\n340 \nA2COL11\n\n11667 \nP1COL15,P2COL15,P3COL15,P4COL15,D1COL15,D2COL15,D3COL15,D4COL15,D4COL17,A1COL15,A2COL15,A3COL15,A4COL15\n\n5.3 \n\n\n400 \nAIND10,P1COL09,P1COL10,P1MASS09,P1MASS10,P2COL09,P2MASS09,P2MASS10,P3COL09,P3COL10,P4COL09,P4COL10,P3MASS09,P3MASS10,P4MASS09,P4MASS10,D1COL10,D1MASS09,D1MASS10,D1MASS22,D2COL09,D2COL10,D2CAL09,D2CAL10,D2CAL13,D2CAL14,D2CAL17,D2CAL18,D2CAL21,D2CAL22,D2CAL25,D2CAL26,D2CAL29,D2CAL30,D2MASS10,D3COL10,D3TEX16,D4COL10,D4COL21,D3MASS09,D3MASS10,D4MASS09,D4MASS10,A1COL10,A1MASS09,A1MASS10,A2COL10,A2CAL26,A2MASS09,A2MASS10,A4COL09,A4COL10,A3MASS09,A3MASS10,A4MASS09,A4MASS10\n\n29046 \nP1TEX27,P2TEX27,P3TEX27,P4TEX27,P4TEX29,D1TEX27,D1TEX30,D2TEX27,D2TEX29,D3TEX27,D4TEX27,A1TEX27,A2TEX27,A2TEX29,A2TEX30,A3TEX27,A3TEX28,A3TEX29,A3TEX30,A4TEX27\n\n5600 \nP3COL18,P3CAL14,D1TEX15,D2CAL14,D3CAL13,D3CAL14,A1COL25,A1MASS17,A1CAL13,A1CAL29,A2COL19,A2CAL14,A3COL26\n\n5987 \nD2TEX23,A1CAL13\n\n34265 \nD2TEX15\n\n5600 \nP3COL18,P3CAL14,D1TEX15,D2CAL14,D3CAL13,D3CAL14,A1COL25,A1MASS17,A1CAL13,A1CAL29,A2COL19,A2CAL14,A3COL26\n\nk %&gt;% select_if(~any(is.numeric(.)) & . &lt;10)\n\n# A tibble: 1 × 54\n  Finished  Consent      P3COL01 P3COL02 P3COL03 P3COL04 P3COL05 P3COL06 P3COL31\n  &lt;dbl+lbl&gt; &lt;dbl+lbl&gt;    &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt; &lt;dbl+l&gt;\n1 1 [True]  1 [Yes I ag… 3 [Wat… 1 [1]   2 [2]   5 [5]   3 [3]   4 [4]   1 [Act…\n# ℹ 45 more variables: P3COL34 &lt;dbl+lbl&gt;, P3COL35 &lt;dbl+lbl&gt;, P3TEX01 &lt;dbl+lbl&gt;,\n#   P3TEX02 &lt;dbl+lbl&gt;, P3TEX03 &lt;dbl+lbl&gt;, P3TEX04 &lt;dbl+lbl&gt;, P3TEX05 &lt;dbl+lbl&gt;,\n#   P3TEX06 &lt;dbl+lbl&gt;, P3TEX15 &lt;dbl&gt;, P3TEX31 &lt;dbl+lbl&gt;, P3TEX33 &lt;dbl+lbl&gt;,\n#   P3TEX35 &lt;dbl+lbl&gt;, MATH01 &lt;dbl+lbl&gt;, ELS01 &lt;dbl+lbl&gt;, ELS02 &lt;dbl+lbl&gt;,\n#   ELS03 &lt;dbl+lbl&gt;, ELS04 &lt;dbl+lbl&gt;, ELS05 &lt;dbl+lbl&gt;, ELS06 &lt;dbl+lbl&gt;,\n#   ELS07 &lt;dbl+lbl&gt;, ELS08 &lt;dbl+lbl&gt;, DUMMYVAR01 &lt;dbl+lbl&gt;,\n#   DUMMYVAR02 &lt;dbl+lbl&gt;, DUMMYVAR03 &lt;dbl+lbl&gt;, DUMMYVAR04 &lt;dbl+lbl&gt;, …\n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\")) |&gt; select(P3TEX15) |&gt; unique()\n\n# A tibble: 2 × 1\n  P3TEX15\n    &lt;dbl&gt;\n1    5.26\n2   NA   \n\nhaven::read_sav(here::here(\"data/Frequency & Probability Study 1 - 3-24-19.sav\")) |&gt; \n  #select(ResponseId, P3TEX15) |&gt; \n  filter(!is.na(P3TEX15))\n\n# A tibble: 10 × 1,840\n   IPAddress       Progress Duration__in_seconds_ Finished  RecordedDate       \n   &lt;chr&gt;              &lt;dbl&gt;                 &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;dttm&gt;             \n 1 23.81.192.193        100                  1008 1 [True]  2018-09-24 20:50:48\n 2 172.116.255.216      100                  1126 1 [True]  2018-09-24 18:32:03\n 3 173.89.169.178       100                   870 1 [True]  2018-09-24 18:32:41\n 4 138.75.69.205        100                  2763 1 [True]  2018-09-24 22:19:26\n 5 107.172.201.182      100                   920 1 [True]  2018-09-24 22:32:06\n 6 52.144.47.38         100                   878 1 [True]  2018-09-25 07:07:14\n 7 23.94.140.144        100                  2680 1 [True]  2018-09-25 07:09:47\n 8 66.110.199.87        100                  1628 1 [True]  2018-09-25 07:38:49\n 9 107.172.165.113      100                   724 1 [True]  2018-09-25 07:40:55\n10 173.215.15.248       100                   913 1 [True]  2018-09-25 08:08:02\n# ℹ 1,835 more variables: ResponseId &lt;chr&gt;, Consent &lt;dbl+lbl&gt;, AIND01 &lt;dbl&gt;,\n#   AIND02 &lt;dbl&gt;, AIND03 &lt;dbl&gt;, AIND04 &lt;dbl&gt;, AIND05 &lt;dbl&gt;, AIND06 &lt;dbl&gt;,\n#   AIND07 &lt;dbl&gt;, AIND08 &lt;dbl&gt;, AIND09 &lt;dbl&gt;, AIND10 &lt;dbl&gt;, AIND11 &lt;dbl&gt;,\n#   AIND12 &lt;dbl&gt;, AIND13 &lt;dbl&gt;, AIND14 &lt;dbl&gt;, AIND15 &lt;dbl&gt;, AIND16 &lt;dbl&gt;,\n#   P1TEX01 &lt;dbl+lbl&gt;, P1TEX02 &lt;dbl+lbl&gt;, P1TEX03 &lt;dbl+lbl&gt;, P1TEX04 &lt;dbl+lbl&gt;,\n#   P1TEX05 &lt;dbl+lbl&gt;, P1TEX06 &lt;dbl+lbl&gt;, P1TEX07 &lt;dbl&gt;, P1TEX08 &lt;dbl&gt;,\n#   P1TEX09 &lt;dbl&gt;, P1TEX10 &lt;dbl&gt;, P1TEX11 &lt;dbl&gt;, P1TEX12 &lt;dbl&gt;, …\n\n# A tibble: 2 × 2\n#   P3TEX15 `n()`\n#     &lt;dbl&gt; &lt;int&gt;\n# 1    5.26    10\n# 2   NA      242",
    "crumbs": [
      "<strong>Analysis</strong>",
      "Study 1"
    ]
  },
  {
    "objectID": "background/study1_info.html",
    "href": "background/study1_info.html",
    "title": "Study 1 codebook and dataset info",
    "section": "",
    "text": "Table 1: Practice Problems\n\n\n\nQuestion Description\nVariables\nValues\n\n\n\n\nConsent form\nConsent\n1=yes, 2=no\n\n\nPRACTICE PROBLEMS\n\n\n\n\nFamily Cooling Use\nAIND01\nNumeric Value\n\n\nState Cooling Average\nAIND02\nNumeric Value\n\n\nFamily Heating Use\nAIND03\nNumeric Value\n\n\nState Heating Average\nAIND04\nNumeric Value\n\n\nFamily Water Heating Use\nAIND05\nNumeric Value\n\n\nFamily Water Heating Average\nAIND06\nNumeric Value\n\n\nFamily Total kWh Use\nAIND07\nNumeric Value\n\n\nFamily Total kWh Average\nAIND08\nNumeric Value\n\n\nCooling Action Plan 1\nAIND09\nNumeric Value\n\n\nCooling Action Plan 2\nAIND10\nNumeric Value\n\n\nHeating Action Plan 1\nAIND11\nNumeric Value\n\n\nHeating Action Plan 2\nAIND12\nNumeric Value\n\n\nWater Heating Action Plan 1\nAIND13\nNumeric Value\n\n\nWater Heating Action Plan 2\nAIND14\nNumeric Value\n\n\nTotal kWh Action Plan 1\nAIND15\nNumeric Value\n\n\nTotal kWh Action Plan 2\nAIND16\nNumeric Value\n\n\n\n\n\n\nTable 2: Variable Name Format\n\n\n\nCategory\nVariable\nValue\n\n\n\n\nModality Letters:\n\n\n\n\nKilowatt hours (absolute)\nA\n\n\n\nUS dollars\nD\n\n\n\nPercent\nP\n\n\n\nStates:\n\n\n\n\nCalifornia\nCAL\n\n\n\nMassachusetts\nMASS\n\n\n\nColorado\nCOL\n\n\n\nTexas\nTEX\n\n\n\n\nExample: ACAL01 refers to the absolute value (kWh) condition for the family in California, and the participant’s answer to the MC (multiple choice) question “Which appliance needs the most energy in average households in California?”\nTable 3: Frequency Study Codebook\n\n\n\n\n\n\n\n\nQuestion Description\nQuestion Number\nValues\n\n\n\n\nWhich appliance needs the most energy in average households MC\n01\n1 = “Cooling (Central A/C)”  2 = “Heating the Home”  3 = “Water Heating”  4 = “Refrigerator”  5 = “Other (Television, Lighting, Electronics, Washer/Dryer, etc.)”\n\n\n“Rank each appliance based on electricity use per year.”: Rank: Cooling (A/C)\n02\n1 = most kWh used;  2; 3; 4;  5 = least kWh used\n\n\nRank: Heating\n03\n1 = most kWh used;  2; 3; 4;  5 = least kWh used\n\n\nRank: Water Heating\n04\n1 = most kWh used;  2; 3; 4;  5 = least kWh used\n\n\nRank: Refrigerator\n05\n1 = most kWh used;  2; 3; 4;  5 = least kWh used\n\n\nRank: Other (Television, Lighting, Electronics, Washer/Dryer, etc.)\n06\n1 = most kWh used;  2; 3; 4;  5 = least kWh used\n\n\nAction Plan Tasks:\n\n\n\n\nFamily Cooling Use\n07\nNumeric Value\n\n\nState Cooling Average\n08\nNumeric Value\n\n\nCooling Action Plan 1\n09\nNumeric Value\n\n\nCooling Action Plan 2\n10\nNumeric Value\n\n\nFamily Heating Use\n11\nNumeric Value\n\n\nState Heating Average\n12\nNumeric Value\n\n\nHeating Action Plan 1\n13\nNumeric Value\n\n\nHeating Action Plan 2\n14\nNumeric Value\n\n\nFamily Water Heating Use\n15\nNumeric Value\n\n\nFamily Water Heating Average\n16\nNumeric Value\n\n\nWater Heating Action Plan 1\n17\nNumeric Value\n\n\nWater Heating Action Plan 2\n18\nNumeric Value\n\n\nFamily Refrigerator Use\n19\nNumeric Value\n\n\nFamily Refrigerator Average\n20\nNumeric Value\n\n\nRefrigerator Action Plan 1\n21\nNumeric Value\n\n\nRefrigerator Action Plan 2\n22\nNumeric Value\n\n\nFamily Other Appliance Use\n23\nNumeric Value\n\n\nFamily Other Appliance Average\n24\nNumeric Value\n\n\nOther Appliance Action Plan 1\n25\nNumeric Value\n\n\nOther Appliance Action Plan 2\n26\nNumeric Value\n\n\nFamily Total kWh Use\n27\nNumeric Value\n\n\nFamily Total kWh Average\n28\nNumeric Value\n\n\nTotal kWh Action Plan 1\n29\nNumeric Value\n\n\nTotal kWh Action Plan 2\n30\nNumeric Value\n\n\nWhich action plan is preferred (MC)\n31\n1=“Action Plan 1”  2=“Action Plan 2”\n\n\nWhy is the action plan preferred (Open-ended)\n32\nText\n\n\n“If you could reduce electricity for two appliances…” (Choose 2): Reduce Two: Cooling (A/C)\n33\n1=Selected  Missing = Not selected\n\n\nReduce Two: Heating\n34\n1=Selected  Missing = Not selected\n\n\nReduce Two: Water Heating\n35\n1=Selected  Missing = Not selected\n\n\nReduce Two: Refrigerator\n36\n1=Selected  Missing = Not selected\n\n\nReduce Two: Other\n37\n1=Selected  Missing = Not selected\n\n\n\n\n\n\nTable 1: Survey Questions and Energy Literacy Survey\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\n“Did you use a calculator?” Used a calculator\nMATH01\n1 = Selected  Missing = Not selected\n\n\nUsed a paper/pen\nMATH02\n1 = Selected  Missing = Not selected\n\n\nUsed something else\nMATH03\n1 = Selected  Missing = Not selected\n\n\nUsed something else text entry\nMATH04\n1 = Selected  Missing = Not selected\n\n\nENERGY LITERACY SURVEY\n\n\n\n\nDewaters and Powers 2011. Assesses participant knowledge of energy names, use, and sources  Question about electrical energy units (kWh)\nELS01\n1 = “Kilowatt (kW)”  2 = “Kilowatt-hours (kWh)”  3 = “British Thermal Units (BTU)”  4 = “Volts (V)”  5 = “Horsepower (HP)”\n\n\nQuestion about energy consumed and appliance power rating\nELS02\n1 = “Multiplied by the cost of electricity”  2 = “Added to the cost of electricity”  3 = “Multiplied by the time it’s used”  4 = “Divided by the time it’s used”  5 = “Added to the time it’s used”\n\n\nQuestion about incandescent lightbulb conversion\nELS03\n1 = “Electrical energy to radiant energy (light)”  2 = “Chemical energy to radiant energy (light)”  3 = “Electrical energy to radiant energy (light) and thermal energy (heat)”  4 = “Chemical energy to radiant energy (light) and thermal energy (heat)”  5 = “Electrical energy to radiant energy (light) and mechanical energy”\n\n\nQuestion about reason to buy energy star appliances\nELS04\n1 = “ENERGY STAR appliances are usually bigger”  2 = “ENERGY STAR appliances cost more”  3 = “ENERGY STAR appliances use less energy”  4 = “ENERGY STAR appliances are more modern looking”  5 = “ENERGY STAR appliances cost less”\n\n\nQuestion about which appliances uses the most energy\nELS05\n1 = “Refrigerating food and beverages”  2 = “Washing and drying clothing”  3 = “Heating and cooling rooms”  4 = “Heating and cooling water”  5 = “Lighting the home”\n\n\nQuestion about which appliance uses the most electricity\nELS06\n1 = “Lights”  2 = “Refrigerator”  3 = “Telephone”  4 = “Television”  5 = “Computer”\n\n\nQuestion about which source provides most electricity in the US\nELS07\n1 = “Nuclear power”  2 = “Burning petroleum”  3 = “Burning coal”  4 = “Solar energy”  5 = “Water (hydro) power”\n\n\nQuestion about the problem with electric cars\nELS08\n1 = “Most electricity is currently produced from fossil fuels (coal, oil, natural gas)”  2 = “Switching to electric cars will make unemployment rates go up”  3 = “It has been proven that it is impossible to build electric cars in great quantities”  4 = “You can’t use electricity to operate a car”  5 = “There is nothing wrong with this idea”\n\n\n\n\n\n\nTable 2: Dummy Variables\n\n\n\nColor\nVariable\nValues\n\n\n\n\nRed\nDUMMYVAR01\n1 = Selected  Missing = Not selected\n\n\nBlue\nDUMMYVAR02\n1 = Selected  Missing = Not selected\n\n\nGreen\nDUMMYVAR03\n1 = Selected  Missing = Not selected\n\n\nYellow\nDUMMYVAR04\n1 = Selected  Missing = Not selected\n\n\nPurple\nDUMMYVAR05\n1 = Selected  Missing = Not selected\n\n\nOrange\nDUMMYVAR06\n1 = Selected  Missing = Not selected\n\n\n\n\n\n\nTable 3: Recycling Study Questions\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\nI generally don’t pay a lot of attention to how much energy I use.\nRS01\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\nI would say I am very pro-environmental.\nRS02\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\nI think saving energy is largely a waste of time.\nRS03\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\nI am generally conservative on the political spectrum with regard to social issues.\nRS04\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\nI am generally conservative on the political spectrum with regard to economic issues.\nRS05\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\nI consider myself knowledgeable about how much energy utilities such as a dishwasher or lighting use.\nRS06\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\n\n\n\n\nTable 1: Attari Study Questions and Demographic Questions\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\nATTARI STUDY QUESTIONS\n\n\n\n\nDo you consume more or less energy than the average individual in the United States?\nATT01\n1 = “I consume more energy than average”  2 = “I consume less energy than average”  3 = “I don’t know”\n\n\nDEMOGRAPHIC QUESTIONS\n\n\n\n\nGender\nDEM01\n1 = “Male”  2 = “Female”  3 = “Choose not to answer”\n\n\nBirth year\nDEM02\nText\n\n\nIncome\nDEM03\n1 = “Did not have an income”  2 = “&lt; $20,000”  3 = “$20,000 - $49,999”  4 = “$50,000 - $79,999”  5 = “$80,000 - $109,999”  6 = “$110,000 - $139,999”  7 = “$140,000 - $169,999”  8 = “&gt;$170,000”  9 = “Choose not to answer”\n\n\nEducation\nDEM04\n1 = “Some schooling, but no diploma or degree”  2 = “Highschool diploma or GED”  3 = “Some college”  4 = “College degree”  5 = “Some graduate school”  6 = “Graduate degree”  7 = “Choose not to answer”\n\n\nEmployment\nDEM05\n1 = “Employed full-time”  2 = “Employed part-time”  3 = “Not employed/retired”  4 = “Choose not to answer”\n\n\nState\nDEM06\nText\n\n\nLength of State Residence\nDEM07\nText\n\n\n\n\n\n\nTable 2: Order Variable Format\n\n\n\n\n\n\n\n\nCategory\nVariable\nValues\n\n\n\n\nColorado/Wells Family\nColorado\n1=1st  2=2nd\n\n\nMassachusetts/Davis Family\nMassachusetts\n\n\n\nCalifornia/Adams Family\nCalifornia\n\n\n\nTexas/Smith Family\nTexas\n\n\n\nReference class received\nReferenceClass\n1=USD  2=kWh  3=Percentage\n\n\n\n\n\n\nlibrary(pacman) pacman::p_load(dplyr,purrr,tidyr,here,haven,tibble,ggplot2,gt,ggh4x,lme4,flextable)\ns1 &lt;- haven::read_sav(here::here(“data/Frequency & Probability Study 1 - 3-24-19.sav”))\ns1 &lt;- s1 |&gt; mutate( state1 = case_when( Colorado == 1 ~ “Colorado”, Massachusetts == 1 ~ “Massachusetts”, California == 1 ~ “California”, Texas == 1 ~ “Texas”, TRUE ~ NA_character_ ), state2 = case_when( Colorado == 2 ~ “Colorado”, Massachusetts == 2 ~ “Massachusetts”, California == 2 ~ “California”, Texas == 2 ~ “Texas”, TRUE ~ NA_character_ )) |&gt; mutate(refClass = case_when( ReferenceClass == 1 ~ “USD”, ReferenceClass == 2 ~ “kWh”, ReferenceClass == 3 ~ “Percentage” )) |&gt; rename(calc=MATH01) |&gt; # replace NA’s in calc with 0’s rename(id=ResponseId) |&gt; mutate(calc=factor(ifelse(is.na(calc),0,calc))) |&gt; relocate(refClass,state1,state2,calc, .after = id)\ns1 &lt;- s1 |&gt; rename(edu=DEM04) |&gt; mutate(edu = factor(case_when( edu == 1 ~ “Some schooling, but no diploma or degree”, edu == 2 ~ “Highschool diploma or GED”, edu == 3 ~ “Some college”, edu == 4 ~ “College degree”, edu == 5 ~ “Some graduate school”, edu == 6 ~ “Graduate degree”, edu == 7 ~ “Choose not to answer”, TRUE ~ NA_character_ ))) |&gt; relocate(edu, .after = id)\ncolnames(s1) [1] “IPAddress” “Progress” “Duration_in_seconds” “Finished” “RecordedDate”\n[6] “id” “edu” “refClass” “state1” “state2”\n[11] “calc” “Consent” “AIND01” “AIND02” “AIND03”\n[16] “AIND04” “AIND05” “AIND06” “AIND07” “AIND08”\n[21] “AIND09” “AIND10” “AIND11” “AIND12” “AIND13”\n[26] “AIND14” “AIND15” “AIND16” “P1TEX01” “P1TEX02”\n[31] “P1TEX03” “P1TEX04” “P1TEX05” “P1TEX06” “P1TEX07”\n[36] “P1TEX08” “P1TEX09” “P1TEX10” “P1TEX11” “P1TEX12”\n[41] “P1TEX13” “P1TEX14” “P1TEX15” “P1TEX16” “P1TEX17”\n[46] “P1TEX18” “P1TEX19” “P1TEX20” “P1TEX21” “P1TEX22”\n[51] “P1TEX23” “P1TEX24” “P1TEX25” “P1TEX26” “P1TEX27”\n[56] “P1TEX28” “P1TEX29” “P1TEX30” “P1TEX31” “P1TEX32”\n[61] “P1TEX33” “P1TEX34” “P1TEX35” “P1TEX36” “P1TEX37”\n[66] “P1COL01” “P1COL02” “P1COL03” “P1COL04” “P1COL05”\n[71] “P1COL06” “P1COL07” “P1COL08” “P1COL09” “P1COL10”\n[76] “P1COL11” “P1COL12” “P1COL13” “P1COL14” “P1COL15”\n[81] “P1COL16” “P1COL17” “P1COL18” “P1COL19” “P1COL20”\n[86] “P1COL21” “P1COL22” “P1COL23” “P1COL24” “P1COL25”\n[91] “P1COL26” “P1COL27” “P1COL28” “P1COL29” “P1COL30”\n[96] “P1COL31” “P1COL32” “P1COL33” “P1COL34” “P1COL35”\n[101] “P1COL36” “P1COL37” “P2TEX01” “P2TEX02” “P2TEX03”\n[106] “P2TEX04” “P2TEX05” “P2TEX06” “P2TEX07” “P2TEX08”\n[111] “P2TEX09” “P2TEX10” “P2TEX11” “P2TEX12” “P2TEX13”\n[116] “P2TEX14” “P2TEX15” “P2TEX16” “P2TEX17” “P2TEX18”\n[121] “P2TEX19” “P2TEX20” “P2TEX21” “P2TEX22” “P2TEX23”\n[126] “P2TEX24” “P2TEX25” “P2TEX26” “P2TEX27” “P2TEX28”\n[131] “P2TEX29” “P2TEX30” “P2TEX31” “P2TEX32” “P2TEX33”\n[136] “P2TEX34” “P2TEX35” “P2TEX36” “P2TEX37” “P1MASS01”\n[141] “P1MASS02” “P1MASS03” “P1MASS04” “P1MASS05” “P1MASS06”\n[146] “P1MASS07” “P1MASS08” “P1MASS09” “P1MASS10” “P1MASS11”\n[151] “P1MASS12” “P1MASS13” “P1MASS14” “P1MASS15” “P1MASS16”\n[156] “P1MASS17” “P1MASS18” “P1MASS19” “P1MASS20” “P1MASS21”\n[161] “P1MASS22” “P1MASS23” “P1MASS24” “P1MASS25” “P1MASS26”\n[166] “P1MASS27” “P1MASS28” “P1MASS29” “P1MASS30” “P1MASS31”\n[171] “P1MASS32” “P1MASS33” “P1MASS34” “P1MASS35” “P1MASS36”\n[176] “P1MASS37” “P1CAL01” “P1CAL02” “P1CAL03” “P1CAL04”\n[181] “P1CAL05” “P1CAL06” “P1CAL07” “P1CAL08” “P1CAL09”\n[186] “P1CAL10” “P1CAL11” “P1CAL12” “P1CAL13” “P1CAL14”\n[191] “P1CAL15” “P1CAL16” “P1CAL17” “P1CAL18” “P1CAL19”\n[196] “P1CAL20” “P1CAL21” “P1CAL22” “P1CAL23” “P1CAL24”\n[201] “P1CAL25” “P1CAL26” “P1CAL27” “P1CAL28” “P1CAL29”\n[206] “P1CAL30” “P1CAL31” “P1CAL32” “P1CAL33” “P1CAL34”\n[211] “P1CAL35” “P1CAL36” “P1CAL37” “P2COL01” “P2COL02”\n[216] “P2COL03” “P2COL04” “P2COL05” “P2COL06” “P2COL07”\n[221] “P2COL08” “P2COL09” “P2COL10” “P2COL11” “P2COL12”\n[226] “P2COL13” “P2COL14” “P2COL15” “P2COL16” “P2COL17”\n[231] “P2COL18” “P2COL19” “P2COL20” “P2COL21” “P2COL22”\n[236] “P2COL23” “P2COL24” “P2COL25” “P2COL26” “P2COL27”\n[241] “P2COL28” “P2COL29” “P2COL30” “P2COL31” “P2COL32”\n[246] “P2COL33” “P2COL34” “P2COL35” “P2COL36” “P2COL37”\n[251] “P2CAL01” “P2CAL02” “P2CAL03” “P2CAL04” “P2CAL05”\n[256] “P2CAL06” “P2CAL07” “P2CAL08” “P2CAL09” “P2CAL10”\n[261] “P2CAL11” “P2CAL12” “P2CAL13” “P2CAL14” “P2CAL15”\n[266] “P2CAL16” “P2CAL17” “P2CAL18” “P2CAL19” “P2CAL20”\n[271] “P2CAL21” “P2CAL22” “P2CAL23” “P2CAL24” “P2CAL25”\n[276] “P2CAL26” “P2CAL27” “P2CAL28” “P2CAL29” “P2CAL30”\n[281] “P2CAL31” “P2CAL32” “P2CAL33” “P2CAL34” “P2CAL35”\n[286] “P2CAL36” “P2CAL37” “P2MASS01” “P2MASS02” “P2MASS03”\n[291] “P2MASS04” “P2MASS05” “P2MASS06” “P2MASS07” “P2MASS08”\n[296] “P2MASS09” “P2MASS10” “P2MASS11” “P2MASS12” “P2MASS13”\n[301] “P2MASS14” “P2MASS15” “P2MASS16” “P2MASS17” “P2MASS18”\n[306] “P2MASS19” “P2MASS20” “P2MASS21” “P2MASS22” “P2MASS23”\n[311] “P2MASS24” “P2MASS25” “P2MASS26” “P2MASS27” “P2MASS28”\n[316] “P2MASS29” “P2MASS30” “P2MASS31” “P2MASS32” “P2MASS33”\n[321] “P2MASS34” “P2MASS35” “P2MASS36” “P2MASS37” “P3COL01”\n[326] “P3COL02” “P3COL03” “P3COL04” “P3COL05” “P3COL06”\n[331] “P3COL07” “P3COL08” “P3COL09” “P3COL10” “P3COL11”\n[336] “P3COL12” “P3COL13” “P3COL14” “P3COL15” “P3COL16”\n[341] “P3COL17” “P3COL18” “P3COL19” “P3COL20” “P3COL21”\n[346] “P3COL22” “P3COL23” “P3COL24” “P3COL25” “P3COL26”\n[351] “P3COL27” “P3COL28” “P3COL29” “P3COL30” “P3COL31”\n[356] “P3COL32” “P3COL33” “P3COL34” “P3COL35” “P3COL36”\n[361] “P3COL37” “P3TEX01” “P3TEX02” “P3TEX03” “P3TEX04”\n[366] “P3TEX05” “P3TEX06” “P3TEX07” “P3TEX08” “P3TEX09”\n[371] “P3TEX10” “P3TEX11” “P3TEX12” “P3TEX13” “P3TEX14”\n[376] “P3TEX15” “P3TEX16” “P3TEX17” “P3TEX18” “P3TEX19”\n[381] “P3TEX20” “P3TEX21” “P3TEX22” “P3TEX23” “P3TEX24”\n[386] “P3TEX25” “P3TEX26” “P3TEX27” “P3TEX28” “P3TEX29”\n[391] “P3TEX30” “P3TEX31” “P3TEX32” “P3TEX33” “P3TEX34”\n[396] “P3TEX35” “P3TEX36” “P3TEX37” “P4COL01” “P4COL02”\n[401] “P4COL03” “P4COL04” “P4COL05” “P4COL06” “P4COL07”\n[406] “P4COL08” “P4COL09” “P4COL10” “P4COL11” “P4COL12”\n[411] “P4COL13” “P4COL14” “P4COL15” “P4COL16” “P4COL17”\n[416] “P4COL18” “P4COL19” “P4COL20” “P4COL21” “P4COL22”\n[421] “P4COL23” “P4COL24” “P4COL25” “P4COL26” “P4COL27”\n[426] “P4COL28” “P4COL29” “P4COL30” “P4COL31” “P4COL32”\n[431] “P4COL33” “P4COL34” “P4COL35” “P4COL36” “P4COL37”\n[436] “P3CAL01” “P3CAL02” “P3CAL03” “P3CAL04” “P3CAL05”\n[441] “P3CAL06” “P3CAL07” “P3CAL08” “P3CAL09” “P3CAL10”\n[446] “P3CAL11” “P3CAL12” “P3CAL13” “P3CAL14” “P3CAL15”\n[451] “P3CAL16” “P3CAL17” “P3CAL18” “P3CAL19” “P3CAL20”\n[456] “P3CAL21” “P3CAL22” “P3CAL23” “P3CAL24” “P3CAL25”\n[461] “P3CAL26” “P3CAL27” “P3CAL28” “P3CAL29” “P3CAL30”\n[466] “P3CAL31” “P3CAL32” “P3CAL33” “P3CAL34” “P3CAL35”\n[471] “P3CAL36” “P3CAL37” “P3MASS01” “P3MASS02” “P3MASS03”\n[476] “P3MASS04” “P3MASS05” “P3MASS06” “P3MASS07” “P3MASS08”\n[481] “P3MASS09” “P3MASS10” “P3MASS11” “P3MASS12” “P3MASS13”\n[486] “P3MASS14” “P3MASS15” “P3MASS16” “P3MASS17” “P3MASS18”\n[491] “P3MASS19” “P3MASS20” “P3MASS21” “P3MASS22” “P3MASS23”\n[496] “P3MASS24” “P3MASS25” “P3MASS26” “P3MASS27” “P3MASS28”\n[501] “P3MASS29” “P3MASS30” “P3MASS31” “P3MASS32” “P3MASS33”\n[506] “P3MASS34” “P3MASS35” “P3MASS36” “P3MASS37” “P4TEX01”\n[511] “P4TEX02” “P4TEX03” “P4TEX04” “P4TEX05” “P4TEX06”\n[516] “P4TEX07” “P4TEX08” “P4TEX09” “P4TEX10” “P4TEX11”\n[521] “P4TEX12” “P4TEX13” “P4TEX14” “P4TEX15” “P4TEX16”\n[526] “P4TEX17” “P4TEX18” “P4TEX19” “P4TEX20” “P4TEX21”\n[531] “P4TEX22” “P4TEX23” “P4TEX24” “P4TEX25” “P4TEX26”\n[536] “P4TEX27” “P4TEX28” “P4TEX29” “P4TEX30” “P4TEX31”\n[541] “P4TEX32” “P4TEX33” “P4TEX34” “P4TEX35” “P4TEX36”\n[546] “P4TEX37” “P4MASS01” “P4MASS02” “P4MASS03” “P4MASS04”\n[551] “P4MASS05” “P4MASS06” “P4MASS07” “P4MASS08” “P4MASS09”\n[556] “P4MASS10” “P4MASS11” “P4MASS12” “P4MASS13” “P4MASS14”\n[561] “P4MASS15” “P4MASS16” “P4MASS17” “P4MASS18” “P4MASS19”\n[566] “P4MASS20” “P4MASS21” “P4MASS22” “P4MASS23” “P4MASS24”\n[571] “P4MASS25” “P4MASS26” “P4MASS27” “P4MASS28” “P4MASS29”\n[576] “P4MASS30” “P4MASS31” “P4MASS32” “P4MASS33” “P4MASS34”\n[581] “P4MASS35” “P4MASS36” “P4MASS37” “P4CAL01” “P4CAL02”\n[586] “P4CAL03” “P4CAL04” “P4CAL05” “P4CAL06” “P4CAL07”\n[591] “P4CAL08” “P4CAL09” “P4CAL10” “P4CAL11” “P4CAL12”\n[596] “P4CAL13” “P4CAL14” “P4CAL15” “P4CAL16” “P4CAL17”\n[601] “P4CAL18” “P4CAL19” “P4CAL20” “P4CAL21” “P4CAL22”\n[606] “P4CAL23” “P4CAL24” “P4CAL25” “P4CAL26” “P4CAL27”\n[611] “P4CAL28” “P4CAL29” “P4CAL30” “P4CAL31” “P4CAL32”\n[616] “P4CAL33” “P4CAL34” “P4CAL35” “P4CAL36” “P4CAL37”\n[621] “D1TEX01” “D1TEX02” “D1TEX03” “D1TEX04” “D1TEX05”\n[626] “D1TEX06” “D1TEX07” “D1TEX08” “D1TEX09” “D1TEX10”\n[631] “D1TEX11” “D1TEX12” “D1TEX13” “D1TEX14” “D1TEX15”\n[636] “D1TEX16” “D1TEX17” “D1TEX18” “D1TEX19” “D1TEX20”\n[641] “D1TEX21” “D1TEX22” “D1TEX23” “D1TEX24” “D1TEX25”\n[646] “D1TEX26” “D1TEX27” “D1TEX28” “D1TEX29” “D1TEX30”\n[651] “D1TEX31” “D1TEX32” “D1TEX33” “D1TEX34” “D1TEX35”\n[656] “D1TEX36” “D1TEX37” “D1COL01” “D1COL02” “D1COL03”\n[661] “D1COL04” “D1COL05” “D1COL06” “D1COL07” “D1COL08”\n[666] “D1COL09” “D1COL10” “D1COL11” “D1COL12” “D1COL13”\n[671] “D1COL14” “D1COL15” “D1COL16” “D1COL17” “D1COL18”\n[676] “D1COL19” “D1COL20” “D1COL21” “D1COL22” “D1COL23”\n[681] “D1COL24” “D1COL25” “D1COL26” “D1COL27” “D1COL28”\n[686] “D1COL29” “D1COL30” “D1COL31” “D1COL32” “D1COL33”\n[691] “D1COL34” “D1COL35” “D1COL36” “D1COL37” “D2TEX01”\n[696] “D2TEX02” “D2TEX03” “D2TEX04” “D2TEX05” “D2TEX06”\n[701] “D2TEX07” “D2TEX08” “D2TEX09” “D2TEX10” “D2TEX11”\n[706] “D2TEX12” “D2TEX13” “D2TEX14” “D2TEX15” “D2TEX16”\n[711] “D2TEX17” “D2TEX18” “D2TEX19” “D2TEX20” “D2TEX21”\n[716] “D2TEX22” “D2TEX23” “D2TEX24” “D2TEX25” “D2TEX26”\n[721] “D2TEX27” “D2TEX28” “D2TEX29” “D2TEX30” “D2TEX31”\n[726] “D2TEX32” “D2TEX33” “D2TEX34” “D2TEX35” “D2TEX36”\n[731] “D2TEX37” “D1MASS01” “D1MASS02” “D1MASS03” “D1MASS04”\n[736] “D1MASS05” “D1MASS06” “D1MASS07” “D1MASS08” “D1MASS09”\n[741] “D1MASS10” “D1MASS11” “D1MASS12” “D1MASS13” “D1MASS14”\n[746] “D1MASS15” “D1MASS16” “D1MASS17” “D1MASS18” “D1MASS19”\n[751] “D1MASS20” “D1MASS21” “D1MASS22” “D1MASS23” “D1MASS24”\n[756] “D1MASS25” “D1MASS26” “D1MASS27” “D1MASS28” “D1MASS29”\n[761] “D1MASS30” “D1MASS31” “D1MASS32” “D1MASS33” “D1MASS34”\n[766] “D1MASS35” “D1MASS36” “D1MASS37” “D1CAL01” “D1CAL02”\n[771] “D1CAL03” “D1CAL04” “D1CAL05” “D1CAL06” “D1CAL07”\n[776] “D1CAL08” “D1CAL09” “D1CAL10” “D1CAL11” “D1CAL12”\n[781] “D1CAL13” “D1CAL14” “D1CAL15” “D1CAL16” “D1CAL17”\n[786] “D1CAL18” “D1CAL19” “D1CAL20” “D1CAL21” “D1CAL22”\n[791] “D1CAL23” “D1CAL24” “D1CAL25” “D1CAL26” “D1CAL27”\n[796] “D1CAL28” “D1CAL29” “D1CAL30” “D1CAL31” “D1CAL32”\n[801] “D1CAL33” “D1CAL34” “D1CAL35” “D1CAL36” “D1CAL37”\n[806] “D2COL01” “D2COL02” “D2COL03” “D2COL04” “D2COL05”\n[811] “D2COL06” “D2COL07” “D2COL08” “D2COL09” “D2COL10”\n[816] “D2COL11” “D2COL12” “D2COL13” “D2COL14” “D2COL15”\n[821] “D2COL16” “D2COL17” “D2COL18” “D2COL19” “D2COL20”\n[826] “D2COL21” “D2COL22” “D2COL23” “D2COL24” “D2COL25”\n[831] “D2COL26” “D2COL27” “D2COL28” “D2COL29” “D2COL30”\n[836] “D2COL31” “D2COL32” “D2COL33” “D2COL34” “D2COL35”\n[841] “D2COL36” “D2COL37” “D2CAL01” “D2CAL02” “D2CAL03”\n[846] “D2CAL04” “D2CAL05” “D2CAL06” “D2CAL07” “D2CAL08”\n[851] “D2CAL09” “D2CAL10” “D2CAL11” “D2CAL12” “D2CAL13”\n[856] “D2CAL14” “D2CAL15” “D2CAL16” “D2CAL17” “D2CAL18”\n[861] “D2CAL19” “D2CAL20” “D2CAL21” “D2CAL22” “D2CAL23”\n[866] “D2CAL24” “D2CAL25” “D2CAL26” “D2CAL27” “D2CAL28”\n[871] “D2CAL29” “D2CAL30” “D2CAL31” “D2CAL32” “D2CAL33”\n[876] “D2CAL34” “D2CAL35” “D2CAL36” “D2CAL37” “D2MASS01”\n[881] “D2MASS02” “D2MASS03” “D2MASS04” “D2MASS05” “D2MASS06”\n[886] “D2MASS07” “D2MASS08” “D2MASS09” “D2MASS10” “D2MASS11”\n[891] “D2MASS12” “D2MASS13” “D2MASS14” “D2MASS15” “D2MASS16”\n[896] “D2MASS17” “D2MASS18” “D2MASS19” “D2MASS20” “D2MASS21”\n[901] “D2MASS22” “D2MASS23” “D2MASS24” “D2MASS25” “D2MASS26”\n[906] “D2MASS27” “D2MASS28” “D2MASS29” “D2MASS30” “D2MASS31”\n[911] “D2MASS32” “D2MASS33” “D2MASS34” “D2MASS35” “D2MASS36”\n[916] “D2MASS37” “D3COL01” “D3COL02” “D3COL03” “D3COL04”\n[921] “D3COL05” “D3COL06” “D3COL07” “D3COL08” “D3COL09”\n[926] “D3COL10” “D3COL11” “D3COL12” “D3COL13” “D3COL14”\n[931] “D3COL15” “D3COL16” “D3COL17” “D3COL18” “D3COL19”\n[936] “D3COL20” “D3COL21” “D3COL22” “D3COL23” “D3COL24”\n[941] “D3COL25” “D3COL26” “D3COL27” “D3COL28” “D3COL29”\n[946] “D3COL30” “D3COL31” “D3COL32” “D3COL33” “D3COL34”\n[951] “D3COL35” “D3COL36” “D3COL37” “D3TEX01” “D3TEX02”\n[956] “D3TEX03” “D3TEX04” “D3TEX05” “D3TEX06” “D3TEX07”\n[961] “D3TEX08” “D3TEX09” “D3TEX10” “D3TEX11” “D3TEX12”\n[966] “D3TEX13” “D3TEX14” “D3TEX15” “D3TEX16” “D3TEX17”\n[971] “D3TEX18” “D3TEX19” “D3TEX20” “D3TEX21” “D3TEX22”\n[976] “D3TEX23” “D3TEX24” “D3TEX25” “D3TEX26” “D3TEX27”\n[981] “D3TEX28” “D3TEX29” “D3TEX30” “D3TEX31” “D3TEX32”\n[986] “D3TEX33” “D3TEX34” “D3TEX35” “D3TEX36” “D3TEX37”\n[991] “D4COL01” “D4COL02” “D4COL03” “D4COL04” “D4COL05”\n[996] “D4COL06” “D4COL07” “D4COL08” “D4COL09” “D4COL10”\ncolnames(s1)[1000:1500] [1] “D4COL10” “D4COL11” “D4COL12” “D4COL13” “D4COL14” “D4COL15” “D4COL16” “D4COL17” “D4COL18” “D4COL19” “D4COL20” [12] “D4COL21” “D4COL22” “D4COL23” “D4COL24” “D4COL25” “D4COL26” “D4COL27” “D4COL28” “D4COL29” “D4COL30” “D4COL31” [23] “D4COL32” “D4COL33” “D4COL34” “D4COL35” “D4COL36” “D4COL37” “D3CAL01” “D3CAL02” “D3CAL03” “D3CAL04” “D3CAL05” [34] “D3CAL06” “D3CAL07” “D3CAL08” “D3CAL09” “D3CAL10” “D3CAL11” “D3CAL12” “D3CAL13” “D3CAL14” “D3CAL15” “D3CAL16” [45] “D3CAL17” “D3CAL18” “D3CAL19” “D3CAL20” “D3CAL21” “D3CAL22” “D3CAL23” “D3CAL24” “D3CAL25” “D3CAL26” “D3CAL27” [56] “D3CAL28” “D3CAL29” “D3CAL30” “D3CAL31” “D3CAL32” “D3CAL33” “D3CAL34” “D3CAL35” “D3CAL36” “D3CAL37” “D3MASS01” [67] “D3MASS02” “D3MASS03” “D3MASS04” “D3MASS05” “D3MASS06” “D3MASS07” “D3MASS08” “D3MASS09” “D3MASS10” “D3MASS11” “D3MASS12” [78] “D3MASS13” “D3MASS14” “D3MASS15” “D3MASS16” “D3MASS17” “D3MASS18” “D3MASS19” “D3MASS20” “D3MASS21” “D3MASS22” “D3MASS23” [89] “D3MASS24” “D3MASS25” “D3MASS26” “D3MASS27” “D3MASS28” “D3MASS29” “D3MASS30” “D3MASS31” “D3MASS32” “D3MASS33” “D3MASS34” [100] “D3MASS35” “D3MASS36” “D3MASS37” “D4TEX01” “D4TEX02” “D4TEX03” “D4TEX04” “D4TEX05” “D4TEX06” “D4TEX07” “D4TEX08” [111] “D4TEX09” “D4TEX10” “D4TEX11” “D4TEX12” “D4TEX13” “D4TEX14” “D4TEX15” “D4TEX16” “D4TEX17” “D4TEX18” “D4TEX19” [122] “D4TEX20” “D4TEX21” “D4TEX22” “D4TEX23” “D4TEX24” “D4TEX25” “D4TEX26” “D4TEX27” “D4TEX28” “D4TEX29” “D4TEX30” [133] “D4TEX31” “D4TEX32” “D4TEX33” “D4TEX34” “D4TEX35” “D4TEX36” “D4TEX37” “D4MASS01” “D4MASS02” “D4MASS03” “D4MASS04” [144] “D4MASS05” “D4MASS06” “D4MASS07” “D4MASS08” “D4MASS09” “D4MASS10” “D4MASS11” “D4MASS12” “D4MASS13” “D4MASS14” “D4MASS15” [155] “D4MASS16” “D4MASS17” “D4MASS18” “D4MASS19” “D4MASS20” “D4MASS21” “D4MASS22” “D4MASS23” “D4MASS24” “D4MASS25” “D4MASS26” [166] “D4MASS27” “D4MASS28” “D4MASS29” “D4MASS30” “D4MASS31” “D4MASS32” “D4MASS33” “D4MASS34” “D4MASS35” “D4MASS36” “D4MASS37” [177] “D4CAL01” “D4CAL02” “D4CAL03” “D4CAL04” “D4CAL05” “D4CAL06” “D4CAL07” “D4CAL08” “D4CAL09” “D4CAL10” “D4CAL11” [188] “D4CAL12” “D4CAL13” “D4CAL14” “D4CAL15” “D4CAL16” “D4CAL17” “D4CAL18” “D4CAL19” “D4CAL20” “D4CAL21” “D4CAL22” [199] “D4CAL23” “D4CAL24” “D4CAL25” “D4CAL26” “D4CAL27” “D4CAL28” “D4CAL29” “D4CAL30” “D4CAL31” “D4CAL32” “D4CAL33” [210] “D4CAL34” “D4CAL35” “D4CAL36” “D4CAL37” “A1TEX01” “A1TEX02” “A1TEX03” “A1TEX04” “A1TEX05” “A1TEX06” “A1TEX07” [221] “A1TEX08” “A1TEX09” “A1TEX10” “A1TEX11” “A1TEX12” “A1TEX13” “A1TEX14” “A1TEX15” “A1TEX16” “A1TEX17” “A1TEX18” [232] “A1TEX19” “A1TEX20” “A1TEX21” “A1TEX22” “A1TEX23” “A1TEX24” “A1TEX25” “A1TEX26” “A1TEX27” “A1TEX28” “A1TEX29” [243] “A1TEX30” “A1TEX31” “A1TEX32” “A1TEX33” “A1TEX34” “A1TEX35” “A1TEX36” “A1TEX37” “A1COL01” “A1COL02” “A1COL03” [254] “A1COL04” “A1COL05” “A1COL06” “A1COL07” “A1COL08” “A1COL09” “A1COL10” “A1COL11” “A1COL12” “A1COL13” “A1COL14” [265] “A1COL15” “A1COL16” “A1COL17” “A1COL18” “A1COL19” “A1COL20” “A1COL21” “A1COL22” “A1COL23” “A1COL24” “A1COL25” [276] “A1COL26” “A1COL27” “A1COL28” “A1COL29” “A1COL30” “A1COL31” “A1COL32” “A1COL33” “A1COL34” “A1COL35” “A1COL36” [287] “A1COL37” “A2TEX01” “A2TEX02” “A2TEX03” “A2TEX04” “A2TEX05” “A2TEX06” “A2TEX07” “A2TEX08” “A2TEX09” “A2TEX10” [298] “A2TEX11” “A2TEX12” “A2TEX13” “A2TEX14” “A2TEX15” “A2TEX16” “A2TEX17” “A2TEX18” “A2TEX19” “A2TEX20” “A2TEX21” [309] “A2TEX22” “A2TEX23” “A2TEX24” “A2TEX25” “A2TEX26” “A2TEX27” “A2TEX28” “A2TEX29” “A2TEX30” “A2TEX31” “A2TEX32” [320] “A2TEX33” “A2TEX34” “A2TEX35” “A2TEX36” “A2TEX37” “A1MASS01” “A1MASS02” “A1MASS03” “A1MASS04” “A1MASS05” “A1MASS06” [331] “A1MASS07” “A1MASS08” “A1MASS09” “A1MASS10” “A1MASS11” “A1MASS12” “A1MASS13” “A1MASS14” “A1MASS15” “A1MASS16” “A1MASS17” [342] “A1MASS18” “A1MASS19” “A1MASS20” “A1MASS21” “A1MASS22” “A1MASS23” “A1MASS24” “A1MASS25” “A1MASS26” “A1MASS27” “A1MASS28” [353] “A1MASS29” “A1MASS30” “A1MASS31” “A1MASS32” “A1MASS33” “A1MASS34” “A1MASS35” “A1MASS36” “A1MASS37” “A1CAL01” “A1CAL02” [364] “A1CAL03” “A1CAL04” “A1CAL05” “A1CAL06” “A1CAL07” “A1CAL08” “A1CAL09” “A1CAL10” “A1CAL11” “A1CAL12” “A1CAL13” [375] “A1CAL14” “A1CAL15” “A1CAL16” “A1CAL17” “A1CAL18” “A1CAL19” “A1CAL20” “A1CAL21” “A1CAL22” “A1CAL23” “A1CAL24” [386] “A1CAL25” “A1CAL26” “A1CAL27” “A1CAL28” “A1CAL29” “A1CAL30” “A1CAL31” “A1CAL32” “A1CAL33” “A1CAL34” “A1CAL35” [397] “A1CAL36” “A1CAL37” “A2COL01” “A2COL02” “A2COL03” “A2COL04” “A2COL05” “A2COL06” “A2COL07” “A2COL08” “A2COL09” [408] “A2COL10” “A2COL11” “A2COL12” “A2COL13” “A2COL14” “A2COL15” “A2COL16” “A2COL17” “A2COL18” “A2COL19” “A2COL20” [419] “A2COL21” “A2COL22” “A2COL23” “A2COL24” “A2COL25” “A2COL26” “A2COL27” “A2COL28” “A2COL29” “A2COL30” “A2COL31” [430] “A2COL32” “A2COL33” “A2COL34” “A2COL35” “A2COL36” “A2COL37” “A2CAL01” “A2CAL02” “A2CAL03” “A2CAL04” “A2CAL05” [441] “A2CAL06” “A2CAL07” “A2CAL08” “A2CAL09” “A2CAL10” “A2CAL11” “A2CAL12” “A2CAL13” “A2CAL14” “A2CAL15” “A2CAL16” [452] “A2CAL17” “A2CAL18” “A2CAL19” “A2CAL20” “A2CAL21” “A2CAL22” “A2CAL23” “A2CAL24” “A2CAL25” “A2CAL26” “A2CAL27” [463] “A2CAL28” “A2CAL29” “A2CAL30” “A2CAL31” “A2CAL32” “A2CAL33” “A2CAL34” “A2CAL35” “A2CAL36” “A2CAL37” “A2MASS01” [474] “A2MASS02” “A2MASS03” “A2MASS04” “A2MASS05” “A2MASS06” “A2MASS07” “A2MASS08” “A2MASS09” “A2MASS10” “A2MASS11” “A2MASS12” [485] “A2MASS13” “A2MASS14” “A2MASS15” “A2MASS16” “A2MASS17” “A2MASS18” “A2MASS19” “A2MASS20” “A2MASS21” “A2MASS22” “A2MASS23” [496] “A2MASS24” “A2MASS25” “A2MASS26” “A2MASS27” “A2MASS28” “A2MASS29”\ncolnames(s1)[1500:1843] [1] “A2MASS29” “A2MASS30” “A2MASS31” “A2MASS32” “A2MASS33”\n[6] “A2MASS34” “A2MASS35” “A2MASS36” “A2MASS37” “A3COL01”\n[11] “A3COL02” “A3COL03” “A3COL04” “A3COL05” “A3COL06”\n[16] “A3COL07” “A3COL08” “A3COL09” “A3COL10” “A3COL11”\n[21] “A3COL12” “A3COL13” “A3COL14” “A3COL15” “A3COL16”\n[26] “A3COL17” “A3COL18” “A3COL19” “A3COL20” “A3COL21”\n[31] “A3COL22” “A3COL23” “A3COL24” “A3COL25” “A3COL26”\n[36] “A3COL27” “A3COL28” “A3COL29” “A3COL30” “A3COL31”\n[41] “A3COL32” “A3COL33” “A3COL34” “A3COL35” “A3COL36”\n[46] “A3COL37” “A3TEX01” “A3TEX02” “A3TEX03” “A3TEX04”\n[51] “A3TEX05” “A3TEX06” “A3TEX07” “A3TEX08” “A3TEX09”\n[56] “A3TEX10” “A3TEX11” “A3TEX12” “A3TEX13” “A3TEX14”\n[61] “A3TEX15” “A3TEX16” “A3TEX17” “A3TEX18” “A3TEX19”\n[66] “A3TEX20” “A3TEX21” “A3TEX22” “A3TEX23” “A3TEX24”\n[71] “A3TEX25” “A3TEX26” “A3TEX27” “A3TEX28” “A3TEX29”\n[76] “A3TEX30” “A3TEX31” “A3TEX32” “A3TEX33” “A3TEX34”\n[81] “A3TEX35” “A3TEX36” “A3TEX37” “A4COL01” “A4COL02”\n[86] “A4COL03” “A4COL04” “A4COL05” “A4COL06” “A4COL07”\n[91] “A4COL08” “A4COL09” “A4COL10” “A4COL11” “A4COL12”\n[96] “A4COL13” “A4COL14” “A4COL15” “A4COL16” “A4COL17”\n[101] “A4COL18” “A4COL19” “A4COL20” “A4COL21” “A4COL22”\n[106] “A4COL23” “A4COL24” “A4COL25” “A4COL26” “A4COL27”\n[111] “A4COL28” “A4COL29” “A4COL30” “A4COL31” “A4COL32”\n[116] “A4COL33” “A4COL34” “A4COL35” “A4COL36” “A4COL37”\n[121] “A3CAL01” “A3CAL02” “A3CAL03” “A3CAL04” “A3CAL05”\n[126] “A3CAL06” “A3CAL07” “A3CAL08” “A3CAL09” “A3CAL10”\n[131] “A3CAL11” “A3CAL12” “A3CAL13” “A3CAL14” “A3CAL15”\n[136] “A3CAL16” “A3CAL17” “A3CAL18” “A3CAL19” “A3CAL20”\n[141] “A3CAL21” “A3CAL22” “A3CAL23” “A3CAL24” “A3CAL25”\n[146] “A3CAL26” “A3CAL27” “A3CAL28” “A3CAL29” “A3CAL30”\n[151] “A3CAL31” “A3CAL32” “A3CAL33” “A3CAL34” “A3CAL35”\n[156] “A3CAL36” “A3CAL37” “A3MASS01” “A3MASS02” “A3MASS03”\n[161] “A3MASS04” “A3MASS05” “A3MASS06” “A3MASS07” “A3MASS08”\n[166] “A3MASS09” “A3MASS10” “A3MASS11” “A3MASS12” “A3MASS13”\n[171] “A3MASS14” “A3MASS15” “A3MASS16” “A3MASS17” “A3MASS18”\n[176] “A3MASS19” “A3MASS20” “A3MASS21” “A3MASS22” “A3MASS23”\n[181] “A3MASS24” “A3MASS25” “A3MASS26” “A3MASS27” “A3MASS28”\n[186] “A3MASS29” “A3MASS30” “A3MASS31” “A3MASS32” “A3MASS33”\n[191] “A3MASS34” “A3MASS35” “A3MASS36” “A3MASS37” “A4TEX01”\n[196] “A4TEX02” “A4TEX03” “A4TEX04” “A4TEX05” “A4TEX06”\n[201] “A4TEX07” “A4TEX08” “A4TEX09” “A4TEX10” “A4TEX11”\n[206] “A4TEX12” “A4TEX13” “A4TEX14” “A4TEX15” “A4TEX16”\n[211] “A4TEX17” “A4TEX18” “A4TEX19” “A4TEX20” “A4TEX21”\n[216] “A4TEX22” “A4TEX23” “A4TEX24” “A4TEX25” “A4TEX26”\n[221] “A4TEX27” “A4TEX28” “A4TEX29” “A4TEX30” “A4TEX31”\n[226] “A4TEX32” “A4TEX33” “A4TEX34” “A4TEX35” “A4TEX36”\n[231] “A4TEX37” “A4MASS01” “A4MASS02” “A4MASS03” “A4MASS04”\n[236] “A4MASS05” “A4MASS06” “A4MASS07” “A4MASS08” “A4MASS09”\n[241] “A4MASS10” “A4MASS11” “A4MASS12” “A4MASS13” “A4MASS14”\n[246] “A4MASS15” “A4MASS16” “A4MASS17” “A4MASS18” “A4MASS19”\n[251] “A4MASS20” “A4MASS21” “A4MASS22” “A4MASS23” “A4MASS24”\n[256] “A4MASS25” “A4MASS26” “A4MASS27” “A4MASS28” “A4MASS29”\n[261] “A4MASS30” “A4MASS31” “A4MASS32” “A4MASS33” “A4MASS34”\n[266] “A4MASS35” “A4MASS36” “A4MASS37” “A4CAL01” “A4CAL02”\n[271] “A4CAL03” “A4CAL04” “A4CAL05” “A4CAL06” “A4CAL07”\n[276] “A4CAL08” “A4CAL09” “A4CAL10” “A4CAL11” “A4CAL12”\n[281] “A4CAL13” “A4CAL14” “A4CAL15” “A4CAL16” “A4CAL17”\n[286] “A4CAL18” “A4CAL19” “A4CAL20” “A4CAL21” “A4CAL22”\n[291] “A4CAL23” “A4CAL24” “A4CAL25” “A4CAL26” “A4CAL27”\n[296] “A4CAL28” “A4CAL29” “A4CAL30” “A4CAL31” “A4CAL32”\n[301] “A4CAL33” “A4CAL34” “A4CAL35” “A4CAL36” “A4CAL37”\n[306] “MATH02” “MATH03” “MATH04” “ELS01” “ELS02”\n[311] “ELS03” “ELS04” “ELS05” “ELS06” “ELS07”\n[316] “ELS08” “DUMMYVAR01” “DUMMYVAR02” “DUMMYVAR03” “DUMMYVAR04”\n[321] “DUMMYVAR05” “DUMMYVAR06” “RS01” “RS02” “RS03”\n[326] “RS04” “RS05” “RS06” “ATT01” “DEM01”\n[331] “DEM02” “DEM03” “DEM05” “DEM06” “DEM07”\n[336] “Texas” “California” “Colorado” “Massachusetts” “ReferenceClass”\n[341] “familystatechanges” “qualtricscheck” “changedpractice” “conditionerror”",
    "crumbs": [
      "<strong>Background</strong>",
      "study 1 codebook"
    ]
  },
  {
    "objectID": "background/study1_info.html#practice-problems",
    "href": "background/study1_info.html#practice-problems",
    "title": "Study 1 codebook and dataset info",
    "section": "",
    "text": "Table 1: Practice Problems\n\n\n\nQuestion Description\nVariables\nValues\n\n\n\n\nConsent form\nConsent\n1=yes, 2=no\n\n\nPRACTICE PROBLEMS\n\n\n\n\nFamily Cooling Use\nAIND01\nNumeric Value\n\n\nState Cooling Average\nAIND02\nNumeric Value\n\n\nFamily Heating Use\nAIND03\nNumeric Value\n\n\nState Heating Average\nAIND04\nNumeric Value\n\n\nFamily Water Heating Use\nAIND05\nNumeric Value\n\n\nFamily Water Heating Average\nAIND06\nNumeric Value\n\n\nFamily Total kWh Use\nAIND07\nNumeric Value\n\n\nFamily Total kWh Average\nAIND08\nNumeric Value\n\n\nCooling Action Plan 1\nAIND09\nNumeric Value\n\n\nCooling Action Plan 2\nAIND10\nNumeric Value\n\n\nHeating Action Plan 1\nAIND11\nNumeric Value\n\n\nHeating Action Plan 2\nAIND12\nNumeric Value\n\n\nWater Heating Action Plan 1\nAIND13\nNumeric Value\n\n\nWater Heating Action Plan 2\nAIND14\nNumeric Value\n\n\nTotal kWh Action Plan 1\nAIND15\nNumeric Value\n\n\nTotal kWh Action Plan 2\nAIND16\nNumeric Value",
    "crumbs": [
      "<strong>Background</strong>",
      "study 1 codebook"
    ]
  },
  {
    "objectID": "background/study1_info.html#variable-name-format",
    "href": "background/study1_info.html#variable-name-format",
    "title": "Study 1 codebook and dataset info",
    "section": "",
    "text": "Table 2: Variable Name Format\n\n\n\nCategory\nVariable\nValue\n\n\n\n\nModality Letters:\n\n\n\n\nKilowatt hours (absolute)\nA\n\n\n\nUS dollars\nD\n\n\n\nPercent\nP\n\n\n\nStates:\n\n\n\n\nCalifornia\nCAL\n\n\n\nMassachusetts\nMASS\n\n\n\nColorado\nCOL\n\n\n\nTexas\nTEX\n\n\n\n\nExample: ACAL01 refers to the absolute value (kWh) condition for the family in California, and the participant’s answer to the MC (multiple choice) question “Which appliance needs the most energy in average households in California?”\nTable 3: Frequency Study Codebook\n\n\n\n\n\n\n\n\nQuestion Description\nQuestion Number\nValues\n\n\n\n\nWhich appliance needs the most energy in average households MC\n01\n1 = “Cooling (Central A/C)”  2 = “Heating the Home”  3 = “Water Heating”  4 = “Refrigerator”  5 = “Other (Television, Lighting, Electronics, Washer/Dryer, etc.)”\n\n\n“Rank each appliance based on electricity use per year.”: Rank: Cooling (A/C)\n02\n1 = most kWh used;  2; 3; 4;  5 = least kWh used\n\n\nRank: Heating\n03\n1 = most kWh used;  2; 3; 4;  5 = least kWh used\n\n\nRank: Water Heating\n04\n1 = most kWh used;  2; 3; 4;  5 = least kWh used\n\n\nRank: Refrigerator\n05\n1 = most kWh used;  2; 3; 4;  5 = least kWh used\n\n\nRank: Other (Television, Lighting, Electronics, Washer/Dryer, etc.)\n06\n1 = most kWh used;  2; 3; 4;  5 = least kWh used\n\n\nAction Plan Tasks:\n\n\n\n\nFamily Cooling Use\n07\nNumeric Value\n\n\nState Cooling Average\n08\nNumeric Value\n\n\nCooling Action Plan 1\n09\nNumeric Value\n\n\nCooling Action Plan 2\n10\nNumeric Value\n\n\nFamily Heating Use\n11\nNumeric Value\n\n\nState Heating Average\n12\nNumeric Value\n\n\nHeating Action Plan 1\n13\nNumeric Value\n\n\nHeating Action Plan 2\n14\nNumeric Value\n\n\nFamily Water Heating Use\n15\nNumeric Value\n\n\nFamily Water Heating Average\n16\nNumeric Value\n\n\nWater Heating Action Plan 1\n17\nNumeric Value\n\n\nWater Heating Action Plan 2\n18\nNumeric Value\n\n\nFamily Refrigerator Use\n19\nNumeric Value\n\n\nFamily Refrigerator Average\n20\nNumeric Value\n\n\nRefrigerator Action Plan 1\n21\nNumeric Value\n\n\nRefrigerator Action Plan 2\n22\nNumeric Value\n\n\nFamily Other Appliance Use\n23\nNumeric Value\n\n\nFamily Other Appliance Average\n24\nNumeric Value\n\n\nOther Appliance Action Plan 1\n25\nNumeric Value\n\n\nOther Appliance Action Plan 2\n26\nNumeric Value\n\n\nFamily Total kWh Use\n27\nNumeric Value\n\n\nFamily Total kWh Average\n28\nNumeric Value\n\n\nTotal kWh Action Plan 1\n29\nNumeric Value\n\n\nTotal kWh Action Plan 2\n30\nNumeric Value\n\n\nWhich action plan is preferred (MC)\n31\n1=“Action Plan 1”  2=“Action Plan 2”\n\n\nWhy is the action plan preferred (Open-ended)\n32\nText\n\n\n“If you could reduce electricity for two appliances…” (Choose 2): Reduce Two: Cooling (A/C)\n33\n1=Selected  Missing = Not selected\n\n\nReduce Two: Heating\n34\n1=Selected  Missing = Not selected\n\n\nReduce Two: Water Heating\n35\n1=Selected  Missing = Not selected\n\n\nReduce Two: Refrigerator\n36\n1=Selected  Missing = Not selected\n\n\nReduce Two: Other\n37\n1=Selected  Missing = Not selected",
    "crumbs": [
      "<strong>Background</strong>",
      "study 1 codebook"
    ]
  },
  {
    "objectID": "background/study1_info.html#survey-questions-and-energy-literacy-survey",
    "href": "background/study1_info.html#survey-questions-and-energy-literacy-survey",
    "title": "Study 1 codebook and dataset info",
    "section": "",
    "text": "Table 1: Survey Questions and Energy Literacy Survey\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\n“Did you use a calculator?” Used a calculator\nMATH01\n1 = Selected  Missing = Not selected\n\n\nUsed a paper/pen\nMATH02\n1 = Selected  Missing = Not selected\n\n\nUsed something else\nMATH03\n1 = Selected  Missing = Not selected\n\n\nUsed something else text entry\nMATH04\n1 = Selected  Missing = Not selected\n\n\nENERGY LITERACY SURVEY\n\n\n\n\nDewaters and Powers 2011. Assesses participant knowledge of energy names, use, and sources  Question about electrical energy units (kWh)\nELS01\n1 = “Kilowatt (kW)”  2 = “Kilowatt-hours (kWh)”  3 = “British Thermal Units (BTU)”  4 = “Volts (V)”  5 = “Horsepower (HP)”\n\n\nQuestion about energy consumed and appliance power rating\nELS02\n1 = “Multiplied by the cost of electricity”  2 = “Added to the cost of electricity”  3 = “Multiplied by the time it’s used”  4 = “Divided by the time it’s used”  5 = “Added to the time it’s used”\n\n\nQuestion about incandescent lightbulb conversion\nELS03\n1 = “Electrical energy to radiant energy (light)”  2 = “Chemical energy to radiant energy (light)”  3 = “Electrical energy to radiant energy (light) and thermal energy (heat)”  4 = “Chemical energy to radiant energy (light) and thermal energy (heat)”  5 = “Electrical energy to radiant energy (light) and mechanical energy”\n\n\nQuestion about reason to buy energy star appliances\nELS04\n1 = “ENERGY STAR appliances are usually bigger”  2 = “ENERGY STAR appliances cost more”  3 = “ENERGY STAR appliances use less energy”  4 = “ENERGY STAR appliances are more modern looking”  5 = “ENERGY STAR appliances cost less”\n\n\nQuestion about which appliances uses the most energy\nELS05\n1 = “Refrigerating food and beverages”  2 = “Washing and drying clothing”  3 = “Heating and cooling rooms”  4 = “Heating and cooling water”  5 = “Lighting the home”\n\n\nQuestion about which appliance uses the most electricity\nELS06\n1 = “Lights”  2 = “Refrigerator”  3 = “Telephone”  4 = “Television”  5 = “Computer”\n\n\nQuestion about which source provides most electricity in the US\nELS07\n1 = “Nuclear power”  2 = “Burning petroleum”  3 = “Burning coal”  4 = “Solar energy”  5 = “Water (hydro) power”\n\n\nQuestion about the problem with electric cars\nELS08\n1 = “Most electricity is currently produced from fossil fuels (coal, oil, natural gas)”  2 = “Switching to electric cars will make unemployment rates go up”  3 = “It has been proven that it is impossible to build electric cars in great quantities”  4 = “You can’t use electricity to operate a car”  5 = “There is nothing wrong with this idea”",
    "crumbs": [
      "<strong>Background</strong>",
      "study 1 codebook"
    ]
  },
  {
    "objectID": "background/study1_info.html#dummy-variables",
    "href": "background/study1_info.html#dummy-variables",
    "title": "Study 1 codebook and dataset info",
    "section": "",
    "text": "Table 2: Dummy Variables\n\n\n\nColor\nVariable\nValues\n\n\n\n\nRed\nDUMMYVAR01\n1 = Selected  Missing = Not selected\n\n\nBlue\nDUMMYVAR02\n1 = Selected  Missing = Not selected\n\n\nGreen\nDUMMYVAR03\n1 = Selected  Missing = Not selected\n\n\nYellow\nDUMMYVAR04\n1 = Selected  Missing = Not selected\n\n\nPurple\nDUMMYVAR05\n1 = Selected  Missing = Not selected\n\n\nOrange\nDUMMYVAR06\n1 = Selected  Missing = Not selected",
    "crumbs": [
      "<strong>Background</strong>",
      "study 1 codebook"
    ]
  },
  {
    "objectID": "background/study1_info.html#recycling-study-questions",
    "href": "background/study1_info.html#recycling-study-questions",
    "title": "Study 1 codebook and dataset info",
    "section": "",
    "text": "Table 3: Recycling Study Questions\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\nI generally don’t pay a lot of attention to how much energy I use.\nRS01\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\nI would say I am very pro-environmental.\nRS02\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\nI think saving energy is largely a waste of time.\nRS03\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\nI am generally conservative on the political spectrum with regard to social issues.\nRS04\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\nI am generally conservative on the political spectrum with regard to economic issues.\nRS05\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”\n\n\nI consider myself knowledgeable about how much energy utilities such as a dishwasher or lighting use.\nRS06\n1 = “Agree”  2 = “Somewhat Agree”  3 = “Neither agree nor disagree”  4 = “Somewhat Disagree”  5 = “Disagree”",
    "crumbs": [
      "<strong>Background</strong>",
      "study 1 codebook"
    ]
  },
  {
    "objectID": "background/study1_info.html#attari-study-questions-and-demo-questions",
    "href": "background/study1_info.html#attari-study-questions-and-demo-questions",
    "title": "Study 1 codebook and dataset info",
    "section": "",
    "text": "Table 1: Attari Study Questions and Demographic Questions\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\nATTARI STUDY QUESTIONS\n\n\n\n\nDo you consume more or less energy than the average individual in the United States?\nATT01\n1 = “I consume more energy than average”  2 = “I consume less energy than average”  3 = “I don’t know”\n\n\nDEMOGRAPHIC QUESTIONS\n\n\n\n\nGender\nDEM01\n1 = “Male”  2 = “Female”  3 = “Choose not to answer”\n\n\nBirth year\nDEM02\nText\n\n\nIncome\nDEM03\n1 = “Did not have an income”  2 = “&lt; $20,000”  3 = “$20,000 - $49,999”  4 = “$50,000 - $79,999”  5 = “$80,000 - $109,999”  6 = “$110,000 - $139,999”  7 = “$140,000 - $169,999”  8 = “&gt;$170,000”  9 = “Choose not to answer”\n\n\nEducation\nDEM04\n1 = “Some schooling, but no diploma or degree”  2 = “Highschool diploma or GED”  3 = “Some college”  4 = “College degree”  5 = “Some graduate school”  6 = “Graduate degree”  7 = “Choose not to answer”\n\n\nEmployment\nDEM05\n1 = “Employed full-time”  2 = “Employed part-time”  3 = “Not employed/retired”  4 = “Choose not to answer”\n\n\nState\nDEM06\nText\n\n\nLength of State Residence\nDEM07\nText",
    "crumbs": [
      "<strong>Background</strong>",
      "study 1 codebook"
    ]
  },
  {
    "objectID": "background/study1_info.html#order-variable-format",
    "href": "background/study1_info.html#order-variable-format",
    "title": "Study 1 codebook and dataset info",
    "section": "",
    "text": "Table 2: Order Variable Format\n\n\n\n\n\n\n\n\nCategory\nVariable\nValues\n\n\n\n\nColorado/Wells Family\nColorado\n1=1st  2=2nd\n\n\nMassachusetts/Davis Family\nMassachusetts\n\n\n\nCalifornia/Adams Family\nCalifornia\n\n\n\nTexas/Smith Family\nTexas\n\n\n\nReference class received\nReferenceClass\n1=USD  2=kWh  3=Percentage",
    "crumbs": [
      "<strong>Background</strong>",
      "study 1 codebook"
    ]
  },
  {
    "objectID": "background/study1_info.html#examine-dataset-in-r",
    "href": "background/study1_info.html#examine-dataset-in-r",
    "title": "Study 1 codebook and dataset info",
    "section": "",
    "text": "library(pacman) pacman::p_load(dplyr,purrr,tidyr,here,haven,tibble,ggplot2,gt,ggh4x,lme4,flextable)\ns1 &lt;- haven::read_sav(here::here(“data/Frequency & Probability Study 1 - 3-24-19.sav”))\ns1 &lt;- s1 |&gt; mutate( state1 = case_when( Colorado == 1 ~ “Colorado”, Massachusetts == 1 ~ “Massachusetts”, California == 1 ~ “California”, Texas == 1 ~ “Texas”, TRUE ~ NA_character_ ), state2 = case_when( Colorado == 2 ~ “Colorado”, Massachusetts == 2 ~ “Massachusetts”, California == 2 ~ “California”, Texas == 2 ~ “Texas”, TRUE ~ NA_character_ )) |&gt; mutate(refClass = case_when( ReferenceClass == 1 ~ “USD”, ReferenceClass == 2 ~ “kWh”, ReferenceClass == 3 ~ “Percentage” )) |&gt; rename(calc=MATH01) |&gt; # replace NA’s in calc with 0’s rename(id=ResponseId) |&gt; mutate(calc=factor(ifelse(is.na(calc),0,calc))) |&gt; relocate(refClass,state1,state2,calc, .after = id)\ns1 &lt;- s1 |&gt; rename(edu=DEM04) |&gt; mutate(edu = factor(case_when( edu == 1 ~ “Some schooling, but no diploma or degree”, edu == 2 ~ “Highschool diploma or GED”, edu == 3 ~ “Some college”, edu == 4 ~ “College degree”, edu == 5 ~ “Some graduate school”, edu == 6 ~ “Graduate degree”, edu == 7 ~ “Choose not to answer”, TRUE ~ NA_character_ ))) |&gt; relocate(edu, .after = id)\ncolnames(s1) [1] “IPAddress” “Progress” “Duration_in_seconds” “Finished” “RecordedDate”\n[6] “id” “edu” “refClass” “state1” “state2”\n[11] “calc” “Consent” “AIND01” “AIND02” “AIND03”\n[16] “AIND04” “AIND05” “AIND06” “AIND07” “AIND08”\n[21] “AIND09” “AIND10” “AIND11” “AIND12” “AIND13”\n[26] “AIND14” “AIND15” “AIND16” “P1TEX01” “P1TEX02”\n[31] “P1TEX03” “P1TEX04” “P1TEX05” “P1TEX06” “P1TEX07”\n[36] “P1TEX08” “P1TEX09” “P1TEX10” “P1TEX11” “P1TEX12”\n[41] “P1TEX13” “P1TEX14” “P1TEX15” “P1TEX16” “P1TEX17”\n[46] “P1TEX18” “P1TEX19” “P1TEX20” “P1TEX21” “P1TEX22”\n[51] “P1TEX23” “P1TEX24” “P1TEX25” “P1TEX26” “P1TEX27”\n[56] “P1TEX28” “P1TEX29” “P1TEX30” “P1TEX31” “P1TEX32”\n[61] “P1TEX33” “P1TEX34” “P1TEX35” “P1TEX36” “P1TEX37”\n[66] “P1COL01” “P1COL02” “P1COL03” “P1COL04” “P1COL05”\n[71] “P1COL06” “P1COL07” “P1COL08” “P1COL09” “P1COL10”\n[76] “P1COL11” “P1COL12” “P1COL13” “P1COL14” “P1COL15”\n[81] “P1COL16” “P1COL17” “P1COL18” “P1COL19” “P1COL20”\n[86] “P1COL21” “P1COL22” “P1COL23” “P1COL24” “P1COL25”\n[91] “P1COL26” “P1COL27” “P1COL28” “P1COL29” “P1COL30”\n[96] “P1COL31” “P1COL32” “P1COL33” “P1COL34” “P1COL35”\n[101] “P1COL36” “P1COL37” “P2TEX01” “P2TEX02” “P2TEX03”\n[106] “P2TEX04” “P2TEX05” “P2TEX06” “P2TEX07” “P2TEX08”\n[111] “P2TEX09” “P2TEX10” “P2TEX11” “P2TEX12” “P2TEX13”\n[116] “P2TEX14” “P2TEX15” “P2TEX16” “P2TEX17” “P2TEX18”\n[121] “P2TEX19” “P2TEX20” “P2TEX21” “P2TEX22” “P2TEX23”\n[126] “P2TEX24” “P2TEX25” “P2TEX26” “P2TEX27” “P2TEX28”\n[131] “P2TEX29” “P2TEX30” “P2TEX31” “P2TEX32” “P2TEX33”\n[136] “P2TEX34” “P2TEX35” “P2TEX36” “P2TEX37” “P1MASS01”\n[141] “P1MASS02” “P1MASS03” “P1MASS04” “P1MASS05” “P1MASS06”\n[146] “P1MASS07” “P1MASS08” “P1MASS09” “P1MASS10” “P1MASS11”\n[151] “P1MASS12” “P1MASS13” “P1MASS14” “P1MASS15” “P1MASS16”\n[156] “P1MASS17” “P1MASS18” “P1MASS19” “P1MASS20” “P1MASS21”\n[161] “P1MASS22” “P1MASS23” “P1MASS24” “P1MASS25” “P1MASS26”\n[166] “P1MASS27” “P1MASS28” “P1MASS29” “P1MASS30” “P1MASS31”\n[171] “P1MASS32” “P1MASS33” “P1MASS34” “P1MASS35” “P1MASS36”\n[176] “P1MASS37” “P1CAL01” “P1CAL02” “P1CAL03” “P1CAL04”\n[181] “P1CAL05” “P1CAL06” “P1CAL07” “P1CAL08” “P1CAL09”\n[186] “P1CAL10” “P1CAL11” “P1CAL12” “P1CAL13” “P1CAL14”\n[191] “P1CAL15” “P1CAL16” “P1CAL17” “P1CAL18” “P1CAL19”\n[196] “P1CAL20” “P1CAL21” “P1CAL22” “P1CAL23” “P1CAL24”\n[201] “P1CAL25” “P1CAL26” “P1CAL27” “P1CAL28” “P1CAL29”\n[206] “P1CAL30” “P1CAL31” “P1CAL32” “P1CAL33” “P1CAL34”\n[211] “P1CAL35” “P1CAL36” “P1CAL37” “P2COL01” “P2COL02”\n[216] “P2COL03” “P2COL04” “P2COL05” “P2COL06” “P2COL07”\n[221] “P2COL08” “P2COL09” “P2COL10” “P2COL11” “P2COL12”\n[226] “P2COL13” “P2COL14” “P2COL15” “P2COL16” “P2COL17”\n[231] “P2COL18” “P2COL19” “P2COL20” “P2COL21” “P2COL22”\n[236] “P2COL23” “P2COL24” “P2COL25” “P2COL26” “P2COL27”\n[241] “P2COL28” “P2COL29” “P2COL30” “P2COL31” “P2COL32”\n[246] “P2COL33” “P2COL34” “P2COL35” “P2COL36” “P2COL37”\n[251] “P2CAL01” “P2CAL02” “P2CAL03” “P2CAL04” “P2CAL05”\n[256] “P2CAL06” “P2CAL07” “P2CAL08” “P2CAL09” “P2CAL10”\n[261] “P2CAL11” “P2CAL12” “P2CAL13” “P2CAL14” “P2CAL15”\n[266] “P2CAL16” “P2CAL17” “P2CAL18” “P2CAL19” “P2CAL20”\n[271] “P2CAL21” “P2CAL22” “P2CAL23” “P2CAL24” “P2CAL25”\n[276] “P2CAL26” “P2CAL27” “P2CAL28” “P2CAL29” “P2CAL30”\n[281] “P2CAL31” “P2CAL32” “P2CAL33” “P2CAL34” “P2CAL35”\n[286] “P2CAL36” “P2CAL37” “P2MASS01” “P2MASS02” “P2MASS03”\n[291] “P2MASS04” “P2MASS05” “P2MASS06” “P2MASS07” “P2MASS08”\n[296] “P2MASS09” “P2MASS10” “P2MASS11” “P2MASS12” “P2MASS13”\n[301] “P2MASS14” “P2MASS15” “P2MASS16” “P2MASS17” “P2MASS18”\n[306] “P2MASS19” “P2MASS20” “P2MASS21” “P2MASS22” “P2MASS23”\n[311] “P2MASS24” “P2MASS25” “P2MASS26” “P2MASS27” “P2MASS28”\n[316] “P2MASS29” “P2MASS30” “P2MASS31” “P2MASS32” “P2MASS33”\n[321] “P2MASS34” “P2MASS35” “P2MASS36” “P2MASS37” “P3COL01”\n[326] “P3COL02” “P3COL03” “P3COL04” “P3COL05” “P3COL06”\n[331] “P3COL07” “P3COL08” “P3COL09” “P3COL10” “P3COL11”\n[336] “P3COL12” “P3COL13” “P3COL14” “P3COL15” “P3COL16”\n[341] “P3COL17” “P3COL18” “P3COL19” “P3COL20” “P3COL21”\n[346] “P3COL22” “P3COL23” “P3COL24” “P3COL25” “P3COL26”\n[351] “P3COL27” “P3COL28” “P3COL29” “P3COL30” “P3COL31”\n[356] “P3COL32” “P3COL33” “P3COL34” “P3COL35” “P3COL36”\n[361] “P3COL37” “P3TEX01” “P3TEX02” “P3TEX03” “P3TEX04”\n[366] “P3TEX05” “P3TEX06” “P3TEX07” “P3TEX08” “P3TEX09”\n[371] “P3TEX10” “P3TEX11” “P3TEX12” “P3TEX13” “P3TEX14”\n[376] “P3TEX15” “P3TEX16” “P3TEX17” “P3TEX18” “P3TEX19”\n[381] “P3TEX20” “P3TEX21” “P3TEX22” “P3TEX23” “P3TEX24”\n[386] “P3TEX25” “P3TEX26” “P3TEX27” “P3TEX28” “P3TEX29”\n[391] “P3TEX30” “P3TEX31” “P3TEX32” “P3TEX33” “P3TEX34”\n[396] “P3TEX35” “P3TEX36” “P3TEX37” “P4COL01” “P4COL02”\n[401] “P4COL03” “P4COL04” “P4COL05” “P4COL06” “P4COL07”\n[406] “P4COL08” “P4COL09” “P4COL10” “P4COL11” “P4COL12”\n[411] “P4COL13” “P4COL14” “P4COL15” “P4COL16” “P4COL17”\n[416] “P4COL18” “P4COL19” “P4COL20” “P4COL21” “P4COL22”\n[421] “P4COL23” “P4COL24” “P4COL25” “P4COL26” “P4COL27”\n[426] “P4COL28” “P4COL29” “P4COL30” “P4COL31” “P4COL32”\n[431] “P4COL33” “P4COL34” “P4COL35” “P4COL36” “P4COL37”\n[436] “P3CAL01” “P3CAL02” “P3CAL03” “P3CAL04” “P3CAL05”\n[441] “P3CAL06” “P3CAL07” “P3CAL08” “P3CAL09” “P3CAL10”\n[446] “P3CAL11” “P3CAL12” “P3CAL13” “P3CAL14” “P3CAL15”\n[451] “P3CAL16” “P3CAL17” “P3CAL18” “P3CAL19” “P3CAL20”\n[456] “P3CAL21” “P3CAL22” “P3CAL23” “P3CAL24” “P3CAL25”\n[461] “P3CAL26” “P3CAL27” “P3CAL28” “P3CAL29” “P3CAL30”\n[466] “P3CAL31” “P3CAL32” “P3CAL33” “P3CAL34” “P3CAL35”\n[471] “P3CAL36” “P3CAL37” “P3MASS01” “P3MASS02” “P3MASS03”\n[476] “P3MASS04” “P3MASS05” “P3MASS06” “P3MASS07” “P3MASS08”\n[481] “P3MASS09” “P3MASS10” “P3MASS11” “P3MASS12” “P3MASS13”\n[486] “P3MASS14” “P3MASS15” “P3MASS16” “P3MASS17” “P3MASS18”\n[491] “P3MASS19” “P3MASS20” “P3MASS21” “P3MASS22” “P3MASS23”\n[496] “P3MASS24” “P3MASS25” “P3MASS26” “P3MASS27” “P3MASS28”\n[501] “P3MASS29” “P3MASS30” “P3MASS31” “P3MASS32” “P3MASS33”\n[506] “P3MASS34” “P3MASS35” “P3MASS36” “P3MASS37” “P4TEX01”\n[511] “P4TEX02” “P4TEX03” “P4TEX04” “P4TEX05” “P4TEX06”\n[516] “P4TEX07” “P4TEX08” “P4TEX09” “P4TEX10” “P4TEX11”\n[521] “P4TEX12” “P4TEX13” “P4TEX14” “P4TEX15” “P4TEX16”\n[526] “P4TEX17” “P4TEX18” “P4TEX19” “P4TEX20” “P4TEX21”\n[531] “P4TEX22” “P4TEX23” “P4TEX24” “P4TEX25” “P4TEX26”\n[536] “P4TEX27” “P4TEX28” “P4TEX29” “P4TEX30” “P4TEX31”\n[541] “P4TEX32” “P4TEX33” “P4TEX34” “P4TEX35” “P4TEX36”\n[546] “P4TEX37” “P4MASS01” “P4MASS02” “P4MASS03” “P4MASS04”\n[551] “P4MASS05” “P4MASS06” “P4MASS07” “P4MASS08” “P4MASS09”\n[556] “P4MASS10” “P4MASS11” “P4MASS12” “P4MASS13” “P4MASS14”\n[561] “P4MASS15” “P4MASS16” “P4MASS17” “P4MASS18” “P4MASS19”\n[566] “P4MASS20” “P4MASS21” “P4MASS22” “P4MASS23” “P4MASS24”\n[571] “P4MASS25” “P4MASS26” “P4MASS27” “P4MASS28” “P4MASS29”\n[576] “P4MASS30” “P4MASS31” “P4MASS32” “P4MASS33” “P4MASS34”\n[581] “P4MASS35” “P4MASS36” “P4MASS37” “P4CAL01” “P4CAL02”\n[586] “P4CAL03” “P4CAL04” “P4CAL05” “P4CAL06” “P4CAL07”\n[591] “P4CAL08” “P4CAL09” “P4CAL10” “P4CAL11” “P4CAL12”\n[596] “P4CAL13” “P4CAL14” “P4CAL15” “P4CAL16” “P4CAL17”\n[601] “P4CAL18” “P4CAL19” “P4CAL20” “P4CAL21” “P4CAL22”\n[606] “P4CAL23” “P4CAL24” “P4CAL25” “P4CAL26” “P4CAL27”\n[611] “P4CAL28” “P4CAL29” “P4CAL30” “P4CAL31” “P4CAL32”\n[616] “P4CAL33” “P4CAL34” “P4CAL35” “P4CAL36” “P4CAL37”\n[621] “D1TEX01” “D1TEX02” “D1TEX03” “D1TEX04” “D1TEX05”\n[626] “D1TEX06” “D1TEX07” “D1TEX08” “D1TEX09” “D1TEX10”\n[631] “D1TEX11” “D1TEX12” “D1TEX13” “D1TEX14” “D1TEX15”\n[636] “D1TEX16” “D1TEX17” “D1TEX18” “D1TEX19” “D1TEX20”\n[641] “D1TEX21” “D1TEX22” “D1TEX23” “D1TEX24” “D1TEX25”\n[646] “D1TEX26” “D1TEX27” “D1TEX28” “D1TEX29” “D1TEX30”\n[651] “D1TEX31” “D1TEX32” “D1TEX33” “D1TEX34” “D1TEX35”\n[656] “D1TEX36” “D1TEX37” “D1COL01” “D1COL02” “D1COL03”\n[661] “D1COL04” “D1COL05” “D1COL06” “D1COL07” “D1COL08”\n[666] “D1COL09” “D1COL10” “D1COL11” “D1COL12” “D1COL13”\n[671] “D1COL14” “D1COL15” “D1COL16” “D1COL17” “D1COL18”\n[676] “D1COL19” “D1COL20” “D1COL21” “D1COL22” “D1COL23”\n[681] “D1COL24” “D1COL25” “D1COL26” “D1COL27” “D1COL28”\n[686] “D1COL29” “D1COL30” “D1COL31” “D1COL32” “D1COL33”\n[691] “D1COL34” “D1COL35” “D1COL36” “D1COL37” “D2TEX01”\n[696] “D2TEX02” “D2TEX03” “D2TEX04” “D2TEX05” “D2TEX06”\n[701] “D2TEX07” “D2TEX08” “D2TEX09” “D2TEX10” “D2TEX11”\n[706] “D2TEX12” “D2TEX13” “D2TEX14” “D2TEX15” “D2TEX16”\n[711] “D2TEX17” “D2TEX18” “D2TEX19” “D2TEX20” “D2TEX21”\n[716] “D2TEX22” “D2TEX23” “D2TEX24” “D2TEX25” “D2TEX26”\n[721] “D2TEX27” “D2TEX28” “D2TEX29” “D2TEX30” “D2TEX31”\n[726] “D2TEX32” “D2TEX33” “D2TEX34” “D2TEX35” “D2TEX36”\n[731] “D2TEX37” “D1MASS01” “D1MASS02” “D1MASS03” “D1MASS04”\n[736] “D1MASS05” “D1MASS06” “D1MASS07” “D1MASS08” “D1MASS09”\n[741] “D1MASS10” “D1MASS11” “D1MASS12” “D1MASS13” “D1MASS14”\n[746] “D1MASS15” “D1MASS16” “D1MASS17” “D1MASS18” “D1MASS19”\n[751] “D1MASS20” “D1MASS21” “D1MASS22” “D1MASS23” “D1MASS24”\n[756] “D1MASS25” “D1MASS26” “D1MASS27” “D1MASS28” “D1MASS29”\n[761] “D1MASS30” “D1MASS31” “D1MASS32” “D1MASS33” “D1MASS34”\n[766] “D1MASS35” “D1MASS36” “D1MASS37” “D1CAL01” “D1CAL02”\n[771] “D1CAL03” “D1CAL04” “D1CAL05” “D1CAL06” “D1CAL07”\n[776] “D1CAL08” “D1CAL09” “D1CAL10” “D1CAL11” “D1CAL12”\n[781] “D1CAL13” “D1CAL14” “D1CAL15” “D1CAL16” “D1CAL17”\n[786] “D1CAL18” “D1CAL19” “D1CAL20” “D1CAL21” “D1CAL22”\n[791] “D1CAL23” “D1CAL24” “D1CAL25” “D1CAL26” “D1CAL27”\n[796] “D1CAL28” “D1CAL29” “D1CAL30” “D1CAL31” “D1CAL32”\n[801] “D1CAL33” “D1CAL34” “D1CAL35” “D1CAL36” “D1CAL37”\n[806] “D2COL01” “D2COL02” “D2COL03” “D2COL04” “D2COL05”\n[811] “D2COL06” “D2COL07” “D2COL08” “D2COL09” “D2COL10”\n[816] “D2COL11” “D2COL12” “D2COL13” “D2COL14” “D2COL15”\n[821] “D2COL16” “D2COL17” “D2COL18” “D2COL19” “D2COL20”\n[826] “D2COL21” “D2COL22” “D2COL23” “D2COL24” “D2COL25”\n[831] “D2COL26” “D2COL27” “D2COL28” “D2COL29” “D2COL30”\n[836] “D2COL31” “D2COL32” “D2COL33” “D2COL34” “D2COL35”\n[841] “D2COL36” “D2COL37” “D2CAL01” “D2CAL02” “D2CAL03”\n[846] “D2CAL04” “D2CAL05” “D2CAL06” “D2CAL07” “D2CAL08”\n[851] “D2CAL09” “D2CAL10” “D2CAL11” “D2CAL12” “D2CAL13”\n[856] “D2CAL14” “D2CAL15” “D2CAL16” “D2CAL17” “D2CAL18”\n[861] “D2CAL19” “D2CAL20” “D2CAL21” “D2CAL22” “D2CAL23”\n[866] “D2CAL24” “D2CAL25” “D2CAL26” “D2CAL27” “D2CAL28”\n[871] “D2CAL29” “D2CAL30” “D2CAL31” “D2CAL32” “D2CAL33”\n[876] “D2CAL34” “D2CAL35” “D2CAL36” “D2CAL37” “D2MASS01”\n[881] “D2MASS02” “D2MASS03” “D2MASS04” “D2MASS05” “D2MASS06”\n[886] “D2MASS07” “D2MASS08” “D2MASS09” “D2MASS10” “D2MASS11”\n[891] “D2MASS12” “D2MASS13” “D2MASS14” “D2MASS15” “D2MASS16”\n[896] “D2MASS17” “D2MASS18” “D2MASS19” “D2MASS20” “D2MASS21”\n[901] “D2MASS22” “D2MASS23” “D2MASS24” “D2MASS25” “D2MASS26”\n[906] “D2MASS27” “D2MASS28” “D2MASS29” “D2MASS30” “D2MASS31”\n[911] “D2MASS32” “D2MASS33” “D2MASS34” “D2MASS35” “D2MASS36”\n[916] “D2MASS37” “D3COL01” “D3COL02” “D3COL03” “D3COL04”\n[921] “D3COL05” “D3COL06” “D3COL07” “D3COL08” “D3COL09”\n[926] “D3COL10” “D3COL11” “D3COL12” “D3COL13” “D3COL14”\n[931] “D3COL15” “D3COL16” “D3COL17” “D3COL18” “D3COL19”\n[936] “D3COL20” “D3COL21” “D3COL22” “D3COL23” “D3COL24”\n[941] “D3COL25” “D3COL26” “D3COL27” “D3COL28” “D3COL29”\n[946] “D3COL30” “D3COL31” “D3COL32” “D3COL33” “D3COL34”\n[951] “D3COL35” “D3COL36” “D3COL37” “D3TEX01” “D3TEX02”\n[956] “D3TEX03” “D3TEX04” “D3TEX05” “D3TEX06” “D3TEX07”\n[961] “D3TEX08” “D3TEX09” “D3TEX10” “D3TEX11” “D3TEX12”\n[966] “D3TEX13” “D3TEX14” “D3TEX15” “D3TEX16” “D3TEX17”\n[971] “D3TEX18” “D3TEX19” “D3TEX20” “D3TEX21” “D3TEX22”\n[976] “D3TEX23” “D3TEX24” “D3TEX25” “D3TEX26” “D3TEX27”\n[981] “D3TEX28” “D3TEX29” “D3TEX30” “D3TEX31” “D3TEX32”\n[986] “D3TEX33” “D3TEX34” “D3TEX35” “D3TEX36” “D3TEX37”\n[991] “D4COL01” “D4COL02” “D4COL03” “D4COL04” “D4COL05”\n[996] “D4COL06” “D4COL07” “D4COL08” “D4COL09” “D4COL10”\ncolnames(s1)[1000:1500] [1] “D4COL10” “D4COL11” “D4COL12” “D4COL13” “D4COL14” “D4COL15” “D4COL16” “D4COL17” “D4COL18” “D4COL19” “D4COL20” [12] “D4COL21” “D4COL22” “D4COL23” “D4COL24” “D4COL25” “D4COL26” “D4COL27” “D4COL28” “D4COL29” “D4COL30” “D4COL31” [23] “D4COL32” “D4COL33” “D4COL34” “D4COL35” “D4COL36” “D4COL37” “D3CAL01” “D3CAL02” “D3CAL03” “D3CAL04” “D3CAL05” [34] “D3CAL06” “D3CAL07” “D3CAL08” “D3CAL09” “D3CAL10” “D3CAL11” “D3CAL12” “D3CAL13” “D3CAL14” “D3CAL15” “D3CAL16” [45] “D3CAL17” “D3CAL18” “D3CAL19” “D3CAL20” “D3CAL21” “D3CAL22” “D3CAL23” “D3CAL24” “D3CAL25” “D3CAL26” “D3CAL27” [56] “D3CAL28” “D3CAL29” “D3CAL30” “D3CAL31” “D3CAL32” “D3CAL33” “D3CAL34” “D3CAL35” “D3CAL36” “D3CAL37” “D3MASS01” [67] “D3MASS02” “D3MASS03” “D3MASS04” “D3MASS05” “D3MASS06” “D3MASS07” “D3MASS08” “D3MASS09” “D3MASS10” “D3MASS11” “D3MASS12” [78] “D3MASS13” “D3MASS14” “D3MASS15” “D3MASS16” “D3MASS17” “D3MASS18” “D3MASS19” “D3MASS20” “D3MASS21” “D3MASS22” “D3MASS23” [89] “D3MASS24” “D3MASS25” “D3MASS26” “D3MASS27” “D3MASS28” “D3MASS29” “D3MASS30” “D3MASS31” “D3MASS32” “D3MASS33” “D3MASS34” [100] “D3MASS35” “D3MASS36” “D3MASS37” “D4TEX01” “D4TEX02” “D4TEX03” “D4TEX04” “D4TEX05” “D4TEX06” “D4TEX07” “D4TEX08” [111] “D4TEX09” “D4TEX10” “D4TEX11” “D4TEX12” “D4TEX13” “D4TEX14” “D4TEX15” “D4TEX16” “D4TEX17” “D4TEX18” “D4TEX19” [122] “D4TEX20” “D4TEX21” “D4TEX22” “D4TEX23” “D4TEX24” “D4TEX25” “D4TEX26” “D4TEX27” “D4TEX28” “D4TEX29” “D4TEX30” [133] “D4TEX31” “D4TEX32” “D4TEX33” “D4TEX34” “D4TEX35” “D4TEX36” “D4TEX37” “D4MASS01” “D4MASS02” “D4MASS03” “D4MASS04” [144] “D4MASS05” “D4MASS06” “D4MASS07” “D4MASS08” “D4MASS09” “D4MASS10” “D4MASS11” “D4MASS12” “D4MASS13” “D4MASS14” “D4MASS15” [155] “D4MASS16” “D4MASS17” “D4MASS18” “D4MASS19” “D4MASS20” “D4MASS21” “D4MASS22” “D4MASS23” “D4MASS24” “D4MASS25” “D4MASS26” [166] “D4MASS27” “D4MASS28” “D4MASS29” “D4MASS30” “D4MASS31” “D4MASS32” “D4MASS33” “D4MASS34” “D4MASS35” “D4MASS36” “D4MASS37” [177] “D4CAL01” “D4CAL02” “D4CAL03” “D4CAL04” “D4CAL05” “D4CAL06” “D4CAL07” “D4CAL08” “D4CAL09” “D4CAL10” “D4CAL11” [188] “D4CAL12” “D4CAL13” “D4CAL14” “D4CAL15” “D4CAL16” “D4CAL17” “D4CAL18” “D4CAL19” “D4CAL20” “D4CAL21” “D4CAL22” [199] “D4CAL23” “D4CAL24” “D4CAL25” “D4CAL26” “D4CAL27” “D4CAL28” “D4CAL29” “D4CAL30” “D4CAL31” “D4CAL32” “D4CAL33” [210] “D4CAL34” “D4CAL35” “D4CAL36” “D4CAL37” “A1TEX01” “A1TEX02” “A1TEX03” “A1TEX04” “A1TEX05” “A1TEX06” “A1TEX07” [221] “A1TEX08” “A1TEX09” “A1TEX10” “A1TEX11” “A1TEX12” “A1TEX13” “A1TEX14” “A1TEX15” “A1TEX16” “A1TEX17” “A1TEX18” [232] “A1TEX19” “A1TEX20” “A1TEX21” “A1TEX22” “A1TEX23” “A1TEX24” “A1TEX25” “A1TEX26” “A1TEX27” “A1TEX28” “A1TEX29” [243] “A1TEX30” “A1TEX31” “A1TEX32” “A1TEX33” “A1TEX34” “A1TEX35” “A1TEX36” “A1TEX37” “A1COL01” “A1COL02” “A1COL03” [254] “A1COL04” “A1COL05” “A1COL06” “A1COL07” “A1COL08” “A1COL09” “A1COL10” “A1COL11” “A1COL12” “A1COL13” “A1COL14” [265] “A1COL15” “A1COL16” “A1COL17” “A1COL18” “A1COL19” “A1COL20” “A1COL21” “A1COL22” “A1COL23” “A1COL24” “A1COL25” [276] “A1COL26” “A1COL27” “A1COL28” “A1COL29” “A1COL30” “A1COL31” “A1COL32” “A1COL33” “A1COL34” “A1COL35” “A1COL36” [287] “A1COL37” “A2TEX01” “A2TEX02” “A2TEX03” “A2TEX04” “A2TEX05” “A2TEX06” “A2TEX07” “A2TEX08” “A2TEX09” “A2TEX10” [298] “A2TEX11” “A2TEX12” “A2TEX13” “A2TEX14” “A2TEX15” “A2TEX16” “A2TEX17” “A2TEX18” “A2TEX19” “A2TEX20” “A2TEX21” [309] “A2TEX22” “A2TEX23” “A2TEX24” “A2TEX25” “A2TEX26” “A2TEX27” “A2TEX28” “A2TEX29” “A2TEX30” “A2TEX31” “A2TEX32” [320] “A2TEX33” “A2TEX34” “A2TEX35” “A2TEX36” “A2TEX37” “A1MASS01” “A1MASS02” “A1MASS03” “A1MASS04” “A1MASS05” “A1MASS06” [331] “A1MASS07” “A1MASS08” “A1MASS09” “A1MASS10” “A1MASS11” “A1MASS12” “A1MASS13” “A1MASS14” “A1MASS15” “A1MASS16” “A1MASS17” [342] “A1MASS18” “A1MASS19” “A1MASS20” “A1MASS21” “A1MASS22” “A1MASS23” “A1MASS24” “A1MASS25” “A1MASS26” “A1MASS27” “A1MASS28” [353] “A1MASS29” “A1MASS30” “A1MASS31” “A1MASS32” “A1MASS33” “A1MASS34” “A1MASS35” “A1MASS36” “A1MASS37” “A1CAL01” “A1CAL02” [364] “A1CAL03” “A1CAL04” “A1CAL05” “A1CAL06” “A1CAL07” “A1CAL08” “A1CAL09” “A1CAL10” “A1CAL11” “A1CAL12” “A1CAL13” [375] “A1CAL14” “A1CAL15” “A1CAL16” “A1CAL17” “A1CAL18” “A1CAL19” “A1CAL20” “A1CAL21” “A1CAL22” “A1CAL23” “A1CAL24” [386] “A1CAL25” “A1CAL26” “A1CAL27” “A1CAL28” “A1CAL29” “A1CAL30” “A1CAL31” “A1CAL32” “A1CAL33” “A1CAL34” “A1CAL35” [397] “A1CAL36” “A1CAL37” “A2COL01” “A2COL02” “A2COL03” “A2COL04” “A2COL05” “A2COL06” “A2COL07” “A2COL08” “A2COL09” [408] “A2COL10” “A2COL11” “A2COL12” “A2COL13” “A2COL14” “A2COL15” “A2COL16” “A2COL17” “A2COL18” “A2COL19” “A2COL20” [419] “A2COL21” “A2COL22” “A2COL23” “A2COL24” “A2COL25” “A2COL26” “A2COL27” “A2COL28” “A2COL29” “A2COL30” “A2COL31” [430] “A2COL32” “A2COL33” “A2COL34” “A2COL35” “A2COL36” “A2COL37” “A2CAL01” “A2CAL02” “A2CAL03” “A2CAL04” “A2CAL05” [441] “A2CAL06” “A2CAL07” “A2CAL08” “A2CAL09” “A2CAL10” “A2CAL11” “A2CAL12” “A2CAL13” “A2CAL14” “A2CAL15” “A2CAL16” [452] “A2CAL17” “A2CAL18” “A2CAL19” “A2CAL20” “A2CAL21” “A2CAL22” “A2CAL23” “A2CAL24” “A2CAL25” “A2CAL26” “A2CAL27” [463] “A2CAL28” “A2CAL29” “A2CAL30” “A2CAL31” “A2CAL32” “A2CAL33” “A2CAL34” “A2CAL35” “A2CAL36” “A2CAL37” “A2MASS01” [474] “A2MASS02” “A2MASS03” “A2MASS04” “A2MASS05” “A2MASS06” “A2MASS07” “A2MASS08” “A2MASS09” “A2MASS10” “A2MASS11” “A2MASS12” [485] “A2MASS13” “A2MASS14” “A2MASS15” “A2MASS16” “A2MASS17” “A2MASS18” “A2MASS19” “A2MASS20” “A2MASS21” “A2MASS22” “A2MASS23” [496] “A2MASS24” “A2MASS25” “A2MASS26” “A2MASS27” “A2MASS28” “A2MASS29”\ncolnames(s1)[1500:1843] [1] “A2MASS29” “A2MASS30” “A2MASS31” “A2MASS32” “A2MASS33”\n[6] “A2MASS34” “A2MASS35” “A2MASS36” “A2MASS37” “A3COL01”\n[11] “A3COL02” “A3COL03” “A3COL04” “A3COL05” “A3COL06”\n[16] “A3COL07” “A3COL08” “A3COL09” “A3COL10” “A3COL11”\n[21] “A3COL12” “A3COL13” “A3COL14” “A3COL15” “A3COL16”\n[26] “A3COL17” “A3COL18” “A3COL19” “A3COL20” “A3COL21”\n[31] “A3COL22” “A3COL23” “A3COL24” “A3COL25” “A3COL26”\n[36] “A3COL27” “A3COL28” “A3COL29” “A3COL30” “A3COL31”\n[41] “A3COL32” “A3COL33” “A3COL34” “A3COL35” “A3COL36”\n[46] “A3COL37” “A3TEX01” “A3TEX02” “A3TEX03” “A3TEX04”\n[51] “A3TEX05” “A3TEX06” “A3TEX07” “A3TEX08” “A3TEX09”\n[56] “A3TEX10” “A3TEX11” “A3TEX12” “A3TEX13” “A3TEX14”\n[61] “A3TEX15” “A3TEX16” “A3TEX17” “A3TEX18” “A3TEX19”\n[66] “A3TEX20” “A3TEX21” “A3TEX22” “A3TEX23” “A3TEX24”\n[71] “A3TEX25” “A3TEX26” “A3TEX27” “A3TEX28” “A3TEX29”\n[76] “A3TEX30” “A3TEX31” “A3TEX32” “A3TEX33” “A3TEX34”\n[81] “A3TEX35” “A3TEX36” “A3TEX37” “A4COL01” “A4COL02”\n[86] “A4COL03” “A4COL04” “A4COL05” “A4COL06” “A4COL07”\n[91] “A4COL08” “A4COL09” “A4COL10” “A4COL11” “A4COL12”\n[96] “A4COL13” “A4COL14” “A4COL15” “A4COL16” “A4COL17”\n[101] “A4COL18” “A4COL19” “A4COL20” “A4COL21” “A4COL22”\n[106] “A4COL23” “A4COL24” “A4COL25” “A4COL26” “A4COL27”\n[111] “A4COL28” “A4COL29” “A4COL30” “A4COL31” “A4COL32”\n[116] “A4COL33” “A4COL34” “A4COL35” “A4COL36” “A4COL37”\n[121] “A3CAL01” “A3CAL02” “A3CAL03” “A3CAL04” “A3CAL05”\n[126] “A3CAL06” “A3CAL07” “A3CAL08” “A3CAL09” “A3CAL10”\n[131] “A3CAL11” “A3CAL12” “A3CAL13” “A3CAL14” “A3CAL15”\n[136] “A3CAL16” “A3CAL17” “A3CAL18” “A3CAL19” “A3CAL20”\n[141] “A3CAL21” “A3CAL22” “A3CAL23” “A3CAL24” “A3CAL25”\n[146] “A3CAL26” “A3CAL27” “A3CAL28” “A3CAL29” “A3CAL30”\n[151] “A3CAL31” “A3CAL32” “A3CAL33” “A3CAL34” “A3CAL35”\n[156] “A3CAL36” “A3CAL37” “A3MASS01” “A3MASS02” “A3MASS03”\n[161] “A3MASS04” “A3MASS05” “A3MASS06” “A3MASS07” “A3MASS08”\n[166] “A3MASS09” “A3MASS10” “A3MASS11” “A3MASS12” “A3MASS13”\n[171] “A3MASS14” “A3MASS15” “A3MASS16” “A3MASS17” “A3MASS18”\n[176] “A3MASS19” “A3MASS20” “A3MASS21” “A3MASS22” “A3MASS23”\n[181] “A3MASS24” “A3MASS25” “A3MASS26” “A3MASS27” “A3MASS28”\n[186] “A3MASS29” “A3MASS30” “A3MASS31” “A3MASS32” “A3MASS33”\n[191] “A3MASS34” “A3MASS35” “A3MASS36” “A3MASS37” “A4TEX01”\n[196] “A4TEX02” “A4TEX03” “A4TEX04” “A4TEX05” “A4TEX06”\n[201] “A4TEX07” “A4TEX08” “A4TEX09” “A4TEX10” “A4TEX11”\n[206] “A4TEX12” “A4TEX13” “A4TEX14” “A4TEX15” “A4TEX16”\n[211] “A4TEX17” “A4TEX18” “A4TEX19” “A4TEX20” “A4TEX21”\n[216] “A4TEX22” “A4TEX23” “A4TEX24” “A4TEX25” “A4TEX26”\n[221] “A4TEX27” “A4TEX28” “A4TEX29” “A4TEX30” “A4TEX31”\n[226] “A4TEX32” “A4TEX33” “A4TEX34” “A4TEX35” “A4TEX36”\n[231] “A4TEX37” “A4MASS01” “A4MASS02” “A4MASS03” “A4MASS04”\n[236] “A4MASS05” “A4MASS06” “A4MASS07” “A4MASS08” “A4MASS09”\n[241] “A4MASS10” “A4MASS11” “A4MASS12” “A4MASS13” “A4MASS14”\n[246] “A4MASS15” “A4MASS16” “A4MASS17” “A4MASS18” “A4MASS19”\n[251] “A4MASS20” “A4MASS21” “A4MASS22” “A4MASS23” “A4MASS24”\n[256] “A4MASS25” “A4MASS26” “A4MASS27” “A4MASS28” “A4MASS29”\n[261] “A4MASS30” “A4MASS31” “A4MASS32” “A4MASS33” “A4MASS34”\n[266] “A4MASS35” “A4MASS36” “A4MASS37” “A4CAL01” “A4CAL02”\n[271] “A4CAL03” “A4CAL04” “A4CAL05” “A4CAL06” “A4CAL07”\n[276] “A4CAL08” “A4CAL09” “A4CAL10” “A4CAL11” “A4CAL12”\n[281] “A4CAL13” “A4CAL14” “A4CAL15” “A4CAL16” “A4CAL17”\n[286] “A4CAL18” “A4CAL19” “A4CAL20” “A4CAL21” “A4CAL22”\n[291] “A4CAL23” “A4CAL24” “A4CAL25” “A4CAL26” “A4CAL27”\n[296] “A4CAL28” “A4CAL29” “A4CAL30” “A4CAL31” “A4CAL32”\n[301] “A4CAL33” “A4CAL34” “A4CAL35” “A4CAL36” “A4CAL37”\n[306] “MATH02” “MATH03” “MATH04” “ELS01” “ELS02”\n[311] “ELS03” “ELS04” “ELS05” “ELS06” “ELS07”\n[316] “ELS08” “DUMMYVAR01” “DUMMYVAR02” “DUMMYVAR03” “DUMMYVAR04”\n[321] “DUMMYVAR05” “DUMMYVAR06” “RS01” “RS02” “RS03”\n[326] “RS04” “RS05” “RS06” “ATT01” “DEM01”\n[331] “DEM02” “DEM03” “DEM05” “DEM06” “DEM07”\n[336] “Texas” “California” “Colorado” “Massachusetts” “ReferenceClass”\n[341] “familystatechanges” “qualtricscheck” “changedpractice” “conditionerror”",
    "crumbs": [
      "<strong>Background</strong>",
      "study 1 codebook"
    ]
  },
  {
    "objectID": "background/study_info.html",
    "href": "background/study_info.html",
    "title": "Relaunch of Frequency and Probability Study",
    "section": "",
    "text": "In the re-launch of the frequency and probability study, the new design is a 4 state temperature (2 warm vs. 2 cold states) X 2 task goal (10% vs. 15%) X 2 last year’s usage for the family and the state average (exact vs. rounded numbers) within X 3 task reference class (USD vs. Percentage vs. kWh) between. A note on the percentage goals is that they are rounded to the full dollar. For instance, for the Davis family, 10% of their $6,943.95 cost of residential energy usage is $694.395; this is rounded to $694. For the rounded condition, participants are also told that “The numbers for their [the family’s] usage have been rounded for convenience.” In terms of randomization, blocks were combined so that there was a block for each condition and order combination. As an example, one block is the smith family with a 10% goal and rounded numbers for the family’s usage first, and the Wells family second, with a 15% goal and exact numbers for the family’s usage. Another block has these but in reverse, where the participant receives the Wells family first and the Smith family second. In total, there are 96 conditions, representing each possible order (2 orders x 4 states x 2 possible significant digit values, and 3 reference classes).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nState/Reference\n15% kWh\n10% kWh\n15% USD\n10% USD\n15% Percent\n10% Percent\n\n\n\n\nAdams / Cali\n3,401\n2,267\n$510\n$340\n15%\n10%\n\n\nSmith / Texas\n4,357\n2,905\n$479\n$320\n15%\n10%\n\n\nWells / Colorado\n5,965\n3,977\n$656\n$438\n15%\n10%\n\n\nDavis / Mass\n6,944\n4,629\n$1,042\n$694\n15%\n10%\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nState/Reference\n15% kWh\n10% kWh\n15% USD\n10% USD\n15% Percent\n10% Percent\n\n\n\n\nAdams / Cali\n3,450\n2,300\n$518\n$345\n15%\n10%\n\n\nSmith / Texas\n4,350\n2,900\n$479\n$319\n15%\n10%\n\n\nWells / Colorado\n6,000\n4,000\n$660\n$440\n15%\n10%\n\n\nDavis / Mass\n6,900\n4,600\n$1,035\n$690\n15%\n10%\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n1,289\n2,581\n3,000\n\n\nHeating\n5,597\n6,157\n6,000\n\n\nWater heating\n4,601\n5,061\n5,000\n\n\nRefrigerator\n1,055\n1,266\n1,000\n\n\nOther\n6,916\n7,608\n8,000\n\n\nTotal\n19,458\n22,673\n23,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n4,249\n6,573\n7,000\n\n\nHeating\n5,099\n6,118\n6,000\n\n\nWater heating\n4,396\n5,257\n5,000\n\n\nRefrigerator\n1,318\n2,639\n3,000\n\n\nOther\n7,883\n8,459\n8,000\n\n\nTotal\n22,945\n29,046\n29,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n498\n697\n1,000\n\n\nHeating\n16,411\n18,052\n18,000\n\n\nWater heating\n5,832\n11,667\n12,000\n\n\nRefrigerator\n1,142\n1,370\n1,000\n\n\nOther\n6,652\n7,982\n8,000\n\n\nTotal\n30,535\n39,768\n40,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n322\n419\n0\n\n\nHeating\n19,108\n26,751\n27,000\n\n\nWater heating\n5,070\n10,543\n11,000\n\n\nRefrigerator\n1,025\n1,230\n1,000\n\n\nOther\n6,682\n7,350\n7,000\n\n\nTotal\n32,207\n46,293\n46,000\n\n\n\n\n\n\n\nThis study seeks to examine how the type of numeric energy information given to individuals influences their ability to create an energy-saving action plan in a home. Specifically, it examines how the modality affects the accuracy of an energy-saving action plan in a family household scenario. The design is 3 modalities (percent reduction goal, absolute reduction goal in kWh, dollar reduction goal) X 6 states/families X 2 reduction goal conditions (15% and 25%). It is expected that the absolute reduction amount (kWh) action plans will be easier to complete with accuracy than the dollar reduction amount and the percentage reduction amount action plans.\nThe next step is to analyze the data from the initial study in depth. This data can then be used to inform how we make further changes to the next studies. This study included “families” from 6 states, the 3 modalities, and the 15% goal condition. The numbers for this initial study were not rounded. Due to ordering bias, the first families seen from each modality (percent, kWh, dollars) will be compared.\nFuture tasks for this study include finalizing the survey with rounded numbers in Qualtrics and copying it to make another condition in which the goal reduction number is 25%. When we have both the rounded 15% and 25% conditions, we can launch it on Amazon mTurk. These conditions will then be compared, with our hypothesis being that the 25% condition is easier for all modalities.\nHere’s the combined table converted to Markdown format:\n\n\n\n\n\n\n\n\nQuestion Description\nVariables\nValues\n\n\n\n\nConsent form\nCONSENT\n1=yes,2=no\n\n\nPRACTICE PROBLEMS\n\n\n\n\nFamily Cooling Use\nAIND01\nNumeric value\n\n\nState Cooling Average\nAIND02\nNumeric value\n\n\nFamily Heating Use\nAIND03\nNumeric value\n\n\nState Heating Average\nAIND04\nNumeric value\n\n\nFamily Water Heating Use\nAIND05\nNumeric value\n\n\nFamily Water Heating Average\nAIND06\nNumeric value\n\n\nFamily Total kWh Use\nAIND07\nNumeric value\n\n\nFamily Total kWh Average\nAIND08\nNumeric value\n\n\nCooling Action Plan 1\nAIND09\nNumeric value\n\n\nCooling Action Plan 2\nAIND10\nNumeric value\n\n\nHeating Action Plan 1\nAIND11\nNumeric value\n\n\nHeating Action Plan 2\nAIND12\nNumeric value\n\n\nWater Heating Action Plan 1\nAIND13\nNumeric value\n\n\nWater Heating Action Plan 2\nAIND14\nNumeric value\n\n\nTotal kWh Action Plan 1\nAIND15\nNumeric value\n\n\nTotal kWh Action Plan 2\nAIND16\nNumeric value\n\n\nFIRST SCENARIO RECEIVED\n\n\n\n\nWhich appliance uses the most energy?\nMENERGY1\n1 = A/C2 = Heating3 = Water heating4 = Refrigerator5 = Other\n\n\nRanking of each appliance by energy usage\n\n\n\n\nA/C ranking\nACRANK1\n1 = most kWh used;2; 3; 4;5 = least kWh used\n\n\nHeat ranking\nHEATRANK1\n(same as ACRANK1)\n\n\nWater ranking\nWATERRANK1\n(same as ACRANK1)\n\n\nRefrigerator ranking\nREFRIGRANK1\n(same as ACRANK1)\n\n\nOther ranking\nOTHERRANK1\n(same as ACRANK1)\n\n\nFamily Cooling Use\nACFAMILY1\nNumeric value\n\n\nState Cooling Average\nACSTATE1\nNumeric value\n\n\nCooling Action Plan 1\nACAPONE1\nNumeric value\n\n\nCooling Action Plan 2\nACAPTWO1\nNumeric value\n\n\nFamily Heating Use\nHEATFAMILY1\nNumeric value\n\n\nState Heating Average\nHEATSTATE1\nNumeric value\n\n\nHeating Action Plan 1\nHEATAPONE1\nNumeric value\n\n\nHeating Action Plan 2\nHEATAPTWO1\nNumeric value\n\n\nFamily Water Heating Use\nWATERFAMILY1\nNumeric value\n\n\nFamily Water Heating Average\nWATERSTATE1\nNumeric value\n\n\nWater Heating Action Plan 1\nWATERAPONE1\nNumeric value\n\n\nWater Heating Action Plan 2\nWATERAPTWO1\nNumeric value\n\n\nFamily Refrigerator Use\nREFRIGFAMILY1\nNumeric value\n\n\nFamily Refrigerator Average\nREFRIGSTATE1\nNumeric value\n\n\nRefrigerator Action Plan 1\nREFRIGAPONE1\nNumeric value\n\n\nRefrigerator Action Plan 2\nREFRIGAPTWO1\nNumeric value\n\n\nFamily Other Appliance Use\nOTHERFAMILY1\nNumeric value\n\n\nFamily Other Appliance Average\nOTHERSTATE1\nNumeric value\n\n\nOther Appliance Action Plan 1\nOTHERAPONE1\nNumeric value\n\n\nOther Appliance Action Plan 2\nOTHERAPTWO1\nNumeric value\n\n\nFamily Total kWh Use\nTOTALFAMILY1\nNumeric value\n\n\nFamily Total kWh Average\nTOTALSTATE1\nNumeric value\n\n\nTotal kWh Action Plan 1\nTOTALAPONE1\nNumeric value\n\n\nTotal kWh Action Plan 2\nTOTALAPTWO1\nNumeric value\n\n\nWhich action plan is preferred (MC)\nAPPICK1\n1 = action plan 12 = action plan 2\n\n\nRationale for choosing the stated action plan\nAPOPEN1\nstring\n\n\n“If you could reduce electricity for two appliances…”(Choose 2):Reduce Two: Cooling (A/C)\nACREDUCTWO1\n1 = pickedMissing = not picked\n\n\nReduce Two: Heating\nHEATREDUCTWO1\n(same as ACREDUCTWO1)\n\n\nReduce Two: Water Heating\nWATERREDUCTWO1\n(same as ACREDUCTWO1)\n\n\nReduce Two: Refrigerator\nREFRIGREDUCTWO1\n(same as ACREDUCTWO1)\n\n\nReduce Two: Other\nOTHERREDUCTWO1\n(same as ACREDUCTWO1)\n\n\nImportant to reduce energy usage\nIMPORTONE1\n1 = strongly disagree2 = disagree3 = Neither agree nor disagree4 = agree5 = strongly agree\n\n\nWant to decrease energy usage\nIMPORTTWO1\n(same as IMPORTONE1)\n\n\nImportant to follow one of these plans\nIMPORTTHREE1\n(same as IMPORTONE1)\n\n\n\n\n\n\n\n\n\n\n\nSECOND SCENARIO RECEIVED\n\n\n\n\n\n\nWhich appliance uses the most energy?\nMENERGY2\n1 = A/C2 = Heating3 = Water heating4 = Refrigerator5 = Other\n\n\nRanking of each appliance by energy usage\n\n\n\n\nA/C ranking\nACRANK2\n1 = most kWh used;2; 3; 4;5 = least kWh used\n\n\nHeat ranking\nHEATRANK2\n\n\n\nWater ranking\nWATERRANK2\n\n\n\nRefrigerator ranking\nREFRIGRANK2\n\n\n\nOther ranking\nOTHERRANK2\n\n\n\nFamily Cooling Use\nACFAMILY2\nNumeric value\n\n\nState Cooling Average\nACSTATE2\nNumeric value\n\n\nCooling Action Plan 1\nACAPONE2\nNumeric value\n\n\nCooling Action Plan 2\nACAPTWO2\nNumeric value\n\n\nFamily Heating Use\nHEATFAMILY2\nNumeric value\n\n\nState Heating Average\nHEATSTATE2\nNumeric value\n\n\nHeating Action Plan 1\nHEATAPONE2\nNumeric value\n\n\nHeating Action Plan 2\nHEATAPTWO2\nNumeric value\n\n\nFamily Water Heating Use\nWATERFAMILY2\nNumeric value\n\n\nFamily Water Heating Average\nWATERSTATE2\nNumeric value\n\n\nWater Heating Action Plan 1\nWATERAPONE2\nNumeric value\n\n\nWater Heating Action Plan 2\nWATERAPTWO2\nNumeric value\n\n\nFamily Refrigerator Use\nREFRIGFAMILY2\nNumeric value\n\n\nFamily Refrigerator Average\nREFRIGSTATE2\nNumeric value\n\n\nRefrigerator Action Plan 1\nREFRIGAPONE2\nNumeric value\n\n\nRefrigerator Action Plan 2\nREFRIGAPTWO2\nNumeric value\n\n\nFamily Other Appliance Use\nOTHERFAMILY2\nNumeric value\n\n\nFamily Other Appliance Average\nOTHERSTATE2\nNumeric value\n\n\nOther Appliance Action Plan 1\nOTHERAPONE2\nNumeric value\n\n\nOther Appliance Action Plan 2\nOTHERAPTWO2\nNumeric value\n\n\nFamily Total kWh Use\nTOTALFAMILY2\nNumeric value\n\n\nFamily Total kWh Average\nTOTALSTATE2\nNumeric value\n\n\nTotal kWh Action Plan 1\nTOTALAPONE2\nNumeric value\n\n\nTotal kWh Action Plan 2\nTOTALAPTWO2\nNumeric value\n\n\nWhich action plan is preferred (MC)\nAPPICK2\n1 = action plan 12 = action plan 2\n\n\nRationale for choosing the stated action plan\nAPOPEN2\nstring\n\n\n\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\n“If you could reduce electricity for two appliances…”(Choose 2):Reduce Two: Cooling (A/C)\nACREDUCTWO2\n1 = pickedMissing = not picked\n\n\nReduce Two: Heating\nHEATREDUCTWO2\n(same as ACREDUCTWO2)\n\n\nReduce Two: Water Heating\nWATERREDUCTWO2\n(same as ACREDUCTWO2)\n\n\nReduce Two: Refrigerator\nREFRIGREDUCTWO2\n(same as ACREDUCTWO2)\n\n\nReduce Two: Other\nOTHERREDUCTWO2\n(same as ACREDUCTWO2)\n\n\nImportant to reduce energy usage\nIMPORTONE2\n1 = strongly disagree2 = disagree3 = Neither agree nor disagree4 = agree5 = strongly agree\n\n\nWant to decrease energy usage\nIMPORTTWO2\n(same as IMPORTONE2)\n\n\nImportant to follow one of these plans\nIMPORTTHREE2\n(same as IMPORTONE2)\n\n\nSURVEY QUESTIONS“Did you use a calculator?”\n\n\n\n\nUsed a calculator\nMATH01\n\n\n\nUsed a paper/pen\nMATH02\n\n\n\nUsed something else\nMATH03\n\n\n\nUsed something else text entry\nMATH04\n\n\n\nENERGY LITERACY SURVEY\n\n\n\n\nDewaters and Powers 2011. Assesses participantknowledge of energy names, use, and sources\n\n\n\n\nThe amount of ELECTRICAL ENERGY(ELECTRICITY) we use is measured in units called …\nELS01\n1 = “Kilowatt (kW)”2 = “Kilowatt-hours (kWh)”3 = “British Thermal Units (BTU)”4 = “Volts (V)”5 = “Horsepower (HP)”\n\n\n\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\nThe amount of ENERGY consumed by an electrical appliance is equal to the power rating of the appliance (watts or kilowatts) …\nELS02\n1 = “Multiplied by the cost of electricity”2 = “Added to the cost of electricity”3 = “Multiplied by the time it’s used”4 = “Divided by the time it’s used”5 = “Added to the time it’s used”\n\n\nWhen you turn on an incandescent light bulb, which of the following energy conversion takes place?\nELS03\n1 = “Electrical energy to radiant energy (light)”2 = “Chemical energy to radiant energy (light)”3 = “Electrical energy to radiant energy (light) and thermal energy (heat)”4 = “Chemical energy to radiant energy (light) and thermal energy (heat)”5 = “Electrical energy to radiant energy (light) and mechanical energy”\n\n\nThe best reason to buy an ENERGY STAR® appliance is …\nELS04\n1 = “ENERGY STAR appliances are usually bigger”2 = “ENERGY STAR appliances cost more”3 = “ENERGY STAR appliances use less energy”4 = “ENERGY STAR appliances are more modern looking”5 = “ENERGY STAR appliances cost less”\n\n\nWhich uses the MOST ENERGY in the average American home in one year?\nELS05\n1 = “Refrigerating food and beverages”2 = “Washing and drying clothing”3 = “Heating and cooling rooms”4 = “Heating and cooling water”5 = “Lighting the home”\n\n\nWhich of the following items uses the MOST ELECTRICITY in the average home in one year?\nELS06\n1 = “Lights”2 = “Refrigerator”3 = “Telephone”4 = “Television”5 = “Computer”\n\n\nWhich of the following sources provides most of the ELECTRICITY in the United States?\nELS07\n1 = “Nuclear power”2 = “Burning petroleum”3 = “Burning coal”4 = “Solar energy”5 = “Water (hydro) power”\n\n\nSome people think that if we run out of fossil fuels we can just switch over to electric cars. What is wrong with this idea?\nELS08\n1 = “Most electricity is currently produced from fossil fuels (coal, oil, natural gas)”2 = “Switching to electric cars will make unemployment rates go up”3 = “It has been proven that it is impossible to build electric cars in great quantities”4 = “You can’t use electricity to operate a car”5 = “There is nothing wrong with this idea”\n\n\n\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\nDUMMY VARIABLES\n\n\n\n\nRed\nDUMMYVAR01\n1= SelectedMissing = Not selected\n\n\nBlue\nDUMMYVAR02\n\n\n\nGreen\nDUMMYVAR03\n\n\n\nYellow\nDUMMYVAR04\n\n\n\nPurple\nDUMMYVAR05\n\n\n\nOrange\nDUMMYVAR06\n\n\n\nRECLYCLING STUDY QUESTIONS\n\n\n\n\nI generally don’t pay a lot of attention to how much energy I use.\nRS01\n1 = “Agree”2 = “Somewhat Agree”3 = “Neither agree nor disagree”4 = “Somewhat Disagree”5 = “Disagree”\n\n\nI would say I am very pro-environmental.\nRS02\n(same as RS01)\n\n\nI think saving energy is largely a waste of time.\nRS03\n(same as RS01)\n\n\nI am generally conservative on the political spectrum with regard to social issues.\nRS04\n(same as RS01)\n\n\nI am generally conservative on the political spectrum with regard to economic issues.\nRS05\n(same as RS01)\n\n\nI consider myself knowledgeable about how much energy utilities such as a dishwasher or lighting use.\nRS06\n(same as RS01)\n\n\nATTARI STUDY QUESTIONS\n\n\n\n\nDo you consume more or less energy than the average individual in the United States?\nATT01\n1 = “I consume more energy than average”2 = “I consume less energy than average”3 = “I don’t know”\n\n\nDEMOGRAPHIC QUESTIONS\n\n\n\n\nGender\nDEM01\n1 = “Male”2 = “Female”3 = “Choose not to answer”\n\n\nBirth year\nDEM02\nText\n\n\nIncome\nDEM03\n1 = “Did not have an income”2 = “&lt; $20,000”3 = “$20,000 - $49,999”4 = “$50,000 - $79,999”5 = “$80,000 - $109,999”6 = “$110,000 - $139,999”7 = “$140,000 - $169,999”8 = “&gt; $170,000”9 = “Choose not to answer”\n\n\n\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\nEducation\nDEM04\n1 = “Some schooling, but no diploma or degree”2 = “Highschool diploma or GED”3 = “Some college”4 = “College degree”5 = “Some graduate school”6 = “Graduate degree”7 = “Choose not to answer”\n\n\nEmployment\nDEM05\n1 = “Employed full-time”2 = “Employed part-time”3 = “Not employed/retired”4 = “Choose note to answer”\n\n\nState\nDEM06\nText\n\n\nLength of State Residence\nDEM07\nText\n\n\nORDER VARIABLE FORMAT\n\n\n\n\nColorado/Wells Family\nCOLORADO\n1 = first2 = secondMissing = not received\n\n\nMassachusetts/Davis Family\nMASSACHUSETTS\n(same as COLORADO)\n\n\nCalifornia/Adams Family\nCALIFORNIA\n(same as COLORADO)\n\n\nTexas/Smith Family\nTEXAS\n(same as COLORADO)\n\n\nReference class received\nREFERENCECLASS\n1=USD2=kWh3=Percentage\n\n\nWas participant’s first scenario rounded?\nROUNDING1\n1=yes0=no\n\n\nWas participant’s second scenario rounded?\nROUNDING2\n(same as ROUNDING1)\n\n\nDid the participant receive the rounded scenario first or second?\nROUNDED\n1 = first2 = second\n\n\nWas participant’s first scenario a 10% reduction goal?\nTENPERCENT1\n1=yes0=no\n\n\nWas participant’s second scenario a 10% reduction goal?\nTENPERCENT2\n(same as TENPERCENT1)\n\n\nDid the participant receive the 10% reduction goal first or second?\nTENPERCENT\n1 = first2 = second",
    "crumbs": [
      "<strong>Background</strong>",
      "study 2 full info"
    ]
  },
  {
    "objectID": "background/study_info.html#relaunch-design-and-randomization",
    "href": "background/study_info.html#relaunch-design-and-randomization",
    "title": "Relaunch of Frequency and Probability Study",
    "section": "",
    "text": "In the re-launch of the frequency and probability study, the new design is a 4 state temperature (2 warm vs. 2 cold states) X 2 task goal (10% vs. 15%) X 2 last year’s usage for the family and the state average (exact vs. rounded numbers) within X 3 task reference class (USD vs. Percentage vs. kWh) between. A note on the percentage goals is that they are rounded to the full dollar. For instance, for the Davis family, 10% of their $6,943.95 cost of residential energy usage is $694.395; this is rounded to $694. For the rounded condition, participants are also told that “The numbers for their [the family’s] usage have been rounded for convenience.” In terms of randomization, blocks were combined so that there was a block for each condition and order combination. As an example, one block is the smith family with a 10% goal and rounded numbers for the family’s usage first, and the Wells family second, with a 15% goal and exact numbers for the family’s usage. Another block has these but in reverse, where the participant receives the Wells family first and the Smith family second. In total, there are 96 conditions, representing each possible order (2 orders x 4 states x 2 possible significant digit values, and 3 reference classes).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nState/Reference\n15% kWh\n10% kWh\n15% USD\n10% USD\n15% Percent\n10% Percent\n\n\n\n\nAdams / Cali\n3,401\n2,267\n$510\n$340\n15%\n10%\n\n\nSmith / Texas\n4,357\n2,905\n$479\n$320\n15%\n10%\n\n\nWells / Colorado\n5,965\n3,977\n$656\n$438\n15%\n10%\n\n\nDavis / Mass\n6,944\n4,629\n$1,042\n$694\n15%\n10%\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nState/Reference\n15% kWh\n10% kWh\n15% USD\n10% USD\n15% Percent\n10% Percent\n\n\n\n\nAdams / Cali\n3,450\n2,300\n$518\n$345\n15%\n10%\n\n\nSmith / Texas\n4,350\n2,900\n$479\n$319\n15%\n10%\n\n\nWells / Colorado\n6,000\n4,000\n$660\n$440\n15%\n10%\n\n\nDavis / Mass\n6,900\n4,600\n$1,035\n$690\n15%\n10%\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n1,289\n2,581\n3,000\n\n\nHeating\n5,597\n6,157\n6,000\n\n\nWater heating\n4,601\n5,061\n5,000\n\n\nRefrigerator\n1,055\n1,266\n1,000\n\n\nOther\n6,916\n7,608\n8,000\n\n\nTotal\n19,458\n22,673\n23,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n4,249\n6,573\n7,000\n\n\nHeating\n5,099\n6,118\n6,000\n\n\nWater heating\n4,396\n5,257\n5,000\n\n\nRefrigerator\n1,318\n2,639\n3,000\n\n\nOther\n7,883\n8,459\n8,000\n\n\nTotal\n22,945\n29,046\n29,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n498\n697\n1,000\n\n\nHeating\n16,411\n18,052\n18,000\n\n\nWater heating\n5,832\n11,667\n12,000\n\n\nRefrigerator\n1,142\n1,370\n1,000\n\n\nOther\n6,652\n7,982\n8,000\n\n\nTotal\n30,535\n39,768\n40,000\n\n\n\n\n\n\n\n\n\nSource\nState average\nExact\nRounded\n\n\n\n\nCooling\n322\n419\n0\n\n\nHeating\n19,108\n26,751\n27,000\n\n\nWater heating\n5,070\n10,543\n11,000\n\n\nRefrigerator\n1,025\n1,230\n1,000\n\n\nOther\n6,682\n7,350\n7,000\n\n\nTotal\n32,207\n46,293\n46,000",
    "crumbs": [
      "<strong>Background</strong>",
      "study 2 full info"
    ]
  },
  {
    "objectID": "background/study_info.html#numeric-representation-of-energy-consumption-information-study",
    "href": "background/study_info.html#numeric-representation-of-energy-consumption-information-study",
    "title": "Relaunch of Frequency and Probability Study",
    "section": "",
    "text": "This study seeks to examine how the type of numeric energy information given to individuals influences their ability to create an energy-saving action plan in a home. Specifically, it examines how the modality affects the accuracy of an energy-saving action plan in a family household scenario. The design is 3 modalities (percent reduction goal, absolute reduction goal in kWh, dollar reduction goal) X 6 states/families X 2 reduction goal conditions (15% and 25%). It is expected that the absolute reduction amount (kWh) action plans will be easier to complete with accuracy than the dollar reduction amount and the percentage reduction amount action plans.\nThe next step is to analyze the data from the initial study in depth. This data can then be used to inform how we make further changes to the next studies. This study included “families” from 6 states, the 3 modalities, and the 15% goal condition. The numbers for this initial study were not rounded. Due to ordering bias, the first families seen from each modality (percent, kWh, dollars) will be compared.\nFuture tasks for this study include finalizing the survey with rounded numbers in Qualtrics and copying it to make another condition in which the goal reduction number is 25%. When we have both the rounded 15% and 25% conditions, we can launch it on Amazon mTurk. These conditions will then be compared, with our hypothesis being that the 25% condition is easier for all modalities.\nHere’s the combined table converted to Markdown format:\n\n\n\n\n\n\n\n\nQuestion Description\nVariables\nValues\n\n\n\n\nConsent form\nCONSENT\n1=yes,2=no\n\n\nPRACTICE PROBLEMS\n\n\n\n\nFamily Cooling Use\nAIND01\nNumeric value\n\n\nState Cooling Average\nAIND02\nNumeric value\n\n\nFamily Heating Use\nAIND03\nNumeric value\n\n\nState Heating Average\nAIND04\nNumeric value\n\n\nFamily Water Heating Use\nAIND05\nNumeric value\n\n\nFamily Water Heating Average\nAIND06\nNumeric value\n\n\nFamily Total kWh Use\nAIND07\nNumeric value\n\n\nFamily Total kWh Average\nAIND08\nNumeric value\n\n\nCooling Action Plan 1\nAIND09\nNumeric value\n\n\nCooling Action Plan 2\nAIND10\nNumeric value\n\n\nHeating Action Plan 1\nAIND11\nNumeric value\n\n\nHeating Action Plan 2\nAIND12\nNumeric value\n\n\nWater Heating Action Plan 1\nAIND13\nNumeric value\n\n\nWater Heating Action Plan 2\nAIND14\nNumeric value\n\n\nTotal kWh Action Plan 1\nAIND15\nNumeric value\n\n\nTotal kWh Action Plan 2\nAIND16\nNumeric value\n\n\nFIRST SCENARIO RECEIVED\n\n\n\n\nWhich appliance uses the most energy?\nMENERGY1\n1 = A/C2 = Heating3 = Water heating4 = Refrigerator5 = Other\n\n\nRanking of each appliance by energy usage\n\n\n\n\nA/C ranking\nACRANK1\n1 = most kWh used;2; 3; 4;5 = least kWh used\n\n\nHeat ranking\nHEATRANK1\n(same as ACRANK1)\n\n\nWater ranking\nWATERRANK1\n(same as ACRANK1)\n\n\nRefrigerator ranking\nREFRIGRANK1\n(same as ACRANK1)\n\n\nOther ranking\nOTHERRANK1\n(same as ACRANK1)\n\n\nFamily Cooling Use\nACFAMILY1\nNumeric value\n\n\nState Cooling Average\nACSTATE1\nNumeric value\n\n\nCooling Action Plan 1\nACAPONE1\nNumeric value\n\n\nCooling Action Plan 2\nACAPTWO1\nNumeric value\n\n\nFamily Heating Use\nHEATFAMILY1\nNumeric value\n\n\nState Heating Average\nHEATSTATE1\nNumeric value\n\n\nHeating Action Plan 1\nHEATAPONE1\nNumeric value\n\n\nHeating Action Plan 2\nHEATAPTWO1\nNumeric value\n\n\nFamily Water Heating Use\nWATERFAMILY1\nNumeric value\n\n\nFamily Water Heating Average\nWATERSTATE1\nNumeric value\n\n\nWater Heating Action Plan 1\nWATERAPONE1\nNumeric value\n\n\nWater Heating Action Plan 2\nWATERAPTWO1\nNumeric value\n\n\nFamily Refrigerator Use\nREFRIGFAMILY1\nNumeric value\n\n\nFamily Refrigerator Average\nREFRIGSTATE1\nNumeric value\n\n\nRefrigerator Action Plan 1\nREFRIGAPONE1\nNumeric value\n\n\nRefrigerator Action Plan 2\nREFRIGAPTWO1\nNumeric value\n\n\nFamily Other Appliance Use\nOTHERFAMILY1\nNumeric value\n\n\nFamily Other Appliance Average\nOTHERSTATE1\nNumeric value\n\n\nOther Appliance Action Plan 1\nOTHERAPONE1\nNumeric value\n\n\nOther Appliance Action Plan 2\nOTHERAPTWO1\nNumeric value\n\n\nFamily Total kWh Use\nTOTALFAMILY1\nNumeric value\n\n\nFamily Total kWh Average\nTOTALSTATE1\nNumeric value\n\n\nTotal kWh Action Plan 1\nTOTALAPONE1\nNumeric value\n\n\nTotal kWh Action Plan 2\nTOTALAPTWO1\nNumeric value\n\n\nWhich action plan is preferred (MC)\nAPPICK1\n1 = action plan 12 = action plan 2\n\n\nRationale for choosing the stated action plan\nAPOPEN1\nstring\n\n\n“If you could reduce electricity for two appliances…”(Choose 2):Reduce Two: Cooling (A/C)\nACREDUCTWO1\n1 = pickedMissing = not picked\n\n\nReduce Two: Heating\nHEATREDUCTWO1\n(same as ACREDUCTWO1)\n\n\nReduce Two: Water Heating\nWATERREDUCTWO1\n(same as ACREDUCTWO1)\n\n\nReduce Two: Refrigerator\nREFRIGREDUCTWO1\n(same as ACREDUCTWO1)\n\n\nReduce Two: Other\nOTHERREDUCTWO1\n(same as ACREDUCTWO1)\n\n\nImportant to reduce energy usage\nIMPORTONE1\n1 = strongly disagree2 = disagree3 = Neither agree nor disagree4 = agree5 = strongly agree\n\n\nWant to decrease energy usage\nIMPORTTWO1\n(same as IMPORTONE1)\n\n\nImportant to follow one of these plans\nIMPORTTHREE1\n(same as IMPORTONE1)\n\n\n\n\n\n\n\n\n\n\n\nSECOND SCENARIO RECEIVED\n\n\n\n\n\n\nWhich appliance uses the most energy?\nMENERGY2\n1 = A/C2 = Heating3 = Water heating4 = Refrigerator5 = Other\n\n\nRanking of each appliance by energy usage\n\n\n\n\nA/C ranking\nACRANK2\n1 = most kWh used;2; 3; 4;5 = least kWh used\n\n\nHeat ranking\nHEATRANK2\n\n\n\nWater ranking\nWATERRANK2\n\n\n\nRefrigerator ranking\nREFRIGRANK2\n\n\n\nOther ranking\nOTHERRANK2\n\n\n\nFamily Cooling Use\nACFAMILY2\nNumeric value\n\n\nState Cooling Average\nACSTATE2\nNumeric value\n\n\nCooling Action Plan 1\nACAPONE2\nNumeric value\n\n\nCooling Action Plan 2\nACAPTWO2\nNumeric value\n\n\nFamily Heating Use\nHEATFAMILY2\nNumeric value\n\n\nState Heating Average\nHEATSTATE2\nNumeric value\n\n\nHeating Action Plan 1\nHEATAPONE2\nNumeric value\n\n\nHeating Action Plan 2\nHEATAPTWO2\nNumeric value\n\n\nFamily Water Heating Use\nWATERFAMILY2\nNumeric value\n\n\nFamily Water Heating Average\nWATERSTATE2\nNumeric value\n\n\nWater Heating Action Plan 1\nWATERAPONE2\nNumeric value\n\n\nWater Heating Action Plan 2\nWATERAPTWO2\nNumeric value\n\n\nFamily Refrigerator Use\nREFRIGFAMILY2\nNumeric value\n\n\nFamily Refrigerator Average\nREFRIGSTATE2\nNumeric value\n\n\nRefrigerator Action Plan 1\nREFRIGAPONE2\nNumeric value\n\n\nRefrigerator Action Plan 2\nREFRIGAPTWO2\nNumeric value\n\n\nFamily Other Appliance Use\nOTHERFAMILY2\nNumeric value\n\n\nFamily Other Appliance Average\nOTHERSTATE2\nNumeric value\n\n\nOther Appliance Action Plan 1\nOTHERAPONE2\nNumeric value\n\n\nOther Appliance Action Plan 2\nOTHERAPTWO2\nNumeric value\n\n\nFamily Total kWh Use\nTOTALFAMILY2\nNumeric value\n\n\nFamily Total kWh Average\nTOTALSTATE2\nNumeric value\n\n\nTotal kWh Action Plan 1\nTOTALAPONE2\nNumeric value\n\n\nTotal kWh Action Plan 2\nTOTALAPTWO2\nNumeric value\n\n\nWhich action plan is preferred (MC)\nAPPICK2\n1 = action plan 12 = action plan 2\n\n\nRationale for choosing the stated action plan\nAPOPEN2\nstring\n\n\n\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\n“If you could reduce electricity for two appliances…”(Choose 2):Reduce Two: Cooling (A/C)\nACREDUCTWO2\n1 = pickedMissing = not picked\n\n\nReduce Two: Heating\nHEATREDUCTWO2\n(same as ACREDUCTWO2)\n\n\nReduce Two: Water Heating\nWATERREDUCTWO2\n(same as ACREDUCTWO2)\n\n\nReduce Two: Refrigerator\nREFRIGREDUCTWO2\n(same as ACREDUCTWO2)\n\n\nReduce Two: Other\nOTHERREDUCTWO2\n(same as ACREDUCTWO2)\n\n\nImportant to reduce energy usage\nIMPORTONE2\n1 = strongly disagree2 = disagree3 = Neither agree nor disagree4 = agree5 = strongly agree\n\n\nWant to decrease energy usage\nIMPORTTWO2\n(same as IMPORTONE2)\n\n\nImportant to follow one of these plans\nIMPORTTHREE2\n(same as IMPORTONE2)\n\n\nSURVEY QUESTIONS“Did you use a calculator?”\n\n\n\n\nUsed a calculator\nMATH01\n\n\n\nUsed a paper/pen\nMATH02\n\n\n\nUsed something else\nMATH03\n\n\n\nUsed something else text entry\nMATH04\n\n\n\nENERGY LITERACY SURVEY\n\n\n\n\nDewaters and Powers 2011. Assesses participantknowledge of energy names, use, and sources\n\n\n\n\nThe amount of ELECTRICAL ENERGY(ELECTRICITY) we use is measured in units called …\nELS01\n1 = “Kilowatt (kW)”2 = “Kilowatt-hours (kWh)”3 = “British Thermal Units (BTU)”4 = “Volts (V)”5 = “Horsepower (HP)”\n\n\n\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\nThe amount of ENERGY consumed by an electrical appliance is equal to the power rating of the appliance (watts or kilowatts) …\nELS02\n1 = “Multiplied by the cost of electricity”2 = “Added to the cost of electricity”3 = “Multiplied by the time it’s used”4 = “Divided by the time it’s used”5 = “Added to the time it’s used”\n\n\nWhen you turn on an incandescent light bulb, which of the following energy conversion takes place?\nELS03\n1 = “Electrical energy to radiant energy (light)”2 = “Chemical energy to radiant energy (light)”3 = “Electrical energy to radiant energy (light) and thermal energy (heat)”4 = “Chemical energy to radiant energy (light) and thermal energy (heat)”5 = “Electrical energy to radiant energy (light) and mechanical energy”\n\n\nThe best reason to buy an ENERGY STAR® appliance is …\nELS04\n1 = “ENERGY STAR appliances are usually bigger”2 = “ENERGY STAR appliances cost more”3 = “ENERGY STAR appliances use less energy”4 = “ENERGY STAR appliances are more modern looking”5 = “ENERGY STAR appliances cost less”\n\n\nWhich uses the MOST ENERGY in the average American home in one year?\nELS05\n1 = “Refrigerating food and beverages”2 = “Washing and drying clothing”3 = “Heating and cooling rooms”4 = “Heating and cooling water”5 = “Lighting the home”\n\n\nWhich of the following items uses the MOST ELECTRICITY in the average home in one year?\nELS06\n1 = “Lights”2 = “Refrigerator”3 = “Telephone”4 = “Television”5 = “Computer”\n\n\nWhich of the following sources provides most of the ELECTRICITY in the United States?\nELS07\n1 = “Nuclear power”2 = “Burning petroleum”3 = “Burning coal”4 = “Solar energy”5 = “Water (hydro) power”\n\n\nSome people think that if we run out of fossil fuels we can just switch over to electric cars. What is wrong with this idea?\nELS08\n1 = “Most electricity is currently produced from fossil fuels (coal, oil, natural gas)”2 = “Switching to electric cars will make unemployment rates go up”3 = “It has been proven that it is impossible to build electric cars in great quantities”4 = “You can’t use electricity to operate a car”5 = “There is nothing wrong with this idea”\n\n\n\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\nDUMMY VARIABLES\n\n\n\n\nRed\nDUMMYVAR01\n1= SelectedMissing = Not selected\n\n\nBlue\nDUMMYVAR02\n\n\n\nGreen\nDUMMYVAR03\n\n\n\nYellow\nDUMMYVAR04\n\n\n\nPurple\nDUMMYVAR05\n\n\n\nOrange\nDUMMYVAR06\n\n\n\nRECLYCLING STUDY QUESTIONS\n\n\n\n\nI generally don’t pay a lot of attention to how much energy I use.\nRS01\n1 = “Agree”2 = “Somewhat Agree”3 = “Neither agree nor disagree”4 = “Somewhat Disagree”5 = “Disagree”\n\n\nI would say I am very pro-environmental.\nRS02\n(same as RS01)\n\n\nI think saving energy is largely a waste of time.\nRS03\n(same as RS01)\n\n\nI am generally conservative on the political spectrum with regard to social issues.\nRS04\n(same as RS01)\n\n\nI am generally conservative on the political spectrum with regard to economic issues.\nRS05\n(same as RS01)\n\n\nI consider myself knowledgeable about how much energy utilities such as a dishwasher or lighting use.\nRS06\n(same as RS01)\n\n\nATTARI STUDY QUESTIONS\n\n\n\n\nDo you consume more or less energy than the average individual in the United States?\nATT01\n1 = “I consume more energy than average”2 = “I consume less energy than average”3 = “I don’t know”\n\n\nDEMOGRAPHIC QUESTIONS\n\n\n\n\nGender\nDEM01\n1 = “Male”2 = “Female”3 = “Choose not to answer”\n\n\nBirth year\nDEM02\nText\n\n\nIncome\nDEM03\n1 = “Did not have an income”2 = “&lt; $20,000”3 = “$20,000 - $49,999”4 = “$50,000 - $79,999”5 = “$80,000 - $109,999”6 = “$110,000 - $139,999”7 = “$140,000 - $169,999”8 = “&gt; $170,000”9 = “Choose not to answer”\n\n\n\n\n\n\n\n\n\n\n\nQuestion\nVariable\nValues\n\n\n\n\nEducation\nDEM04\n1 = “Some schooling, but no diploma or degree”2 = “Highschool diploma or GED”3 = “Some college”4 = “College degree”5 = “Some graduate school”6 = “Graduate degree”7 = “Choose not to answer”\n\n\nEmployment\nDEM05\n1 = “Employed full-time”2 = “Employed part-time”3 = “Not employed/retired”4 = “Choose note to answer”\n\n\nState\nDEM06\nText\n\n\nLength of State Residence\nDEM07\nText\n\n\nORDER VARIABLE FORMAT\n\n\n\n\nColorado/Wells Family\nCOLORADO\n1 = first2 = secondMissing = not received\n\n\nMassachusetts/Davis Family\nMASSACHUSETTS\n(same as COLORADO)\n\n\nCalifornia/Adams Family\nCALIFORNIA\n(same as COLORADO)\n\n\nTexas/Smith Family\nTEXAS\n(same as COLORADO)\n\n\nReference class received\nREFERENCECLASS\n1=USD2=kWh3=Percentage\n\n\nWas participant’s first scenario rounded?\nROUNDING1\n1=yes0=no\n\n\nWas participant’s second scenario rounded?\nROUNDING2\n(same as ROUNDING1)\n\n\nDid the participant receive the rounded scenario first or second?\nROUNDED\n1 = first2 = second\n\n\nWas participant’s first scenario a 10% reduction goal?\nTENPERCENT1\n1=yes0=no\n\n\nWas participant’s second scenario a 10% reduction goal?\nTENPERCENT2\n(same as TENPERCENT1)\n\n\nDid the participant receive the 10% reduction goal first or second?\nTENPERCENT\n1 = first2 = second",
    "crumbs": [
      "<strong>Background</strong>",
      "study 2 full info"
    ]
  },
  {
    "objectID": "mpa/mpa_abstract.html",
    "href": "mpa/mpa_abstract.html",
    "title": "MPA abstract",
    "section": "",
    "text": "Energy poverty continues to be a pervasive issue in the United States Memmott et al. (2021) . This challenge partly arises from difficulties in converting information across numerical formats, impeding the development of precise energy reduction plans Reimer et al. (2015). Prior research by Canfield et al. (2017) demonstrated that presenting energy information in tabular formats enhances comprehension relative to graphs. Building on these findings and informed by prior work showing that frequencies (like absolute units in kWh) are easier to comprehend and facilitate more precise decision-making compared to percentages, our study also utilizes a tabular format, but manipulates whether participants must consider energy information presented as absolute units (kWh), percentages (%), or monetary costs (USD). We hypothesize that presenting information in absolute units (kWh) will lead to more accurate household energy conservation planning.\n\n\n\nWe conducted two experiments. Study 1 (N=235) manipulated representation format (kWh, percentage, USD) between subjects. Participants crafted plans to meet specific reduction targets by adjusting the energy usage across five appliance categories. Study 2 (N=196) includes additional factors: rounding (rounded vs. exact numbers) and task goal (10% vs. 15% reduction).\n\n\n\nWe analyzed planning accuracy using Bayesian ordinal regression. The dependent variable, plan error, was computed by binning the goal deviation into four ordered levels: exact match (0% error), minor deviations (0.01-2% error), moderate deviations (2.01-15% error), and major deviations (&gt;15% error). For each comparison, we provide posterior odds ratios (OR) and their 95% CIs.\nIn Study 1, the absolute units (kWh) condition was significantly more accurate than USD (OR = 14.1, 95% CI [4.1, 38.0]). The comparison between kWh and percentage formats was less conclusive (OR = 2.3, 95% CI [0.62, 6.1]). Study 2 replicated these patterns: planning accuracy was significantly higher for kWh compared to USD (OR = 3.69, 95% CI [1.33, 8.29]), while the advantage over percentages remained uncertain (OR = 1.99, 95% CI [0.73, 4.43]). Study 2 also revealed that rounded numbers significantly improved planning accuracy compared to exact numbers (OR = 0.70, 95% CI [0.57, 0.84]), and that 10% goals led to more accurate planning than 15% goals (OR = 0.78, 95% CI [0.63, 0.94]).\n\n\n\nThese findings underscore the efficacy of presenting energy reduction goals in absolute units (kWh) over relative (%) or monetary (USD) formats in facilitating accurate energy planning. Specifically, the USD format consistently hindered accuracy. Additionally, simplifying numerical information through rounding significantly enhanced accuracy.\n\n\n\nThis study examines how presenting energy information in different formats (kWh, %, USD) affects planning accuracy. Across two experiments, the kWh format generally led to better accuracy, while the USD format consistently led to the worst performance. These findings highlight the importance of effective information presentation to promote energy conservation.",
    "crumbs": [
      "<strong>Paper</strong>",
      "MPA"
    ]
  },
  {
    "objectID": "paper.html",
    "href": "paper.html",
    "title": "Representation Project",
    "section": "",
    "text": "HTML\n   \n  \n  \n   HTML (new window)\n  \n\n  \n   PDF\n   \n  \n  \n   PDF (download)",
    "crumbs": [
      "<strong>Paper</strong>",
      "Manuscript"
    ]
  },
  {
    "objectID": "mpa/mpa_abstract.html#purpose",
    "href": "mpa/mpa_abstract.html#purpose",
    "title": "MPA abstract",
    "section": "",
    "text": "Energy poverty continues to be a pervasive issue in the United States Memmott et al. (2021) . This challenge partly arises from difficulties in converting information across numerical formats, impeding the development of precise energy reduction plans Reimer et al. (2015). Prior research by Canfield et al. (2017) demonstrated that presenting energy information in tabular formats enhances comprehension relative to graphs. Building on these findings and informed by prior work showing that frequencies (like absolute units in kWh) are easier to comprehend and facilitate more precise decision-making compared to percentages, our study also utilizes a tabular format, but manipulates whether participants must consider energy information presented as absolute units (kWh), percentages (%), or monetary costs (USD). We hypothesize that presenting information in absolute units (kWh) will lead to more accurate household energy conservation planning.",
    "crumbs": [
      "<strong>Paper</strong>",
      "MPA"
    ]
  },
  {
    "objectID": "mpa/mpa_abstract.html#purpose-1",
    "href": "mpa/mpa_abstract.html#purpose-1",
    "title": "MPA abstract",
    "section": "",
    "text": "We conducted two experiments. Study 1 (N=235) manipulated representation format (kWh, percentage, USD) between subjects. Participants crafted plans to meet specific reduction targets by adjusting the energy usage across five appliance categories. Study 2 (N=196) includes additional factors: rounding (rounded vs. exact numbers) and task goal (10% vs. 15% reduction).",
    "crumbs": [
      "<strong>Paper</strong>",
      "MPA"
    ]
  },
  {
    "objectID": "mpa/mpa_abstract.html#results",
    "href": "mpa/mpa_abstract.html#results",
    "title": "MPA abstract",
    "section": "",
    "text": "We analyzed planning accuracy using Bayesian ordinal regression. The dependent variable, plan error, was computed by binning the goal deviation into four ordered levels: exact match (0% error), minor deviations (0.01-2% error), moderate deviations (2.01-15% error), and major deviations (&gt;15% error). For each comparison, we provide posterior odds ratios (OR) and their 95% CIs.\nIn Study 1, the absolute units (kWh) condition was significantly more accurate than USD (OR = 14.1, 95% CI [4.1, 38.0]). The comparison between kWh and percentage formats was less conclusive (OR = 2.3, 95% CI [0.62, 6.1]). Study 2 replicated these patterns: planning accuracy was significantly higher for kWh compared to USD (OR = 3.69, 95% CI [1.33, 8.29]), while the advantage over percentages remained uncertain (OR = 1.99, 95% CI [0.73, 4.43]). Study 2 also revealed that rounded numbers significantly improved planning accuracy compared to exact numbers (OR = 0.70, 95% CI [0.57, 0.84]), and that 10% goals led to more accurate planning than 15% goals (OR = 0.78, 95% CI [0.63, 0.94]).",
    "crumbs": [
      "<strong>Paper</strong>",
      "MPA"
    ]
  },
  {
    "objectID": "mpa/mpa_abstract.html#conclusions-and-implications",
    "href": "mpa/mpa_abstract.html#conclusions-and-implications",
    "title": "MPA abstract",
    "section": "",
    "text": "These findings underscore the efficacy of presenting energy reduction goals in absolute units (kWh) over relative (%) or monetary (USD) formats in facilitating accurate energy planning. Specifically, the USD format consistently hindered accuracy. Additionally, simplifying numerical information through rounding significantly enhanced accuracy.",
    "crumbs": [
      "<strong>Paper</strong>",
      "MPA"
    ]
  },
  {
    "objectID": "mpa/mpa_abstract.html#word-abstract-for-program-book",
    "href": "mpa/mpa_abstract.html#word-abstract-for-program-book",
    "title": "MPA abstract",
    "section": "",
    "text": "This study examines how presenting energy information in different formats (kWh, %, USD) affects planning accuracy. Across two experiments, the kWh format generally led to better accuracy, while the USD format consistently led to the worst performance. These findings highlight the importance of effective information presentation to promote energy conservation.",
    "crumbs": [
      "<strong>Paper</strong>",
      "MPA"
    ]
  }
]